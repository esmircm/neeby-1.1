!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){function config($routeProvider,$locationProvider,$compileProvider,$httpProvider){$routeProvider.otherwise({redirectTo:"/"}),$locationProvider.html5Mode(!0),$locationProvider.hashPrefix("!"),$compileProvider.debugInfoEnabled(!1),$httpProvider.useApplyAsync(!0)}function init(){router.init(app)}var router=require("./core/router"),app=angular.module("workshape",["ngCookies","ngResource","ngSanitize","ngRoute","ui.radialplot","ngProgress","angularFileUpload","angular-tour","angular-cache","btford.markdown","btford.socket-io","ngAutocomplete"]);app.config(config),init(),module.exports=app},{"./core/router":88}],2:[function(require,module,exports){var WS_CONFIG=window.WS_CONFIG||{};module.exports={DEBUG:WS_CONFIG.DEBUG||!1,MOBILE:/Android|iPhone|iPad|iPod|BlackBerry|Windows Phone/i.test(navigator.userAgent||navigator.vendor||window.opera),PRODUCTION:WS_CONFIG.PRODUCTION||!1,INTERCOM_KEY:WS_CONFIG.PRODUCTION?"g27v22bk":"itrpmde2",STRIPE_KEY:WS_CONFIG.PRODUCTION?"pk_live_54XuJ6jaPrt1OZwWxhE6yDhE":"pk_test_7iAuFomj7Vm2uRGG94XsponZ",HEADER_HEIGHT:80,FOOTER_HEIGHT:0,ACTION_BAR_OFFSET:34,MOBILE_BREAK:480}},{}],3:[function(require,module,exports){var resolvers=require("../../resolvers/index");module.exports=function($scope,Password,Future,session,Modal,Account,Session,$location){function init(){populateFuture(),$scope.isGithubUser=isGithubUser(),$scope.$watch("availability.available",availabilityChange),$scope.$watch("passwordChange",passwordChange,!0)}function deleteAccount(confirmed){return confirmed?($scope.accountDeletion.error=null,$scope.accountDeletion.loading=!0,void new Account({id:session.account_id}).$delete(function(){Session.signout(),$location.path("/"),Modal.open("alert",{title:"Account Deleted",text:"Your account was successfully deleted - You'll be now logged out"})},function(res){$scope.accountDeletion.error=res.data.error,$scope.accountDeletion.loading=!1})):Modal.open("confirm",{title:"Delete my account",text:"Please confirm you want to permanently delete your account"}).then(function(confirmed){confirmed&&deleteAccount(!0)})}function isGithubUser(){return"person"===session.type&&session.person.github&&Object.keys(session.person.github).length}function populateFuture(){"person"===session.type?Future.getPersonFuture({id:session.person.id},function(future){$scope.future=future,$scope.availability.available=future.available||!1}):$scope.future={}}function availabilityChange(newVal,oldVal){if("undefined"!=typeof oldVal&&"undefined"!=typeof newVal){$scope.future.available=newVal;var oldSkills=angular.copy($scope.future.skills);$scope.future.$save(function(x){$scope.future=x,$scope.future.skills=oldSkills})}}function passwordChange(){$scope.passwordChange.valid=validatePasswordChange()}function onPasswordChangeChange(){$scope.passwordChange.error=null}function validatePasswordChange(setError){var form=$scope.passwordChange;return form.oldPassword&&form.newPassword&&form.repeatPassword?form.newPassword!==form.repeatPassword?(setError&&(form.error="New password confirmation doesn't match"),!1):!0:(setError&&(form.error="All fields must be filled"),!1)}function submitPasswordChange(){var oldPassword=$scope.passwordChange.oldPassword,newPassword=$scope.passwordChange.newPassword,accountId=session.account_id;$scope.passwordChange.valid=validatePasswordChange(!0),$scope.passwordChange.valid&&Password.change(accountId,oldPassword,newPassword).success(function(){$scope.passwordChange.error=null,$scope.passwordChange.success=!0}).error(function(res){$scope.passwordChange.error=res.error})}$scope.session=session,$scope.availability={available:void 0},$scope.deleteAccount=deleteAccount,$scope.passwordChange={valid:!1,oldPassword:null,newPassword:null,repeatPassword:null,submit:submitPasswordChange,validate:validatePasswordChange,error:null,success:!1,onChange:onPasswordChangeChange},$scope.accountDeletion={error:null},init()},module.exports.resolve={session:resolvers.session},module.exports.$inject=["$scope","Password","Future","session","Modal","Account","Session","$location"]},{"../../resolvers/index":142}],4:[function(require,module,exports){module.exports=function($routeParams,AdministratorTools,Modal){var vm=this,tabs=["emailer","sent-list","template-builder"],defaultEmailTemplate="";vm.existingTemplateKey="";var blankTemplate={id:null,batchName:"",path:"",title:"",template:""};vm.tab=tabs[0],$routeParams.path&&tabs.indexOf($routeParams.path)>-1&&(vm.tab=tabs[tabs.indexOf($routeParams.path)]),vm.email={},vm.email.templateKey=angular.copy(defaultEmailTemplate),vm.email.title="",vm.email.template="",vm.email.batchName="",vm.email.path="",vm.email.filter='{"type":"person"}',vm.email.limit=10,vm.sending=!1,vm.saving=!1,vm.emailsSent={search:"",results:[]},vm.template=angular.copy(blankTemplate),vm.templates=AdministratorTools.getTemplates(),vm.updateTemplateToUse=function(){if(console.log("updateTemplateToUse"),vm.email.templateKey&&""!==vm.email.templateKey){var templateToUse=null;vm.templates.forEach(function(tmpl){tmpl.id===vm.email.templateKey&&(templateToUse=tmpl)}),vm.email.template=angular.copy(templateToUse.template),vm.email.batchName=angular.copy(templateToUse.batchName),vm.email.path=angular.copy(templateToUse.path),vm.email.title=angular.copy(templateToUse.title)}else vm.email.template=angular.copy(blankTemplate.template),vm.email.batchName=angular.copy(blankTemplate.batchName),vm.email.path=angular.copy(blankTemplate.path),vm.email.title=angular.copy(blankTemplate.title)},vm.updateTemplateInView=function(){if(vm.existingTemplateKey&&""!==vm.existingTemplateKey){var templateToView=null;vm.templates.forEach(function(tmpl){tmpl.id===vm.existingTemplateKey&&(templateToView=tmpl)}),console.log("ttv",templateToView,vm.existingTemplateKey),vm.template=templateToView}else vm.template=angular.copy(blankTemplate)},vm.lookupEmailsSent=function(getAll){if(!(vm.emailsSent.search.length<3)||getAll){var lookup={};vm.emailsSent.search.length>=3&&(lookup.type=vm.emailsSent.search),AdministratorTools.getSent(lookup,function(response){vm.emailsSent.results=response})}},vm.saveTemplate=function(){return 0===vm.template.template.length||0===vm.template.title.length||0===vm.template.batchName.length?void(vm.sendingError="You must specify all fields!"):(vm.saving=!0,void(""!=vm.template.id&&vm.template.id?AdministratorTools.updateTemplate(vm.template,function(){vm.template=angular.copy(blankTemplate),vm.saving=!1,vm.templates=AdministratorTools.getTemplates()}):AdministratorTools.createTemplate(vm.template,function(){vm.template=angular.copy(blankTemplate),vm.saving=!1,vm.templates=AdministratorTools.getTemplates()})))},vm.deleteTemplate=function(id){AdministratorTools.deleteTemplate({id:id},function(){vm.templates=AdministratorTools.getTemplates()})},vm.sendEmailBatch=function(){return 0===vm.email.template.length||0===vm.email.title.length||0===vm.email.batchName.length||0===vm.email.filter.length||parseInt(vm.email.limit,10)<1?void(vm.sendingError="You must specify all fields!"):(vm.sendingError=null,vm.sending=!0,void AdministratorTools.sendEmailBatch(vm.email,function(response){console.log("Sent emails!"),vm.sending=!1,vm.lookupEmailsSent()}))},AdministratorTools.getSent({},function(response){vm.emailsSent.results=response})},module.exports.$inject=["$routeParams","AdministratorTools","Modal"]},{}],5:[function(require,module,exports){var socialIcons=require("../../../shared/social-icons.json");module.exports=function(Interest){function init(){Interest.query(function(records){records.forEach(processSocialData),vm.records=records,vm.loaded=!0})}function accept(record){Interest.approve({email:record.email},function(){record.status="approved"})}function deny(record){Interest.reject({email:record.email},function(){record.status="rejected"})}function processSocialData(row){var orgs,fullContact=row.full_contact,info={};return fullContact&&200===fullContact.status?(orgs=fullContact?fullContact.organizations:[],info.name=fullContact.contactInfo?fullContact.contactInfo.fullName||null:null,info.social=fullContact.socialProfiles||null,info.social&&(info.social=info.social.filter(function(social){return-1!==socialIcons.indexOf(social.type)})),void(row.socialData=info)):void(row.socialData=null)}var vm=this;vm.loaded=!1,vm.accept=accept,vm.deny=deny,init()},module.exports.$inject=["Interest"]},{"../../../shared/social-icons.json":220}],6:[function(require,module,exports){var _=require("lodash");module.exports=function(Skill,Modal){function updateCount(){var params={};vm.skillLookup.search.length>0&&(params.search=vm.skillLookup.search.toLowerCase()),Skill.count(params,function(res){vm.total=res.count})}function lookup(){var params={limit:vm.pageSize,offset:vm.offset};vm.skillLookup.search.length>0&&(params.search=vm.skillLookup.search.toLowerCase()),Skill.query(params,function(response){vm.skillLookup.results=response,updateCount()})}var vm=this,BLANK_SKILL={name:"",stem:null,promoted:!1};vm.pageSize=10,vm.offset=0,vm.newSkill=_.assign({},BLANK_SKILL),vm.skillInEdit=null,vm.mergeCandidate=null,vm.baseCandidate=null,vm.merging=!1,vm.creating=!1,vm.editing=!1,vm.updating=!1,vm.getPreviousPage=function(){0!==vm.offset&&(vm.offset=vm.offset-vm.pageSize,lookup())},vm.getNextPage=function(){vm.offset+vm.pageSize>vm.total||(vm.offset=vm.offset+vm.pageSize,lookup())},vm.skillLookup={search:"",results:Skill.query({limit:vm.pageSize,offset:vm.offset})},updateCount(),vm.lookupSkill=function(){vm.offset=0,lookup()},vm.createSkill=function(){if(vm.newSkill.name&&vm.newSkill.stem){vm.creating=!0;var s=new Skill;s.name=vm.newSkill.name,s.stem=vm.newSkill.stem.toLowerCase(),vm.newSkill.promoted&&(s.promoted=1),s.$save(function(createdSkill){vm.creating=!1,vm.newSkill=_.assign({},BLANK_SKILL),vm.skillLookup.results.push(createdSkill)},function(e){vm.creating=!1,Modal.open("alert",{title:"Error",text:"Something went wrong!"})})}},vm.editSkill=function(skill){vm.editing=!0,vm.skillInEdit=skill,vm.skillInEdit.promotedVal=1===vm.skillInEdit.promoted},vm.cancelEditSkill=function(skill){vm.editing=!1,vm.skillInEdit=null},vm.updateSkill=function(){vm.skillInEdit.name&&vm.skillInEdit.stem&&Modal.open("confirm",{title:"Are you sure?",text:"Please confirm that you want to update "+vm.skillInEdit.name+".\n\nThis will update any workshapes that use this skill and potentially trigger/remove matches"}).then(function(outcome){outcome?(vm.updating=!0,vm.skillInEdit.stem.toLowerCase(),vm.skillInEdit.promoted=vm.skillInEdit.promotedVal?1:0,delete vm.skillInEdit.promotedVal,delete vm.skillInEdit.usage,delete vm.skillInEdit.created,vm.skillInEdit.$save(function(response){vm.updating=!1,vm.editing=!1;var baseId=vm.skillLookup.results.findIndex(function(row){return row.id===vm.skillInEdit.id});vm.skillLookup.results[baseId]=response,vm.skillInEdit=null},function(e){vm.updating=!1,Modal.open("alert",{title:"Error",text:"Something went wrong!"})})):(vm.skillInEdit=null,vm.updating=!1,vm.editing=!1)})},vm.setAsMergeCandidate=function(skill){vm.mergeCandidate=skill},vm.setAsBaseCandidate=function(skill){vm.baseCandidate=skill,Modal.open("confirm",{title:"Are you sure?",text:"Plase confirm that you want to merge "+vm.mergeCandidate.name+" into "+vm.baseCandidate.name+".\n\nThis will delete this skill, update any workshapes that use the merged skill and potentially trigger/remove matches"}).then(function(response){response?(vm.merging=!0,Skill.merge({baseId:vm.baseCandidate.id,mergeId:vm.mergeCandidate.id},function(response){vm.merging=!1,vm.skillLookup.results=vm.skillLookup.results.filter(function(row){return row.id!==vm.mergeCandidate.id});var baseId=vm.skillLookup.results.findIndex(function(row){return row.id===vm.baseCandidate.id});vm.skillLookup.results[baseId]=response,vm.baseCandidate=null,vm.mergeCandidate=null})):(vm.baseCandidate=null,vm.mergeCandidate=null)})}},module.exports.$inject=["Skill","Modal"]},{lodash:256}],7:[function(require,module,exports){require("lodash");module.exports=function($routeParams,SubscriptionPlan,SubscriptionCoupon,Modal){function init(){resetNewPlan(),resetNewCoupon(),getPlans(),getCoupons()}function resetNewPlan(){vm.newPlan=new SubscriptionPlan,Object.keys(BLANK_PLAN).forEach(function(key){vm.newPlan[key]=BLANK_PLAN[key]})}function resetNewCoupon(){vm.newCoupon=new SubscriptionCoupon,Object.keys(BLANK_COUPON).forEach(function(key){vm.newCoupon[key]=BLANK_COUPON[key]})}function getPlans(){SubscriptionPlan.query({},function(response){vm.plans=response})}function getCoupons(){SubscriptionCoupon.query({},function(response){vm.coupons=response})}var BLANK_PLAN={name:null,key:null,order:null,live:!1,highlighted:!1,premium_profile:!1,support_line:!1,cloak_public:!1,recruiter_seats:1,concurrent_jobs:1,cost:{usd:{monthly:0,yearly:0},gbp:{monthly:0,yearly:0},eur:{monthly:0,yearly:0}}},BLANK_COUPON={name:null,key:null,percent_off:0,duration:"once",duration_in_months:null,expiry_days:null,max_redemptions:100},vm=this,tabs=["plans","coupons","list"];vm.tab=tabs[0],vm.planInEdit=null,vm.updatingPlan=!1,vm.creatingPlan=!1,vm.deletingPlan=!1,vm.couponInEdit=null,vm.updatingCoupon=!1,vm.creatingCoupon=!1,vm.deletingCoupon=!1,$routeParams.path&&tabs.indexOf($routeParams.path)>-1&&(vm.tab=tabs[tabs.indexOf($routeParams.path)]),vm.createPlan=function(){vm.creatingPlan=!0,vm.newPlan.$save(function(){resetNewPlan(),vm.creatingPlan=!1,getPlans()})},vm.editPlan=function(id){vm.planInEdit=vm.plans.find(function(row){return row.id===id})},vm.updatePlan=function(id){vm.updatingPlan=!0,vm.planInEdit.$save(function(){vm.planInEdit=null,vm.updatingPlan=!1,getPlans()})},vm.deletePlan=function(id){vm.deletingPlan=!0,SubscriptionPlan["delete"]({id:id},function(){vm.deletingPlan=!1,getPlans()})},vm.createCoupon=function(){vm.creatingCoupon=!0,"repeating"!==vm.newCoupon.duration&&(vm.newCoupon.duration_in_months=null),vm.newCoupon.$save(function(){resetNewCoupon(),vm.creatingCoupon=!1,getCoupons()})},vm.editCoupon=function(id){vm.couponInEdit=vm.coupons.find(function(row){return row.id===id})},vm.updateCoupon=function(id){vm.updatingCoupon=!0,"repeating"!==vm.couponInEdit.duration&&(vm.couponInEdit.duration_in_months=null),vm.couponInEdit.$save(function(){vm.couponInEdit=null,vm.updatingCoupon=!1,getCoupons()})},vm.deleteCoupon=function(id){vm.deletingCoupon=!0,SubscriptionCoupon["delete"]({id:id},function(){vm.deletingCoupon=!1,getCoupons()})},init()},module.exports.$inject=["$routeParams","SubscriptionPlan","SubscriptionCoupon","Modal"]},{lodash:256}],8:[function(require,module,exports){module.exports=function(AdministratorTools,Modal){var vm=this;vm.orgLookup={search:"",results:[]},vm.orgLookup,vm.lookupOrg=function(){vm.orgLookup.search.length<3||AdministratorTools.orgLookup({name:vm.orgLookup.search},function(response){vm.orgLookup.results=response})},vm.accountLookup={search:"",results:[]},vm.accountLookup,vm.lookupAccount=function(){vm.accountLookup.search.length<3||AdministratorTools.accountLookup({email:vm.accountLookup.search},function(response){vm.accountLookup.results=response})},vm.openAddCreditsModal=function(org){Modal.open("admin-add-credits",{organisation:org})},vm.openChangeOwnerModal=function(org){Modal.open("admin-change-owner",{organisation:org,onComplete:vm.lookupOrg.bind(vm)})},vm.openConfirmUnmatchableModal=function(account){Modal.open("admin-make-unmatchable",{account:account,onComplete:vm.lookupAccount.bind(vm)})},vm.openConfirmDeleteModal=function(account,org){org&&(account.organisation=org),Modal.open("admin-delete-account",{account:account,onComplete:function(){vm.lookupOrg(),vm.lookupAccount()}})}},module.exports.$inject=["AdministratorTools","Modal"]},{}],9:[function(require,module,exports){function App($scope,$rootScope,$window,$routeParams,$location,$cookies,Session,$log,$anchorScroll,Modal,Credits,MessageManager,Subscription,$q){function init(){$rootScope.balance=null,$rootScope.sidebarClosed="true"===localStorage.sidebarClosed?!0:!1,$rootScope.$watch("session",sessionChanged),$rootScope.$watch("balance",balanceChanged),updateAll()}function suppressCookieNotice(){$rootScope.cookieNoticeSuppressed=localStorage.cookieNoticeSuppressed=!0}function updateAll(){Session.refresh().then(function(){$rootScope.session&&$rootScope.session.loggedIn&&"person"!==$rootScope.session.type&&updateSubscription($rootScope.session).then(updateBalance),updateUnread()})["catch"](function(e){console.error(e)})}function toggleSidebar(){localStorage.sidebarClosed=$rootScope.sidebarClosed=!$rootScope.sidebarClosed,window.updateResizables()}function topup(title,selectedPackage){Modal.open("credits",{title:title||null,selectedPackage:selectedPackage||null})}function hiring(title){Modal.open("hiring",{title:title||null})}function referral(){Session.data().then(function(session){if(session.organisation){var url="www.workshape.io/organisation/apply?referral="+session.organisation.referral_code;Modal.open("referral",{url:url})}})}function offer(){Modal.open("offer")}function mailto(to,options){options=options||{};var url="mailto:"+to,optsString="";optsString+=Object.keys(options).map(function(key){return key+"="+options[key]}).join("&"),optsString&&(url+="?"+optsString),location.href=url}function sessionChanged(){var session=$rootScope.session;session&&($scope.session=$rootScope.session,session.loggedIn?($scope.home="/"+session.type+"/home",$scope.token=Session.getToken()):$scope.home="/",session.loggedIn&&("organisation"===session.type||"organisation-hirer"===session.type))}function balanceChanged(){$scope.balance=$rootScope.balance}function updateSubscription(session){var deferred=$q.defer();return Subscription.getForOrganisation({id:session.organisation.id},function(response){$rootScope.subscription=response,deferred.resolve()},function(){$rootScope.subscription=null,deferred.resolve()}),deferred.promise}function updateBalance(){var session=$rootScope.session,deferred=$q.defer();return Credits.balance({orgId:session.organisation.id},function(response){var balance=response.balance;$rootScope.balance=balance,deferred.resolve(balance)},function(res){deferred.reject(res.data.error)}),deferred.promise}function updateUnread(){var deferred=$q.defer();if($rootScope.session&&$rootScope.session.loggedIn)return MessageManager.loadUnread().then(function(unread){$rootScope.unreadCount=unread.total,$scope.unreadCount=unread.total,deferred.resolve()},function(res){deferred.reject(res.data.error)}),deferred.promise}function basePath(){var parts=$location.path().substring(1).split("/");return parts.length>0?parts[0]:null}function getPath(){var parts=$location.path().substring(1).split("?");return parts[0]}function getSegment(index){return getPath().split("/")[index]}function isCompleted(){return $scope.session&&4===$scope.session.step}function signout(){Session.signout().then(function(response){debug.log("Signed out",response),$scope.session={loggedIn:!1},$location.path("/")})}function editProfile(){$location.path("person"===$rootScope.session.type?"/person/preview":"organisation-member"===$rootScope.session.type?"/member/preview":"/organisation/info")}$scope.home="/",$scope.menuOpen=!1,$rootScope.cookieNoticeSuppressed="true"===localStorage.cookieNoticeSuppressed?!0:!1,$rootScope.renderComplete=function(){window.prerenderReady=!0},$rootScope.toggleSidebar=toggleSidebar,$rootScope.topup=topup,$rootScope.hiring=hiring,$rootScope.referral=referral,$rootScope.offer=offer,$rootScope.mailto=mailto,$rootScope.updateBalance=updateBalance,$rootScope.updateUnread=updateUnread,$rootScope.suppressCookieNotice=suppressCookieNotice,$scope.basePath=basePath,$scope.getPath=getPath,$scope.getSegment=getSegment,$scope.scrollTo=scrollTo,$scope.tweet=social.tweet,$scope.facebook=social.facebook,$scope.signout=signout,$scope.editProfile=editProfile,$scope.isCompleted=isCompleted,$scope.profileVisited="true"===localStorage.profileVisited,init(),$rootScope.$on("$locationChangeStart",function(evt,newUrl,oldUrl){seoUtil.newPage({url:newUrl}),debug.log("Route change",oldUrl,newUrl),Modal.close(),$rootScope.section=null,$scope.menuOpen=!1,$scope.path=$location.path()}),$rootScope.$on("$routeChangeSuccess",function(){window.updateResizables(),$location.hash($routeParams.scrollTo),$anchorScroll()})}var debug=require("../core/debug"),social=require("../modules/social"),seoUtil=require("../utils/seo"),app=require("../app");app.controller("App",App),App.$inject=["$scope","$rootScope","$window","$routeParams","$location","$cookies","Session","$log","$anchorScroll","Modal","Credits","MessageManager","Subscription","$q"]},{"../app":1,"../core/debug":87,"../modules/social":139,"../utils/seo":208}],10:[function(require,module,exports){exports["static"]=function($scope){$scope.renderComplete()},exports["static"].$import=["$scope"]},{}],11:[function(require,module,exports){module.exports=function($scope,$location,SampleData){function homepage(){$location.url("/")}var vm=this;vm.positions=SampleData.getSample(),vm.main_position=vm.positions.shift(),vm.other_time_loads=vm.positions.map(function(position){return position.time_load}),vm.homepage=homepage,$scope.renderComplete()},module.exports.$inject=["$scope","$location","SampleData"]},{}],12:[function(require,module,exports){var resolvers=require("../resolvers/index");module.exports=function(data,Person,Position,Future,MessageManager,$routeParams){function init(){sortConversations(),selectConversation(),view.conversation&&loadItem()}function loadItem(){view.position=view.conversation.position,view.conversation.expired=new Date(view.position.expiry)<new Date}function sortConversations(){view.conversations=view.conversations.sort(function(a,b){return a.unread!==b.unread?a.unread?-1:1:a.last_update>b.last_update?-1:1})}function selectConversation(){var i,conversation,type=$routeParams.type,itemId=$routeParams.itemId;if(type&&itemId)for(i=0;i<view.conversations.length;i+=1)if(conversation=view.conversations[i],conversation.itemId===itemId)return view.viewMode="single",view.conversation=conversation,markNewMessagesAsRead(conversation),void(view.future=Future.getPersonFuture({id:conversation.person.id}));return view.viewMode="list",view.conversations.length?(view.conversation=view.conversations[0],markNewMessagesAsRead(view.conversation),view.future=Future.getPersonFuture({id:view.conversation.person.id}),view.conversation=view.conversations[0],markNewMessagesAsRead(view.conversation),void(view.future=Future.getPersonFuture({id:view.conversation.person.id}))):(view.empty=!0,void(view.loading=!1))}function markNewMessagesAsRead(conversation){conversation&&conversation.messages&&conversation.messages.forEach(function(message){message.read||MessageManager.markAsRead(message.id)})}var view=this;view.conversations=data.conversations,view.loading=!0,init()},module.exports.$inject=["data","Person","Position","Future","MessageManager","$routeParams"],module.exports.resolve={data:resolvers.inbox}},{"../resolvers/index":142}],13:[function(require,module,exports){module.exports={app:require("./app"),common:require("./common"),error:require("./error"),landing:require("./landing"),position:require("./position"),pricing:require("./pricing"),signin:require("./signin"),verify:require("./verify"),suggest:require("./suggest"),surveys:require("./surveys"),infographic:require("./infographic"),organisations:require("./organisations"),positions:require("./positions"),profile:require("./profile"),inbox:require("./inbox"),admin:{interest:require("./admin/interest"),tools:require("./admin/tools"),emailer:require("./admin/emailer"),skills:require("./admin/skills"),subscriptions:require("./admin/subscriptions")},account:{settings:require("./account/settings")},organisation:{home:require("./organisation/home"),profile:require("./organisation/profile"),analytics:{overview:require("./organisation/analytics/overview"),locations:require("./organisation/analytics/locations"),organisations:require("./organisation/analytics/organisations"),positions:require("./organisation/analytics/positions"),credits:require("./organisation/analytics/credits"),expiries:require("./organisation/analytics/expiries"),states:require("./organisation/analytics/states"),shapeGroups:require("./organisation/analytics/shapeGroups"),titleGroups:require("./organisation/analytics/titleGroups")},info:require("./organisation/info"),subscription:require("./organisation/subscription"),matching:require("./organisation/matching"),apply:require("./organisation/apply"),signup:require("./organisation/signup"),accounts:require("./organisation/accounts"),credits:require("./organisation/credits"),member:require("./organisation/member"),positions:{create:require("./organisation/positions/create"),edit:require("./organisation/positions/edit"),actions:require("./organisation/positions/actions"),stats:require("./organisation/positions/stats")},dashboard:{positions:require("./organisation/dashboard/positions"),match:require("./organisation/dashboard/match")}},member:{home:require("./member/home")},person:{interest:require("./person/interest"),apply:require("./person/apply"),signup:require("./person/signup"),home:require("./person/home"),matching:require("./person/matching"),preview:require("./person/preview"),shape:require("./person/shape"),wizard:require("./person/wizard"),stats:require("./person/stats"),profile:require("./person/profile"),dashboard:{matches:require("./person/dashboard/matches"),match:require("./person/dashboard/match")},history:{add:require("./person/history/add"),edit:require("./person/history/edit")}},password:{forgot:require("./password/forgot"),reset:require("./password/reset")}}},{"./account/settings":3,"./admin/emailer":4,"./admin/interest":5,"./admin/skills":6,"./admin/subscriptions":7,"./admin/tools":8,"./app":9,"./common":10,"./error":11,"./inbox":12,"./infographic":14,"./landing":15,"./member/home":16,"./organisation/accounts":37,"./organisation/analytics/credits":38,"./organisation/analytics/expiries":39,"./organisation/analytics/locations":40,"./organisation/analytics/organisations":41,"./organisation/analytics/overview":42,"./organisation/analytics/positions":43,"./organisation/analytics/shapeGroups":44,"./organisation/analytics/states":45,"./organisation/analytics/titleGroups":46,"./organisation/apply":47,"./organisation/credits":48,"./organisation/dashboard/match":49,"./organisation/dashboard/positions":50,"./organisation/home":51,"./organisation/info":52,"./organisation/matching":53,"./organisation/member":54,"./organisation/positions/actions":55,"./organisation/positions/create":56,"./organisation/positions/edit":57,"./organisation/positions/stats":58,"./organisation/profile":59,"./organisation/signup":60,"./organisation/subscription":61,"./organisations":62,"./password/forgot":63,"./password/reset":64,"./person/apply":65,"./person/dashboard/match":66,"./person/dashboard/matches":67,"./person/history/add":68,"./person/history/edit":69,"./person/home":70,"./person/interest":71,"./person/matching":72,"./person/preview":73,"./person/profile":74,"./person/shape":75,"./person/signup":76,"./person/stats":77,"./person/wizard":78,"./position":79,"./positions":80,"./pricing":81,"./profile":82,"./signin":83,"./suggest":84,"./surveys":85,"./verify":86}],14:[function(require,module,exports){function resolveData($q,Session,Future){function loadSession(){return Session.data().then(function(session){data.loggedIn=session.loggedIn,session&&session.loggedIn&&"person"===session.type&&(data.personId=session.person.id,data.session=session)})}function loadFuture(){var deferred=$q.defer();return data.personId?Future.getPersonFuture({id:data.personId},function(future){future&&(data.future=future),deferred.resolve()}):deferred.resolve(),deferred.promise}var data={future:null};return loadSession().then(loadFuture).then(function(){return data})}var histogramUtil=require("../utils/histogram"),shareUtil=require("../utils/share"),barUtil=require("../utils/bar"),debug=require("../core/debug"),titles={softwareengineer:"Software Engineer",frontendengineer:"Front End Engineer",backendengineer:"Back End Engineer",fullstackengineer:"Full Stack Engineer"};module.exports=function($scope,$q,$http,$route,$window,$location,rdata,Signup){function init(){$http.get("/js/ig/"+route+".json").then(function(response){var data=response.data;data.histograms=histogramUtil.bucketData(data),view.data=data,view.title=titles[view.data.commonTitle]?titles[view.data.commonTitle]:view.data.commonTitle,view.loaded=!0,view.averageShape=averageShape(view.data),view.future=rdata.future,view.data.histograms.forEach(function(hist){histogramUtil.drawHistogram(hist.histo,hist.name,"#hist-"+hid),hid+=1}),view.data.skills.sort(function(a,b){return b.count-a.count});var levels=barUtil.bucketLevels(view.data);if(levels.sort(function(a,b){return b.count-a.count}),barUtil.drawBarChart("Top 25 skills",view.data.skills.slice(0,25),"#bar-skills",500),barUtil.drawBarChart("Level of Seniority",levels,"#bar-levels",200),view.data.locations){var locations=barUtil.bucketLocations(view.data.locations);barUtil.drawBarChart("Location",locations,"#bar-locations",200)}$scope.renderComplete()})["catch"](function(err){debug.error(err),view.loaded=!0,view.error=!0})}function facebookShare(){shareUtil.facebookShare("how-they-want-to-spend-their-time/"+$route.current.params.position)}function twitterShare(){shareUtil.twitterShare("how-they-want-to-spend-their-time/"+$route.current.params.position,"How does a Software Engineer want to spend their time?",["startups"])}function averageShape(data){for(var key,avg=angular.copy(data.records[0].time_load),i=1;i<data.records.length;i++)for(key in avg)avg[key].value+=data.records[i].time_load[key].value;for(key in avg)avg[key].value=avg[key].value/data.records.length;return avg}var view=this,hid=0,route=$route.current.params.position.replace(/[\.,-\/#!$%\^&\*;:{}=\-_`~()]/g,"");view.loaded=!1,view.loggedIn=rdata.loggedIn,view.facebookShare=facebookShare,view.twitterShare=twitterShare,view.signup=Signup,init()},module.exports.$inject=["$scope","$q","$http","$route","$window","$location","rdata","Signup"],resolveData.$inject=["$q","Session","Future","Matcher","Signup"],module.exports.resolve={rdata:resolveData}},{"../core/debug":87,"../utils/bar":198,"../utils/histogram":203,"../utils/share":209}],15:[function(require,module,exports){var resolvers=require("../resolvers/index"),config=require("../config"),SLIDES_COUNT=4,SLIDES_DURATION=5e3,CHARACTERS_COUNT=3,CHARACTERS_DURATION=5e3;module.exports=function($timeout,$window,$location,Session,session,SampleData,$scope,Signup,$interval,Sharing,Statistics,mySocket){function init(){initScreenSlideshow(),initCharactersSlideshow(),initParallax(),Statistics.userCount().$promise.then(function(response){view.userCount=response.users,$scope.renderComplete(),mySocket.on("person-new",function(){view.userCount++})})}function initParallax(){config.MOBILE||(parallax=skrollr.init({forceHeight:!1}),refreshParallax(),window.addEventListener("load",function(){refreshParallax()}))}function initScreenSlideshow(){view.screenSliderInterval=$interval(function(){view.activeSlide+=1,view.activeSlide>SLIDES_COUNT&&(view.activeSlide=1)},SLIDES_DURATION)}function slideshowOver(index){$interval.cancel(view.screenSliderInterval),previousSlide=view.activeSlide,view.activeSlide=index}function slideshowOut(){view.activeSlide=previousSlide,initScreenSlideshow()}function initCharactersSlideshow(){view.characterSliderInterval=$interval(function(){view.activeCharacter+=1,view.activeCharacter>CHARACTERS_COUNT&&(view.activeCharacter=1)},CHARACTERS_DURATION)}function refreshParallax(){setTimeout(function(){
parallax.refresh()})}function twitterShare(){Sharing.share.twitter({text:"No Recruiters. No CVs. Visual job matching for developers and startups. Check it out!",url:"http://www.workshape.io/"})}function facebookShare(){Sharing.share.facebook("http://www.workshape.io")}var parallax,previousSlide,view=this,sampleData=SampleData.getSample();view.time_load=sampleData.shift().time_load,view.time_load2=sampleData.shift().time_load,view.time_load3=sampleData.shift().time_load,view.positions=SampleData.getSample(),view.other_time_loads=view.positions.map(function(position){return position.time_load}),view.activeSlide=1,view.activeCharacter=1,view.slideshowOver=slideshowOver,view.slideshowOut=slideshowOut,view.signup=Signup,view.twitter=twitterShare,view.facebook=facebookShare,init(),$scope.$on("$destroy",function(){parallax&&parallax.destroy(),$interval.cancel(view.screenSliderInterval),$interval.cancel(view.characterSliderInterval)})},module.exports.$inject=["$timeout","$window","$location","Session","session","SampleData","$scope","Signup","$interval","Sharing","Statistics","mySocket"],module.exports.resolve={session:resolvers.session}},{"../config":2,"../resolvers/index":142}],16:[function(require,module,exports){var resolvers=require("../../resolvers/index");module.exports=function(session,$location,Future){function init(){Future.getPersonFuture({id:session.person.id},function(future){vm.future=future,vm.loaded=!0})}var vm=this;vm.session=session,vm.loaded=!1,init()},module.exports.$inject=["session","$location","Future"],module.exports.resolve={session:resolvers.session}},{"../../resolvers/index":142}],17:[function(require,module,exports){module.exports=function(scope,AdministratorTools){scope.modalClass="admin-add-credits",scope.done=!1,scope.amount=0,scope.setAmount=function(amount){scope.amount=amount,scope.error=null},scope.add=function(amount){scope.error=null;var x=new AdministratorTools;x.amount=amount,x.$addCredits({id:scope.organisation.id},function(){scope.done=!0},function(){scope.error="An error occurred!"})}},module.exports.$inject=["scope","AdministratorTools"]},{}],18:[function(require,module,exports){module.exports=function(scope,AdministratorTools){scope.modalClass="admin-change-owner",scope.done=!1,scope.newOwnerId=null,scope.organisation.accounts.forEach(function(account){"organisation"===account.type?scope.oldOwner=account:scope.newOwnerId=account.id}),scope.setNewOwner=function(newOwnerId){scope.newOwnerId=newOwnerId,scope.error=null},scope.change=function(newOwnerId){scope.error=null;var x=new AdministratorTools;x.newAdminId=newOwnerId,x.oldAdminId=scope.oldOwner.id,x.$changeOrgAdmin({id:scope.organisation.id},function(){scope.done=!0,scope.onComplete()&&scope.onComplete()},function(){scope.error="An error occurred!"})}},module.exports.$inject=["scope","AdministratorTools"]},{}],19:[function(require,module,exports){module.exports=function(scope,AdministratorTools){scope.modalClass="admin-delete-account",scope.done=!1,scope["delete"]=function(amount){var x=new AdministratorTools;x.$deleteAccount({id:scope.account.id},function(){scope.done=!0,scope.onComplete()&&scope.onComplete()},function(){scope.error="An error occurred!"})}},module.exports.$inject=["scope","AdministratorTools"]},{}],20:[function(require,module,exports){module.exports=function(scope,AdministratorTools){scope.modalClass="admin-make-unmatchable",scope.done=!1,scope.unmatch=function(){var x=new AdministratorTools;x.$makeUnmatchable({id:scope.account.id},function(){scope.done=!0,scope.onComplete()&&scope.onComplete()},function(){scope.error="An error occurred!"})}},module.exports.$inject=["scope","AdministratorTools"]},{}],21:[function(require,module,exports){var CUSTOM_VIEW_ERRORS=["PUBLISH_NOTSUBSCRIBED"];module.exports=function(scope){scope.modalClass="api-error",scope.message=scope.error.error,scope.code=scope.error.error_code,scope.handled=scope.code&&-1!==CUSTOM_VIEW_ERRORS.indexOf(scope.code)},module.exports.$inject=["scope"]},{}],22:[function(require,module,exports){var ALLOWED_ACCOUNT_TYPES=["organisation-hirer","organisation"];module.exports=function(scope,Position,OrgAccounts,$q,Session){function init(){return scope.position?(currentId=scope.position.account?scope.position.account.id:scope.position.account_id,void loadAccounts().then(function(accounts){scope.accounts=accounts.filter(function(account){return-1!==ALLOWED_ACCOUNT_TYPES.indexOf(account.type)});for(var i=0;i<scope.accounts.length;i+=1)scope.accounts[i].id===scope.position.account.id&&(scope.selected.account=scope.accounts[i]);scope.$watch("selected",function(selected){var account=selected.account;scope.changed=account.id!==currentId},!0)},function(err){scope.error=err})):void(scope.error="No position was given")}function apply(){Position.delegate({id:scope.position.id,accountId:scope.selected.account.id},function(){scope.assigned=!0,scope.position.account=scope.selected.account,scope.position.account_id=scope.selected.account.id},function(err){scope.error=err.error?err.error:err})}function loadAccounts(){var deferred=$q.defer();return Session.data().then(function(s){session=s,OrgAccounts.query({orgId:session.organisation.id},deferred.resolve,deferred.reject)},deferred.reject),deferred.promise}var session,currentId;scope.loading=!0,scope.apply=apply,scope.selected={account:null},init()},module.exports.$inject=["scope","Position","OrgAccounts","$q","Session"]},{}],23:[function(require,module,exports){module.exports=function(scope,Position){function init(){scope.positions=Position.live({organisation_id:scope.session.organisation.id})}function clone(){scope.close(scope.positions[scope.data.positionId])}scope.modalClass="clone-position",scope.data={positionId:""},init(),scope.clone=clone},module.exports.$inject=["scope","Position"]},{}],24:[function(require,module,exports){module.exports=function(scope){function init(){scope.modal.el.find("[autofocus]").focus()}init(),scope.confirm=function(){scope.close(!0)}},module.exports.$inject=["scope"]},{}],25:[function(require,module,exports){module.exports=function(scope,Payment,Credits,Pricing,Modal,$location,$rootScope){function showError(err){scope.close(),Modal.open("alert",{text:err})}scope.loading=!1,scope.modalClass="credits";var params={},sessionCode=scope.session.organisation&&scope.session.organisation.special_offer_code?scope.session.organisation.special_offer_code:null,queryCode=$location.search().code;(queryCode||sessionCode)&&(params.code=queryCode||sessionCode),Pricing.credits(params,function(credits){scope.packages=credits.packages,scope.loading=!1,scope.pkg=scope.packages[scope.selectedPackage||0],scope.paid=!1}),scope.selectPackage=function(pkg){scope.pkg=pkg},scope.pay=function(){scope.loading=!0,Payment.prompt(scope.pkg).then(function(balance){setTimeout(function(){scope.paid=!0,scope.loading=!1,$rootScope.balance=balance,$rootScope.$apply()},showError)})},scope.success=function(){this.close(scope.balance)}},module.exports.$inject=["scope","Payment","Credits","Pricing","Modal","$location","$rootScope"]},{}],26:[function(require,module,exports){function getCategories(){var step,key,categories={},out=[];for(key in HIRING_STEPS)HIRING_STEPS.hasOwnProperty(key)&&(step=HIRING_STEPS[key],categories[step.type]||(categories[step.type]=[]),categories[step.type].push(key));for(key in categories)categories.hasOwnProperty(key)&&out.push({key:key,options:categories[key]});return out}var HIRING_STEPS=require("../../../shared/hiring-steps.json");module.exports=function(scope){function choose(id){scope.close(id)}scope.modalClass="hiring-step-picker",scope.categories=getCategories(),scope.choose=choose},module.exports.$inject=["scope"]},{"../../../shared/hiring-steps.json":216}],27:[function(require,module,exports){var debug=require("../../core/debug"),emailUtil=require("../../utils/email");module.exports=function(scope,Modal,Interest,AccountLookup){function emailChange(){scope.data.email?AccountLookup.get({email:scope.data.email},function(response){if(scope.data.email){var check=!response.used;scope.formValid.email.valid=check,scope.formValid.email.message=check?null:"This email address has already been used! Do you have already have an account?",check&&emailUtil.isBanned(scope.data.email.toLowerCase())&&(scope.formValid.email.valid=!1,scope.formValid.email.message="You must use a business email address to sign up as a company.")}},function(error){debug.error(error)}):(scope.formValid.email.valid=null,scope.formValid.email.message=null)}function interest(){if(!scope.loading){scope.loading=!0;var i=new Interest;i.email=scope.data.email,i.type="organisation",i.$save(function(){scope.loading=!1,scope.completed=!0},function(res){scope.loading=!1,scope.error=res.data.error})}}scope.interest=interest,scope.completed=!1,scope.loading=!1,scope.emailChange=emailChange,scope.formValid={email:{valid:null,message:null}},scope.data={email:""}},module.exports.$inject=["scope","Modal","Interest","AccountLookup"]},{"../../core/debug":87,"../../utils/email":201}],28:[function(require,module,exports){var URL_EXAMPLES={lever:"http://jobs.lever.co/company/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",workable:"http://company.workable.com/jobs/xxxxxx"};module.exports=function(scope,PositionImport){function init(){scope.$watch("type",function(type){scope.placeholder=URL_EXAMPLES[type]||URL_EXAMPLES.lever})}function load(){scope.loading=!0,PositionImport["import"](scope.importer.url,scope.close,function(res){scope.loading=!1,scope.error=res.data.error})}scope.modalClass="import-position",scope.load=load,scope.importer={url:null},init()},module.exports.$inject=["scope","PositionImport"]},{}],29:[function(require,module,exports){module.exports=function(scope,$rootScope,OrganisationMedia){function init(){scope["new"]&&(scope.media={})}function triggerUpload(){angular.element(".modal .upload-trigger").click()}function upload(files){var reader=new FileReader;scope.media.image=files[0],reader.onload=function(e){scope.media.preview=e.target.result,scope.$apply()},reader.readAsDataURL(files[0])}function save(){return scope["new"]?(scope.loading=!0,void OrganisationMedia.save({type:"image",image:scope.media.image,title:scope.media.title||"",description:scope.media.description||"",organisation_id:session.organisation.id},function(media){scope.loading=!1,scope.close(media)},function(res){scope.loading=!1,scope.error=res.data.error})):update()}function update(){}var session=$rootScope.session;scope.modalClass="media",scope["new"]=!scope.id,scope.error=null,scope.triggerUpload=triggerUpload,scope.upload=upload,scope.save=save,init()},module.exports.$inject=["scope","$rootScope","OrganisationMedia"]},{}],30:[function(require,module,exports){module.exports=function(scope,Modal,$location){scope.modalClass="offer",scope.learnMore=function(){localStorage.offerModalSeen_2=!0,scope.close(),$location.path("/pricing")}},module.exports.$inject=["scope","Modal","$location"]},{}],31:[function(require,module,exports){module.exports=function(scope){scope.modalClass="referral"},module.exports.$inject=["scope"]},{}],32:[function(require,module,exports){module.exports=function(scope){scope.modalClass="select-days",scope.days=30},module.exports.$inject=["scope"]},{}],33:[function(require,module,exports){module.exports=function(scope,Sharing,Modal){function init(){scope.position&&(scope.position=scope.position,scope.mode="position")}function twitterShare(){Sharing.position.twitter(scope.position).then(function(){Modal.close("share")})["catch"](function(wow){console.log("Did not send tweet, or tweet wasn't sent",wow),Modal.close("share")})}function facebookShare(){Sharing.position.facebook(scope.position)}scope.modalClass="share",scope.mode=null,scope.foo="bar",scope.share={twitter:twitterShare,facebook:facebookShare},init()},module.exports.$inject=["scope","Sharing","Modal"]},{}],34:[function(require,module,exports){module.exports=function(scope,Skill){function lookup(){scope.lookupText?Skill.query({search:scope.lookupText},function(x){scope.choices=x}):clearLookup()}function toggleSkill(skill){isChosen(skill)?removeSkill(skill):addSkill(skill)}function isChosen(skill){var x=scope.selected.filter(function(s){return s.id===skill.id});return 1===x.length}function clearLookup(){scope.lookupText="",scope.choices=angular.copy(promoted)}function addSkill(skill){if(!(scope.selected.length>=scope.max)){var found=!1;scope.selected.forEach(function(s){s.id===skill.id&&(found=!0)}),found||scope.selected.push(skill)}}function removeSkill(skill){scope.selected=scope.selected.filter(function(s){return s.id!==skill.id})}scope.blurb=scope.blurb||"Select up to 5 technological skills that you would like an ideal candidate to be knowledgable and passionate about.",scope.max=scope.max||5,scope.modalClass="skill-selector",scope.skills=scope.skills||[],scope.selected=angular.copy(scope.skills);var promoted=null;Skill.promoted(function(results){promoted=results,scope.choices=angular.copy(promoted)}),scope.toggleSkill=toggleSkill,scope.lookup=lookup,scope.lookupText="",scope.clearLookup=clearLookup,scope.isChosen=isChosen},module.exports.$inject=["scope","Skill"]},{}],35:[function(require,module,exports){module.exports=function(scope,Sharing){function twitterShare(){Sharing.share.twitter({url:"http://www.workshape.io"})}function facebookShare(){Sharing.share.facebook("http://www.workshape.io")}scope.modalClass="spread",scope.share={twitter:twitterShare,facebook:facebookShare}},module.exports.$inject=["scope","Sharing"]},{}],36:[function(require,module,exports){module.exports=function(scope){scope.modalClass="team-member"},module.exports.$inject=["scope"]},{}],37:[function(require,module,exports){var resolvers=require("../../resolvers/index"),ACCOUNT_TYPES=[{id:"organisation-hirer",name:"Hirer"},{id:"organisation-member",name:"Developer"}];module.exports=function($scope,OrgAccounts,data,Modal,CreditFeedback){function openForm(type){$scope.error=null,$scope.activeForm=type,$scope.form.email=""}function accountsOfType(type){return $scope.accounts.filter(function(account){return"hirer"===type?"organisation-member"!==account.type:"organisation-member"===account.type})}function addAccount(){var account=new OrgAccounts;$scope.error=null,account.orgId=data.session.organisation.id,account.email=$scope.form.email,account.type="hirer"===$scope.activeForm?"organisation-hirer":"organisation-member",$scope.activeForm=null,$scope.loading=!0,account.$save(function(newAccount){$scope.loading=!1,$scope.accounts.push(newAccount.data)},function(res){$scope.loading=!1,Modal.open("alert",{title:"Error: Cannot add member",text:res.data&&res.data.error?res.data.error:"You cannot add any more recruiting team members to your account."})})}function removeAccount(account){$scope.error=null,Modal.open("confirm",{question:"Are you sure?",text:"This action is not reversible",acceptText:"Sure"}).then(function(res){if(res){var org=account.organisation;account.orgId=org?org.id:account.organisation_id,account.accountId=account.id,account.$delete(function(){$scope.accounts.splice($scope.accounts.indexOf(account),1)})}})}$scope.accounts=data.accounts,$scope.activeForm=!1,$scope.type="organisation-hirer",$scope.form={email:""},$scope.hirerFilter={type:"!organisation-member"},$scope.memberFilter={type:"organisation-member"},$scope.loading=!1,$scope.error=null,$scope.types=ACCOUNT_TYPES,$scope.addAccount=addAccount,$scope.removeAccount=removeAccount,$scope.openForm=openForm,$scope.accountsOfType=accountsOfType},module.exports.$inject=["$scope","OrgAccounts","data","Modal","CreditFeedback"],module.exports.resolve={data:resolvers.organisation.accounts}},{"../../resolvers/index":142}],38:[function(require,module,exports){function resolveData($q,CreditBalances){function loadThings(){return $q.all([loadCreditBalances()])}function loadCreditBalances(){var deferred=$q.defer();return CreditBalances.query().$promise.then(function(output){data.creditBalances=output,deferred.resolve()}),deferred.promise}var data={};return loadThings().then(function(){return data})}module.exports=function(data){var vm=this;vm.creditBalances=data.creditBalances},module.exports.$inject=["data"],resolveData.$inject=["$q","CreditBalances"],module.exports.resolve={data:resolveData}},{}],39:[function(require,module,exports){function resolveData($q,Statistics){function loadThings(){return $q.all([loadExpiringPositions()])}function loadExpiringPositions(){var deferred=$q.defer();return Statistics.expiringPositions().$promise.then(function(output){data.expiringPositions=output,deferred.resolve()}),deferred.promise}var data={future:null};return loadThings().then(function(){return data})}module.exports=function(data){var vm=this;vm.expiringPositions=data.expiringPositions,vm.expiringPositions.forEach(function(x){x.noMatches="undefined"!=typeof x.matches?Object.keys(x.matches).length:0})},module.exports.$inject=["data"],resolveData.$inject=["$q","Statistics"],module.exports.resolve={data:resolveData}},{}],40:[function(require,module,exports){function resolveData($q,Statistics){function loadThings(){return $q.all([loadUserLocations(),loadPositionLocations()])}function loadUserLocations(){var deferred=$q.defer();return Statistics.userLocations({limit:20}).$promise.then(function(output){data.userLocations=output,deferred.resolve()}),deferred.promise}function loadPositionLocations(){var deferred=$q.defer();return Statistics.positionLocations({limit:20}).$promise.then(function(output){data.positionLocations=output,deferred.resolve()}),deferred.promise}var data={future:null};return loadThings().then(function(){return data})}module.exports=function(data){var vm=this;vm.userLocations=data.userLocations,vm.positionLocations=data.positionLocations},module.exports.$inject=["data"],resolveData.$inject=["$q","Statistics"],module.exports.resolve={data:resolveData}},{}],41:[function(require,module,exports){function resolveData($q,Statistics){function loadThings(){return $q.all([loadPositionCounts()])}function loadPositionCounts(){var deferred=$q.defer();return Statistics.positionCounts().$promise.then(function(output){data.positionCounts=output,deferred.resolve()}),deferred.promise}var data={future:null};return loadThings().then(function(){return data})}module.exports=function(data){var vm=this;vm.positionCounts=data.positionCounts},module.exports.$inject=["data"],resolveData.$inject=["$q","Statistics"],module.exports.resolve={data:resolveData}},{}],42:[function(require,module,exports){function metricGraphics(timeSeries){var matchesData=[];matchesData.push(timeSeries[0].data.map(function(row){return{date:new Date(1e3*row.x),value:row.y}})),matchesData.push(timeSeries[1].data.map(function(row){return{date:new Date(1e3*row.x),value:row.y}})),matchesData.push(timeSeries[2].data.map(function(row){return{date:new Date(1e3*row.x),value:row.y}})),matchesData.push(timeSeries[5].data.map(function(row){return{date:new Date(1e3*row.x),value:row.y}})),MG.data_graphic({title:"Matches",data:matchesData,interpolate:"basic",missing_is_zero:!1,width:400,height:250,right:10,min_x:new Date("2014-11-7"),max_x:new Date,target:"#mg-matches",x_accessor:"date",y_accessor:"value",aggregate_rollover:!0,markers:[{date:new Date("2014-12-09"),label:"Matching Algorithm Iteration"}],legend:["Matches","Messages","Org. Interest","Per. Interest"],legend_target:"#mg-matches-legend"});var usersData=[];usersData.push(timeSeries[7].data.map(function(row){return{date:new Date(1e3*row.x),value:row.y}})),usersData.push(timeSeries[6].data.map(function(row){return{date:new Date(1e3*row.x),value:row.y}})),MG.data_graphic({title:"Users",data:usersData,interpolate:"basic",missing_is_zero:!1,width:400,height:250,right:10,min_x:new Date("2014-11-7"),max_x:new Date,target:"#mg-users",x_accessor:"date",y_accessor:"value",aggregate_rollover:!0,markers:[{date:new Date("2014-11-22"),label:"HN1"},{date:new Date("2014-12-02"),label:"HN2"}],legend:["Sign ups","Completions"],legend_target:"#mg-users-legend"});var positionsData=[];positionsData.push(timeSeries[4].data.map(function(row){return{date:new Date(1e3*row.x),value:row.y}})),positionsData.push(timeSeries[8].data.map(function(row){return{date:new Date(1e3*row.x),value:row.y}})),MG.data_graphic({title:"Positions v Orgs",data:positionsData,interpolate:"basic",missing_is_zero:!1,width:400,height:250,right:10,min_x:new Date("2014-11-7"),max_x:new Date,target:"#mg-positions",x_accessor:"date",y_accessor:"value",aggregate_rollover:!0,markers:[{date:new Date("2014-11-22"),label:"HN1"},{date:new Date("2014-12-02"),label:"HN2"}],legend:["Organisations","Positions"],legend_target:"#mg-positions-legend"})}function resolveData($q,Statistics){function loadThings(){return $q.all([loadUserFunnel(),loadOrgFunnel(),loadCounts(),loadContactCounts(),loadStatistics()])}function loadUserFunnel(){var deferred=$q.defer();return Statistics.userFunnel().$promise.then(function(output){data.userFunnel=output,deferred.resolve()}),deferred.promise}function loadOrgFunnel(){var deferred=$q.defer();return Statistics.organisationFunnel().$promise.then(function(output){data.orgFunnel=output,deferred.resolve()}),deferred.promise}function loadContactCounts(){var deferred=$q.defer();return Statistics.contactCounts().$promise.then(function(output){data.contactCounts=output,deferred.resolve()}),deferred.promise}function loadCounts(){var deferred=$q.defer();return Statistics.counts().$promise.then(function(output){data.counts=output,deferred.resolve()}),deferred.promise}function loadStatistics(){var deferred=$q.defer();return Statistics.timeSeries({cumulative:!0}).$promise.then(function(output){output.forEach(function(r){r.date=new Date(r.date)}),data.timeSeries=output,deferred.resolve()}),deferred.promise}var data={future:null};return loadThings().then(function(){return data})}module.exports=function(mySocket,data){function init(){listen()}function listen(){mySocket.on("person-new",updateFunnel),mySocket.on("person-complete",updateFunnel),mySocket.on("future-update",updateFunnel),mySocket.on("organisation-new",updateBigNumbers),mySocket.on("position-update",updateBigNumbers),mySocket.on("message-new",updateBigNumbers),data.timeSeries.length&&metricGraphics(data.timeSeries)}function updateFunnel(data){vm.userFunnel.signups+=parseInt(data.signups,10),vm.userFunnel.completed+=parseInt(data.completed,10),vm.userFunnel.matched+=parseInt(data.matched,10),vm.userFunnel.interest+=parseInt(data.interest,10)}function updateBigNumbers(data){vm.counts.orgs+=parseInt(data.orgs,10),vm.counts.positions+=parseInt(data.positions,10),vm.counts.matches+=parseInt(data.matches,10),vm.counts.interests+=parseInt(data.interests,10),vm.counts.orgMessages+=parseInt(data.orgMessages,10),vm.counts.perMessages+=parseInt(data.perMessages,10)}var vm=this;vm.userFunnel=data.userFunnel,vm.orgFunnel=data.orgFunnel,vm.counts=data.counts,vm.contactCounts=data.contactCounts,init()},module.exports.$inject=["mySocket","data"],resolveData.$inject=["$q","Statistics"],module.exports.resolve={data:resolveData}},{}],43:[function(require,module,exports){function resolveData($q,Statistics){function loadThings(){return $q.all([loadLivePositionBreakdown()])}function loadLivePositionBreakdown(){var deferred=$q.defer();return Statistics.livePositions().$promise.then(function(output){data.livePositions=output,deferred.resolve()}),deferred.promise}var data={};return loadThings().then(function(){return data})}var locationUtils=require("../../../../shared/locationUtils");module.exports=function(data){var vm=this;vm.sortType="organisation",vm.sortReverse=!1,vm.searchTerm="",vm.livePositions=data.livePositions,vm.livePositions.forEach(function(row){row.city=locationUtils.getCityAndCountry(row.location)}),vm.getCityAndCountry=locationUtils.getCityAndCountry},module.exports.$inject=["data"],resolveData.$inject=["$q","Statistics"],module.exports.resolve={data:resolveData}},{"../../../../shared/locationUtils":217}],44:[function(require,module,exports){function resolveData($q,Statistics){function loadThings(){return $q.all([loadShapeGroups()])}function loadShapeGroups(){var deferred=$q.defer();return Statistics.shapeGroups({limit:5,type:"shape"}).$promise.then(function(output){data.shapeGroups=output,deferred.resolve()}),deferred.promise}var data={future:null};return loadThings().then(function(){return data})}module.exports=function(data){this.shapeGroups=data.shapeGroups},module.exports.$inject=["data"],resolveData.$inject=["$q","Statistics"],module.exports.resolve={data:resolveData}},{}],45:[function(require,module,exports){function resolveData($q,$route,OrganisationStates){function loadThings(){return $q.all([routes[$route.current.params.endpoint]()])}function loadUnacquired(){var deferred=$q.defer();return OrganisationStates.unacquired().$promise.then(function(output){data.output=output,data.title="Unacquired",data.isEmail=!0,deferred.resolve()}),deferred.promise}function loadUnactivated(){var deferred=$q.defer();return OrganisationStates.unactivated().$promise.then(function(output){data.output=output,data.title="Unactivated",data.isEmail=!1,deferred.resolve()}),deferred.promise}function loadNoTeam(){var deferred=$q.defer();return OrganisationStates.noTeam().$promise.then(function(output){data.output=output,data.title="No additional team members",data.isEmail=!1,deferred.resolve()}),deferred.promise}function loadUnmatched(){var deferred=$q.defer();return OrganisationStates.unmatched().$promise.then(function(output){data.output=output,data.title="Not received any matches",data.isEmail=!1,deferred.resolve()}),deferred.promise}function loadNotMessaged(){var deferred=$q.defer();return OrganisationStates.notMessaged().$promise.then(function(output){data.output=output,data.title="Not sent any messages",data.isEmail=!1,deferred.resolve()}),deferred.promise}function loadNotPaid(){var deferred=$q.defer();return OrganisationStates.notPaid().$promise.then(function(output){data.output=output,data.title="Non-paying Customers",data.isEmail=!1,deferred.resolve()}),deferred.promise}function loadLapsed(){var deferred=$q.defer();return OrganisationStates.lapsed().$promise.then(function(output){data.output=output,data.title="Lapsed",data.isEmail=!1,deferred.resolve()}),deferred.promise}var data={},routes={unacquired:loadUnacquired,unactivated:loadUnactivated,noTeam:loadNoTeam,unmatched:loadUnmatched,notMessaged:loadNotMessaged,notPaid:loadNotPaid,lapsed:loadLapsed};if(!routes[$route.current.params.endpoint]){var deferred=$q.defer();return deferred.resolve({output:[],title:"Not a valid state",isEmail:!1}),deferred.promise}return loadThings().then(function(){return data})}module.exports=function(data){var vm=this;vm.data=data},module.exports.$inject=["data"],resolveData.$inject=["$q","$route","OrganisationStates"],module.exports.resolve={data:resolveData}},{}],46:[function(require,module,exports){function resolveData($q,Statistics){function loadThings(){return $q.all([loadShapeGroups()])}function loadShapeGroups(){var deferred=$q.defer();return Statistics.shapeGroups({limit:5,type:"title"}).$promise.then(function(output){data.shapeGroups=output,data.shapeGroups.forEach(function(group){group.histograms=histogramUtil.bucketData(group)}),deferred.resolve()}),deferred.promise}var data={future:null};return loadThings().then(function(){return data})}var histogramUtil=require("../../../utils/histogram");module.exports=function(data){function showHistograms(){var hid,gid=0;vm.titleGroups.forEach(function(group){hid=0,group.histograms.forEach(function(hist){histogramUtil.drawHistogram(hist.histo,hist.name,"#histo"+gid+"-"+hid),hid++}),gid++})}var vm=this;vm.titleGroups=data.shapeGroups,vm.showHistograms=showHistograms},module.exports.$inject=["data"],resolveData.$inject=["$q","Statistics"],module.exports.resolve={data:resolveData}},{"../../../utils/histogram":203}],47:[function(require,module,exports){var debug=require("../../core/debug"),config=require("../../config"),emailUtil=require("../../utils/email");module.exports=function($location,Interest,AccountLookup,$scope,$interval){function init(){initParallax(),$scope.renderComplete()}function initParallax(){config.MOBILE||(parallax=skrollr.init(),refreshParallax(),window.addEventListener("load",function(){refreshParallax()}))}function refreshParallax(){setTimeout(function(){parallax.refresh()})}function emailChange(){view.error=null,view.email?AccountLookup.get({email:view.email},function(response){if(view.email){var check=!response.used;view.formValid.email.valid=check,view.formValid.email.message=check?null:"This email address has already been used! Do you have already have an account?",check&&emailUtil.isBanned(view.email.toLowerCase())&&(view.formValid.email.valid=!1,view.formValid.email.message="You must use a business email address to sign up as a company.")}},function(error){debug.error(error)}):(view.formValid.email.valid=null,view.formValid.email.message=null)}function interest(){if(!view.loading){var i=new Interest;view.loading=!0,i.email=view.email,i.referral_code=view.referral_code,i.special_offer_code=view.special_offer_code,i["package"]=view["package"],i.type="organisation",view["package"]&&(i.notes="Interest in "+view["package"].toLowerCase()+" account!"),i.$save(function(){view.loading=!1,view.step=2},function(res){view.loading=!1,view.error=res.data.error})}}var parallax,view=this,urlParamsArray=$location.search();view.email=null,view.referral_code=urlParamsArray.referral?urlParamsArray.referral:"",view.special_offer_code=urlParamsArray.code?urlParamsArray.code:"",view["package"]=urlParamsArray["package"]||null,view.urlParams=Object.keys(urlParamsArray).map(function(key){return key+"="+urlParamsArray[key]}).join("&"),view.formValid={email:{valid:null,message:null}},view.emailChange=emailChange,view.interest=interest,view.step=1,init(),$scope.$on("$destroy",function(){parallax&&parallax.destroy(),$interval.cancel(view.sliderInterval)})},module.exports.$inject=["$location","Interest","AccountLookup","$scope","$interval"]},{"../../config":2,"../../core/debug":87,"../../utils/email":201}],48:[function(require,module,exports){function resolve($q,Credits,Session){var d=$q.defer();return Session.data().then(function(session){Credits.query({orgId:session.organisation.id},function(credits){d.resolve({credits:credits,session:session})})}),d.promise}var MIN_AMOUNT=30;module.exports=function($scope,Credits,data,$rootScope){function init(){$rootScope.$watch("balance",setBalance),$rootScope.updateBalance()}function setBalance(val){view.balance=val}function toggleHistory(){view.showHistory=!view.showHistory}var view=$scope;view.amount=MIN_AMOUNT,view.session=data.session,view.history=data.credits,view.showHistory=!1,view.toggleHistory=toggleHistory,init()},module.exports.$inject=["$scope","Credits","data","$rootScope"],module.exports.resolve={data:resolve},resolve.$inject=["$q","Credits","Session"]},{}],49:[function(require,module,exports){var resolvers=require("../../../resolvers/index"),socialIcons=require("../../../../shared/social-icons.json"),TABS=require("../../../utils/match-list-states"),seoUtil=require("../../../utils/seo"),messagingUtil=require("../../../utils/messaging");module.exports=function(data,Matcher,$route,$scope,$location,Modal,History,$q,MessageManager,$rootScope){function init(){return data.position?void updateMatch().then(updateHistory).then(function(){view.loading=!1,view.match&&MessageManager.loadMatchConversation(view.position,view.match.future.person.id).then(function(conversation){view.match.conversation=conversation,("messaging"===$location.$$hash||view.match.conversation.unread)&&view.showMessaging();var person=view.match.future.person,fullName=person.first_name+(person.last_name?" "+person.last_name:null);seoUtil.set({title:"Match with "+fullName}),markAsSeen()})}):$location.path("/organisation/home")}function updateHistory(){var deferred=$q.defer();return view.match?History.list({person_id:view.match.future.person.id},function(history){view.history=history,deferred.resolve(history)},deferred.reject):deferred.resolve(),
deferred.promise}function getTabLabel(){return TABS.labels[$scope.state]}function wasMessaged(match){return!!match.organisation_engaged_on}function decorateMatch(match){match.contacted=wasMessaged(match),match.unread=!1,data.unread&&(match.unread=data.unread.filter(function(row){return match.position_id===row.position_id&&match.future.person.id===row.person_id}).length>0),match.unreviewed=(!match.contacted||match.unread)&&!match.archive}function getFilteredMatches(state){return view.matches.forEach(decorateMatch),"undefined"==typeof state&&(state=$scope.state),view.matches.filter(function(match){return state!==TABS.states.REJECTED&&match.archive?!1:state===TABS.states.REJECTED?match.archive:state===TABS.states.INTERESTED?match.interested:state===TABS.states.CONTACTED?wasMessaged(match):state===TABS.states.UNREVIEWED?match.unreviewed:!0})}function updateFilteredMatches(){var i,tempMatches=[];for(uninterestedCount=uninterestedCount||0,i=0;i<view.matches.length;i+=1)view.matches[i].interested!==!1?tempMatches.push(view.matches[i]):uninterestedCount++;view.matches=tempMatches,view.filteredMatches=getFilteredMatches(),view.tabCounts=[],Object.keys(TABS.states).forEach(function(key){var state=TABS.states[key];view.tabCounts[state]=getFilteredMatches(state).length}),view.tabCounts[TABS.states.NOT_INTERESTED]=uninterestedCount}function updateMatch(){return view.match=null,view.person=null,Matcher.getMatches("future",view.position).then(function(response){for(var i=0;i<response.matches.length;i++)response.matches[i].future.id===view.futureId&&(view.matches=response.matches,view.match=response.matches[i],view.person=view.match.future.person,showSocialData(view.match),window.updateResizables(),updateFilteredMatches(),setTab(cachedState))})}function showSocialData(){var orgs,match=view.match,fullContact=match.future.person.full_contact||{},hasGithub=!!match.future.person.github,info={};fullContact.contactInfo&&(info.name=fullContact.contactInfo.fullName||null,info.websites=fullContact.contactInfo.websites||null),info.social=fullContact.socialProfiles||[],orgs=fullContact.organizations||[],info.orgs=orgs&&orgs.length?orgs:null,fullContact.demographics&&fullContact.demographics.locationDeduced&&(info.location=fullContact.demographics.locationDeduced.deducedLocation||null),hasGithub&&(match.future.person.github.url=match.future.person.github.html_url,match.future.person.github.type="github",info.social.push(match.future.person.github)),info.social=info.social.filter(function(social){return-1!==socialIcons.indexOf(social.type)}),view.match.info=info}function markAsSeen(){view.match&&view.match.isNew&&Matcher.markPositionMatchSeen(view.position,view.match).then(function(updated){view.position.matches=updated.matches,view.data.updatePositions().then(function(){view.position=view.data.position})})}function setTab(state,setMatch){var newMatch;if(setMatch&&$rootScope.sidebarClosed&&$rootScope.toggleSidebar(),!view.tabCounts[state]||state===TABS.states.NOT_INTERESTED){if(setMatch)return;state!==TABS.states.ALL&&(state=TABS.states.ALL)}$scope.state=state,localStorage.STATE_CACHE=state,updateFilteredMatches(),setMatch&&!tabHasMatch(state,view.match)&&(newMatch=view.filteredMatches[0],$location.path("/organisation/positions/"+view.position.id+"/matches/"+newMatch.future.id))}function tabHasMatch(state,match){var i,matches=getFilteredMatches(state);for(i=0;i<matches.length;i++)if(match.id===matches[i].id)return!0;return!1}function setArchived(state,showNext){var method=state?"archiveFuture":"unarchiveFuture";Matcher[method](view.position,view.match).then(function(){view.match.archive=state,view.matches.forEach(function(match){match.future.id===view.match.future.id&&(match.archive=state)}),updateFilteredMatches(),showNext&&showNextMatch()})}function getMatchIndex(){for(var i=0;i<view.filteredMatches.length;i++)if(view.filteredMatches[i].future.id===view.match.future.id)return i;return null}function showNextMatch(){var i=getMatchIndex(),next=null;return view.filteredMatches.length?(next=i>=view.filteredMatches.length-1?view.filteredMatches[0]:view.filteredMatches[i+1],!next||view.filteredMatches.length<1||next.future.id===view.match.future.id?noMoreMatches():void $location.path("/organisation/positions/"+view.position.id+"/matches/"+next.future.id)):noMoreMatches()}function showPreviousMatch(){var i=getMatchIndex(),previous=null;return previous=0>=i?view.filteredMatches[view.filteredMatches.length-1]:view.filteredMatches[i-1],!previous||view.filteredMatches.length<=1||previous.future.id===view.match.future.id?noMoreMatches():void $location.path("/organisation/positions/"+view.position.id+"/matches/"+previous.future.id)}function noMoreMatches(){if(view.tabCounts[TABS.states.ALL]&&$scope.state!==TABS.states.ALL)return setTab(TABS.states.ALL);var baseUrl="/organisation/positions/"+view.position.id;$location.path(view.showArchived?baseUrl+"/archived":baseUrl)}function assignPosition(){Modal.open("assign-position",{position:view.position}).then(function(){view.isPositionOwner=data.position&&data.position.account_id===data.session.account_id})}var uninterestedCount,view=this,cachedState=localStorage.STATE_CACHE?parseInt(localStorage.STATE_CACHE,10):0;view.data=data,view.position=data.position||null,view.matches=[],view.loading=!0,view.futureId=$route.current.params.futureId||null,view.isPositionOwner=data.position&&data.position.account_id===data.session.account_id,view.history={loading:!0},view.tabs=TABS,view.showSubnav=!0,$scope.viewMode="single",$scope.state=TABS.states.ALL,view.setArchived=setArchived,view.showPreviousMatch=showPreviousMatch,view.showNextMatch=showNextMatch,view.assignPosition=assignPosition,view.showMessaging=messagingUtil.reveal,view.setTab=setTab,view.getTabLabel=getTabLabel,view.updateFilteredMatches=updateFilteredMatches,init()},module.exports.$inject=["data","Matcher","$route","$scope","$location","Modal","History","$q","MessageManager","$rootScope"],module.exports.resolve={session:resolvers.session,data:resolvers.organisation.dashboard}},{"../../../../shared/social-icons.json":220,"../../../resolvers/index":142,"../../../utils/match-list-states":204,"../../../utils/messaging":205,"../../../utils/seo":208}],50:[function(require,module,exports){var resolvers=require("../../../resolvers/index"),TABS=require("../../../utils/match-list-states"),positionUtil=require("../../../utils/position");module.exports=function($scope,$location,$timeout,$rootScope,Position,PositionCreator,Modal,Slug,Matcher,data){function init(){data.position&&updateMatches().then(function(){view.loading=!1,$scope.$watch("filter",function(){view.filteredMatches=getFilteredMatches()},!0),setFilterOptions(),setTab(cachedState)})}function setTab(state){return state===TABS.states.ALL||view.tabCounts[state]&&state!==TABS.states.NOT_INTERESTED?($scope.filter.state=state,void(localStorage.STATE_CACHE=state)):void(localStorage.STATE_CACHE=$scope.filter.state)}function getTabLabel(){return TABS.labels[$scope.filter.state]}function setArchived(match,state){var method=state?"archiveFuture":"unarchiveFuture";Matcher[method](view.position,match).then(function(){match.archive=state,decorateMatches()})}function openMatch(futureId){$location.path("/organisation/positions/"+view.position.id+"/matches/"+futureId)}function toggleReduced(){$scope.reduced=!$scope.reduced}function setFilterOptions(){var filterOptions={levels:[],skills:[],tags:[],locations:[]};view.matches.forEach(function(match){var f=match.future;-1===filterOptions.levels.indexOf(f.level.name)&&filterOptions.levels.push(f.level.name),f.skills.forEach(function(skill){-1===filterOptions.skills.indexOf(skill.name)&&filterOptions.skills.push(skill.name)})}),$scope.filterOptions=filterOptions}function updateMatches(){return Matcher.getMatches("future",view.data.position).then(function(response){view.matches=response.matches,decorateMatches()})}function decorateMatches(){view.tabCounts=[],view.matches.forEach(decorateMatch),Object.keys(TABS.states).forEach(function(key){var state=TABS.states[key];view.tabCounts[state]=getFilteredMatches(state).length}),view.tabCounts[TABS.states.NOT_INTERESTED]=view.position.rejectedMatches,view.filteredMatches=getFilteredMatches()}function wasMessaged(match){return!!match.organisation_engaged_on}function decorateMatch(match){match.contacted=wasMessaged(match),match.unread=!1,data.unread&&(match.unread=data.unread.filter(function(row){return match.position_id===row.position_id&&match.future.person.id===row.person_id}).length>0),match.unreviewed=(!match.contacted||match.unread)&&!match.archive}function getFilteredMatches(state){return"undefined"==typeof state&&(state=$scope.filter.state),view.matches.filter(function(match){return state!==TABS.states.REJECTED&&match.archive?!1:state===TABS.states.REJECTED?match.archive:state===TABS.states.INTERESTED?match.interested:state===TABS.states.CONTACTED?wasMessaged(match):state===TABS.states.UNREVIEWED?match.unreviewed:!0})}function publicPositionLink(){return"/p/"+Slug.organisation(data.organisation)+"/"+view.position.id}function editPosition(){extendPositionIfExpired(function(){$location.path("/organisation/positions/"+view.position.id+"/edit")})}function extendPosition(callback){Modal.open("select-days").then(function(days){days&&Position.extend({days:days,id:view.position.id},function(response){view.position.expiry=response.data.expiry,view.position.remaining=positionUtil.getRemaining(response.data),callback&&callback()})})}function deletePosition(){var text="Please confirm that you want to delete this published position. This will move the position back to drafts. This is action is not reversible.",func=Position.softDelete;view.position.draft&&(func=Position.hardDelete,text="Please confirm that you want to delete this draft position. This will remove this position from the system. This action is not reversible."),Modal.open("confirm",{title:"Are you sure?",text:text,confirmText:"Delete",confirmIcon:"trash",confirmType:"danger"}).then(function(res){res&&func({id:view.position.id},function(position){$location.path("/organisation/positions/"+(position.draft?"drafts":"live")),$rootScope.updateBalance()})})}function publishPosition(){return view.position.draft?view.position.organisation.logo?void Modal.open("select-days").then(function(days){if(days){var pos=angular.copy(view.position);pos.draft=!1,pos.days=days,PositionCreator.update(pos).then(function(){$location.path("/organisation/positions/"+view.position.id+"/matching"),$rootScope.updateBalance()})["catch"](function(error){Modal.open("api-error",{title:"Can't publish",error:error?error.data:{}})})}}):Modal.open("complete-profile"):void 0}function sharePosition(){extendPositionIfExpired(function(){Modal.open("share",{position:view.position})})}function extendPositionIfExpired(callback){if(view.position.remaining>=0||view.position.draft){if(callback)return callback()}else Modal.open("confirm",{position:view.position,question:"This position has expired",text:"Before proceeding, you need to extend it",confirmIcon:"refresh",confirmText:"Extend position"}).then(function(res){res&&extendPosition(callback)})}function viewPosition(){extendPositionIfExpired(function(){$location.path(publicPositionLink())})}function assignPosition(){Modal.open("assign-position",{position:view.position}).then(function(){view.isPositionOwner=data.position&&data.position.account_id===data.session.account_id})}var view=this,cachedState=localStorage.STATE_CACHE?parseInt(localStorage.STATE_CACHE,10):0;view.data=data,view.position=$scope.position=data.position,view.currentPlan=data.currentPlan,view.matches=[],view.predicate=["-unread","-isNew","-score"],view.isPositionOwner=data.position&&data.position.account_id===data.session.account_id,view.loading=!0,view.organisation=data.organisation,$scope.viewMode=data.viewMode,$scope.tabs=TABS,$scope.reduced=!1,$scope.filter={state:TABS.states.ALL,search:null},view.publicPositionLink=publicPositionLink,view.deletePosition=deletePosition,view.extendPosition=extendPosition,view.viewPosition=viewPosition,view.publishPosition=publishPosition,view.editPosition=editPosition,view.openMatch=openMatch,view.sharePosition=sharePosition,view.assignPosition=assignPosition,view.toggleReduced=toggleReduced,view.setArchived=setArchived,view.setTab=setTab,view.wasMessaged=wasMessaged,view.getTabLabel=getTabLabel,init()},module.exports.$inject=["$scope","$location","$timeout","$rootScope","Position","PositionCreator","Modal","Slug","Matcher","data"],module.exports.resolve={session:resolvers.session,data:resolvers.organisation.dashboard}},{"../../../resolvers/index":142,"../../../utils/match-list-states":204,"../../../utils/position":207}],51:[function(require,module,exports){module.exports=function($location){$location.path("/organisation/positions/live")},module.exports.$inject=["$location"]},{}],52:[function(require,module,exports){var resolvers=require("../../resolvers/index"),debug=require("../../core/debug"),SIZE_OPTIONS=["1-5","5-10","10-20","20-50","50-100","100+"];module.exports=function($window,$location,$routeParams,Tour,Session,Step,Organisation,OrganisationLookup,ImageUploader,session){function init(){view.name&&nameChange(),view.about&&aboutChange(),view.location&&locationChange(view.location),view.website&&websiteChange(),twitterChange(),view.size&&sizeChange(!0),view.logo&&(view.formValid.logo.valid=!0,view.logoStyle={"background-image":"url("+view.logo+")"}),view.logoUpload=null}function showUploadOptions(){angular.element("#file-upload").click()}function logoChange(files){function refreshLogo(err){function uploadError(err){view.formValid.logo.valid=!1,view.formValid.logo.message="There was an error uploading your file",console.error(err)}return err?uploadError(err):void Organisation.get({id:session.organisation.id},function(org){org.logo?(view.formValid.logo.valid=!0,view.formValid.logo.message=null):(view.formValid.logo.valid=!1,view.formValid.logo.message="Your image could not be uploaded"),view.logo=org.logo,view.logoStyle={"background-image":"url("+view.logo+")"}},uploadError)}ImageUploader.uploadImage(session,files,refreshLogo)}function nameChange(){view.name?OrganisationLookup.get({organisation:view.name},function(response){var check=!response.used||session.organisation.name===view.name;view.formValid.name.valid=check,view.formValid.name.css=check?"valid":"invalid",view.formValid.name.message=check?null:"This company name is already in use!"},function(error){debug.error(error)}):(view.formValid.name.valid=!1,view.formValid.name.css="invalid",view.formValid.name.message="You must specify your company name.")}function aboutChange(){var check=view.about&&view.about.length<201;view.formValid.about.valid=check,view.formValid.about.css=check?"valid":"invalid",view.formValid.about.message=check?null:"You must provide a short summary (up to 200 characters long) about your company."}function websiteChange(){var myRegExp=/^(?:(?:https?):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i,check=myRegExp.test(addProtocolPrefix(view.website));view.formValid.website.valid=check,view.formValid.website.css=check?"valid":"invalid",view.formValid.website.message=check?null:"You must provide a valid website address."}function twitterChange(){var check=!view.twitter||0===view.twitter.length||view.twitter.length>2&&view.twitter.length<201;view.formValid.twitter.valid=check,view.formValid.twitter.css=check?"valid":"invalid",view.formValid.twitter.message=check?null:"You must provide a valid twitter handle. (longer than 2 characters)"}function addProtocolPrefix(website){return 0===website.indexOf("http://")||0===website.indexOf("https://")?website:"http://"+website}function sizeChange(on_load){if(on_load=on_load||!1,!on_load||view.size){var check=!!view.size;view.formValid.size.valid=check,view.formValid.size.css=check?"valid":"invalid",view.formValid.size.message=check?null:"You must specify the size of your company."}}function locationChange(val){"undefined"!=typeof val&&(view.formValid.location.valid=!!val,view.formValid.location.message=val?null:"You must enter a valid location")}function isValid(){var validity=!0;for(var key in view.formValid)view.formValid.hasOwnProperty(key)&&(validity=validity&&view.formValid[key].valid);return validity}function submit(){Step.updateStep(2);var org=Organisation.get({id:session.organisation.id},function(){org.name=view.name,org.about=view.about,org.website=view.website,org.size=view.size,org.location=view.location,org.twitter=view.twitter,delete org.openings,org.$save(function(){$location.path("/organisation/home")})})}var view=this;view.step=session.step,view.name=session.organisation.name,view.about=session.organisation.about,view.size=session.organisation.size||null,view.logo=session.organisation.logo,view.twitter=session.organisation.twitter;var hasAddress=session.organisation.location&&session.organisation.location.formatted_address;view.location_text=hasAddress?session.organisation.location.formatted_address:void 0,view.location="undefined"!=typeof session.organisation.location?session.organisation.location:{},view.website=session.organisation.website,view.sizeOptions=SIZE_OPTIONS,view.formValid={name:{valid:null,message:null},logo:{valid:!0,message:null},location:{valid:null,message:null},about:{valid:null,message:null},website:{valid:null,message:null},twitter:{valid:null,message:null},size:{valid:null,message:null}},view.tour=Tour.getTour(),view.nameChange=nameChange,view.aboutChange=aboutChange,view.websiteChange=websiteChange,view.twitterChange=twitterChange,view.sizeChange=sizeChange,view.logoChange=logoChange,view.locationChange=locationChange,view.showUploadOptions=showUploadOptions,view.isValid=isValid,view.submit=submit,init()},module.exports.$inject=["$window","$location","$routeParams","Tour","Session","Step","Organisation","OrganisationLookup","ImageUploader","session"],module.exports.resolve={session:resolvers.session}},{"../../core/debug":87,"../../resolvers/index":142}],53:[function(require,module,exports){var resolvers=require("../../resolvers/index"),POLLING_FREQUENCY=800,POLLING_LIMIT=15,REDIRECT_DELAY=1500;module.exports=function($timeout,$location,SampleData,$q,Position,$scope,$route,CacheFactory){function init(){poll()}function poll(){updatePosition().then(function(position){return!position.processing||view.timesPolled>POLLING_LIMIT?showButton():(view.pollingInterval=$timeout(poll,POLLING_FREQUENCY),void(view.timesPolled+=1))})}function showButton(){view.step=2,$timeout(redirect,REDIRECT_DELAY)}function redirect(){$location.path("/organisation/positions/"+view.position.id)}function updatePosition(){var deferred=$q.defer();return Position.get({id:$route.current.params.positionId},function(position){position?(CacheFactory.clearAll(),view.position=position,deferred.resolve(view.position)):deferred.reject("Too many positions")}),deferred.promise}var view=this;view.step=1,view.timesPolled=0,view.timeLoads=SampleData.getSample(20).map(function(position){return position.time_load}),init(),$scope.$on("$destroy",function(){view.pollingInterval&&$timeout.cancel(view.pollingInterval)})},module.exports.$inject=["$timeout","$location","SampleData","$q","Position","$scope","$route","CacheFactory"],module.exports.resolve={session:resolvers.session}},{"../../resolvers/index":142}],54:[function(require,module,exports){var resolvers=require("../../resolvers/index");module.exports=function(future){var view=this;view.future=future},module.exports.$inject=["future"],module.exports.resolve={session:resolvers.session,future:resolvers.organisation.member}},{"../../resolvers/index":142}],55:[function(require,module,exports){var resolvers=require("../../../resolvers/index");module.exports=function(position,Modal,Position,$location){function deletePosition(position){Modal.open("confirm",{title:"Reclaim Credits?",text:"This action will unpublish your position, moving it back to drafts, and restore your credit balance.",confirmIcon:"trash",confirmType:"danger"}).then(function(res){res&&Position.get({id:position.id},function(position){position.$remove().then(function(){$location.path("/organisation/positions/"+(position.draft?"drafts":"live"))})})})}var vm=this;vm.position=position,vm.deletePosition=deletePosition},module.exports.$inject=["position","Modal","Position","$location"],module.exports.resolve={position:resolvers.position}},{"../../../resolvers/index":142}],56:[function(require,module,exports){var resolvers=require("../../../resolvers/index"),positionUtil=require("../../../utils/position");module.exports=function($scope,session,credits,PositionCreator,Modal,$location,$rootScope){function init(){"undefined"!=typeof view.organisation.location&&(view.position.location_text=view.organisation.location.formatted_address,view.position.location=view.organisation.location),view.$watch("position",positionChange,!0),view.$watch("step",stepChange,!0)}function importFromUrl(type){var view=this;Modal.open("import-position",{type:type}).then(function(position){position.description&&(view.position.description=position.descriptionTrimmed),position.level&&(view.position.level=position.level),position.skills&&(view.position.bonus_skills=position.skills),position.title&&(view.position.title=position.title),position.location&&(view.position.location_text=position.location.formatted_address,view.position.location=position.location),position.time_load&&(view.position.time_load=position.time_load)})}function clonePosition(){var view=this;Modal.open("clone-position").then(function(position){position.description&&(view.position.description=position.descriptionTrimmed),position.level&&(view.position.level=position.level),position.bonus_skills&&(view.position.bonus_skills=position.bonus_skills),position.required_skills&&(view.position.required_skills=position.required_skills),position.title&&(view.position.title=position.title),position.description&&(view.position.description=position.description),position.location&&(view.position.location_text=position.location.formatted_address,view.position.location=position.location),position.visa&&(view.position.visa=position.visa),position.place_of_work&&(view.position.place_of_work=position.place_of_work),position.contract_type&&(view.position.contract_type=position.contract_type),position.currency&&(view.position.currency=position.currency),position.salary&&(view.position.salary=position.salary),position.time_load&&(view.position.time_load=position.time_load)})}function positionChange(){validateForm(!1)}function stepChange(val){val>view.highStep&&(view.highStep=val)}function goToStep(index){view.highStep>=index&&(view.step=index)}function validateForm(submitted){var field,invalidState=submitted?!1:null,title=view.position.title,description=view.position.description;view.validation={location:!!view.position.location||invalidState,title:!!(title&&title.length>3)||invalidState,description:!!(description&&description.length>3&&description.length<=300)||invalidState,level:view.position.level||invalidState,place_of_work:view.position.place_of_work||invalidState,contract_type:view.position.contract_type||invalidState,required_skills:view.position.required_skills.length||view.position.bonus_skills.length||invalidState,bonus_skills:view.position.required_skills.length||view.position.bonus_skills.length||invalidState};for(field in view.validation)if(view.validation.hasOwnProperty(field)&&!view.validation[field]&&"form"!==field)return view.step=1,view.validation.form=!1,!1;return view.validation.form=!0,!0}function validateShape(){var key,values=view.position.time_load;for(key in values)if(values.hasOwnProperty(key)&&.1!==values[key].value)return!0;return!1}function submitForm(){validateForm(!0)&&(view.step+=1)}function submitShape(){validateShape()&&(view.step+=1)}function isValid(){return PositionCreator.isValid(view.position)}function save(){var valid=validateForm(!0);valid&&(view.position.location_anywhere=view.position.visa,PositionCreator.create(view.position).then(function(position){position.remaining=positionUtil.getRemaining(position),$location.path("/organisation/positions/"+position.id)},function(err){view.error=err.data.error}))}var view=$scope;$rootScope.section="create",view.organisation=session.organisation,view.credits=credits,view.position=PositionCreator.getBase(view.organisation.id,session.account_id),view.position.organisation=view.organisation,view.step=view.highStep=1,view.isValid=isValid,view.submitForm=submitForm,view.submitShape=submitShape,view.save=save,view.validateShape=validateShape,view.goToStep=goToStep,view.importFromUrl=importFromUrl,view.clonePosition=clonePosition,init()},module.exports.$inject=["$scope","session","credits","PositionCreator","Modal","$location","$rootScope"],module.exports.resolve={session:resolvers.session,credits:resolvers.organisation.credits}},{"../../../resolvers/index":142,"../../../utils/position":207}],57:[function(require,module,exports){var resolvers=require("../../../resolvers/index");module.exports=function($scope,session,credits,position,accounts,$location,PositionCreator,$rootScope){function init(){position.location_text=hasAddress?position.location.formatted_address:null,position.location="undefined"!=typeof position.location?position.location:{}}function validate(){return PositionCreator.isValid(view.position)}function save(){view.loading||(view.loading=!0,view.position.location_anywhere=view.position.visa,PositionCreator.update(position).then(function(position){position.draft?$location.path("/organisation/positions/"+position.id):($rootScope.updateBalance(),$location.path("/organisation/positions/"+position.id+"/matching"))},function(err){view.loading=!1,view.error=err.data.error}))}var view=$scope,hasAddress=position.location&&position.location.formatted_address;view.credits=credits,view.accounts=accounts.accounts,view.organisation=session.organisation,view.position=position,"undefined"==typeof view.position.visa&&(view.position.visa=!1),"undefined"==typeof view.position.relocation_anywhere&&(view.position.relocation_anywhere=!1),view.validate=validate,view.save=save,init()},module.exports.$inject=["$scope","session","credits","position","accounts","$location","PositionCreator","$rootScope"],module.exports.resolve={session:resolvers.session,position:resolvers.position,credits:resolvers.organisation.credits,accounts:resolvers.organisation.accounts}},{"../../../resolvers/index":142}],58:[function(require,module,exports){var resolvers=require("../../../resolvers/index");module.exports=function(position){function back(){history.back()}var vm=this;vm.position=position,vm.back=back},module.exports.$inject=["position"],module.exports.resolve={position:resolvers.position}},{"../../../resolvers/index":142}],59:[function(require,module,exports){var _=require("lodash"),resolvers=require("../../resolvers/index"),seoUtil=require("../../utils/seo"),timeloadUtility=require("../../utils/timeload"),config=require("../../config"),SKILL_CHART_LIMIT=10;module.exports=function(data,Sharing,History,$location,$anchorScroll,$q,Modal,$timeout,OrganisationMedia,$scope){function init(){localStorage.profileVisited="true",view.distrubutionData=getDistributionData(),view.skillsData=getSkillsData(),seoUtil.set({title:organisation.name+"'s profile",description:organisation.name+"'s Workshape, professional history and open-source profile on Workshape.io"}),loadMedia(function(){initParallax()}),resetHiringProcess(),$scope.$on("$destroy",destroy),$scope.$watch("hiringProcess",function(newVal,oldVal){_.isEqual(newVal,oldVal)||(view.hiringProcessChanged=!0)},!0),$scope.renderComplete()}function resize(){setTimeout(function(){window.updateResizables()})}function getAllTimeLoads(){return team.map(function(member){return member.time_load})}function getDistributionData(){var i,timeload,key,point,values={};for(i=0;i<team.length;i+=1){timeload=team[i].time_load;for(key in timeload)timeload.hasOwnProperty(key)&&(point=timeload[key],values[point.name]||(values[point.name]=0),values[point.name]+=point.value)}return Object.keys(values).map(function(key){return{label:key,value:values[key]}})}function getSkillsData(){var out,i,n,skills,point,values={};for(i=0;i<team.length;i+=1)for(skills=team[i].skills,n=0;n<skills.length;n+=1)point=skills[n],values[point.stem]||(values[point.stem]=0),values[point.stem]+=1;return out=Object.keys(values).map(function(key){return{label:key,value:values[key]}}).sort(function(a,b){return a.value>b.value?-1:1}),out.length>SKILL_CHART_LIMIT?out.splice(0,SKILL_CHART_LIMIT):out}function getAverageTimeload(){var timeloads=team.map(function(member){return member.time_load});return timeloadUtility.getAverage(timeloads)}function destroy(){parallax&&parallax.destroy()}function initParallax(){config.MOBILE||(parallax=skrollr.init({forceHeight:!1}),refreshParallax(),window.addEventListener("load",function(){refreshParallax()}))}function refreshParallax(){setTimeout(function(){parallax.refresh()}),resize()}function loadMedia(callback){view.media.loading=!0,OrganisationMedia.list({id:organisation.id},function(media){view.media.loading=!1,view.media.entries=media.sort(function(a,b){return a.order>b.order?1:-1}),"function"==typeof callback&&callback(),resize()},handleError)}function addMedia(){Modal.open("media").then(function(){loadMedia(function(){view.media.slide=view.media.entries.length-1})}),resize()}function deleteMedia(id){if(window.confirm("Are you sure?")){var media=new OrganisationMedia;media.id=id,view.loading=!0,handleSuccess("Deleted"),media.$delete(loadMedia,handleError),resize()}}function orderMedia(id,order){view.loading=!0,OrganisationMedia.order({id:id,order:order},function(){view.loading=!1,loadMedia(function(){showMedia(id)})},handleError)}function showMedia(id){var i;for(i=0;i<view.media.entries.length;i++)if(view.media.entries[i].id===id)return void(view.media.slide=i)}function resetHiringProcess(){$scope.hiringProcess=_.cloneDeep(organisation.hiring_process||[]),resize()}function addParagraph(){view.organisation.profile_paragraphs=view.organisation.profile_paragraphs||[],view.paragraph.oldValue=null,view.paragraph.addingNew=!0,view.organisation.profile_paragraphs.push({title:null,text:null}),editParagraph(view.organisation.profile_paragraphs.length-1),resize()}function editPerks(){view.perks.editing=!0,view.perks.oldValue=_.clone(view.organisation.perks||[]),resize()}function restorePerks(){view.organisation.perks=view.perks.oldValue,view.perks.editing=!1,resize()}function editParagraph(index){view.paragraph.editing=index,view.paragraph.oldValue={title:view.organisation.profile_paragraphs[index].title,text:view.organisation.profile_paragraphs[index].text},resize()}function restoreParagraph(){var paragraph=view.organisation.profile_paragraphs[view.paragraph.editing];return view.paragraph.addingNew?removeParagraph(view.paragraph.editing):(paragraph.title=view.paragraph.oldValue.title,paragraph.text=view.paragraph.oldValue.text,resetParagraphs(),void resize())}function removeParagraph(index,confirm){(!confirm||window.confirm("Are you sure?"))&&(view.organisation.profile_paragraphs.splice(index,1),view.paragraph.addingNew||save(),resetParagraphs())}function resetParagraphs(){view.paragraph.oldValue=null,view.paragraph.addingNew=!1,view.paragraph.editing=!1}function save(){view.loading||(view.loading=!0,view.organisation.hiring_process=$scope.hiringProcess,view.organisation.$save(function(){resetHiringProcess(),view.perks.editing=!1,view.loading=!1,view.hiringProcessChanged=!1,resetParagraphs(),handleSuccess("Saved")},handleError))}function togglePreview(){
(view.editable||view.previewMode)&&(view.editable=!view.editable,view.previewMode=!view.previewMode,resize())}function togglePublic(){organisation["public"]=!organisation["public"],resize(),save()}function twitterShare(){return Sharing.share.twitter({url:getProfileUrl(),text:"Have a look at "+organisation.name+" profile on @workshape_io"})}function facebookShare(){return Sharing.share.facebook(getProfileUrl())}function getProfileUrl(){return"http://www.workshape.io/oganisation/"+organisation.slug+"/profile"}function handleError(res){view.error=res.data.error||"There was an error with your request ("+res.status+")",view.loading=!1,$timeout(function(){view.error=null},3e3)}function handleSuccess(message){view.error=null,view.success=message,view.loading=!1,$timeout(function(){view.success=null},2e3)}if(!data.organisation)return void(this.notFound=!0);var parallax,view=this,session=data.session,organisation=data.organisation,team=data.team||[];view.organisation=data.organisation,view.previewMode=!1,view.editable=session.organisation&&session.organisation.id===organisation.id,view.job={editing:null,creating:!1},view.team=team,view.timeLoad=team&&team.length?getAverageTimeload():timeloadUtility.getDefault(),view.hiringProcessChanged=!1,view.loading=!1,view.timeLoad=data.future?data.future.time_load:null,view.timeLoads=getAllTimeLoads(),view.perks={editing:!1,oldValue:null},view.paragraph={editing:null,oldValue:null,addingNew:!1},view.media={entries:null,loading:!0,slide:0},view.togglePreview=togglePreview,view.togglePublic=togglePublic,view.facebookShare=facebookShare,view.twitterShare=twitterShare,view.addParagraph=addParagraph,view.editParagraph=editParagraph,view.restoreParagraph=restoreParagraph,view.removeParagraph=removeParagraph,view.editPerks=editPerks,view.restorePerks=restorePerks,view.resetHiringProcess=resetHiringProcess,view.addMedia=addMedia,view.deleteMedia=deleteMedia,view.orderMedia=orderMedia,view.handleSuccess=handleSuccess,view.handleError=handleError,view.save=save,init()},module.exports.$inject=["data","Sharing","History","$location","$anchorScroll","$q","Modal","$timeout","OrganisationMedia","$scope"],module.exports.resolve={data:resolvers.organisation.profile}},{"../../config":2,"../../resolvers/index":142,"../../utils/seo":208,"../../utils/timeload":210,lodash:256}],60:[function(require,module,exports){var debug=require("../../core/debug");module.exports=function($window,$http,$routeParams,Interest,Account,Organisation,OrganisationLookup,$location){function init(){view.loading=!0,Interest.isValidAccessCode({code:$routeParams.code}).$promise.then(function(interest){view.interest=!0,view.email=interest.email,view["package"]=interest["package"],view.referral_code=interest.referral_code,view.special_offer_code=interest.special_offer_code,view.loading=!1})["catch"](function(){view.invalid=!0,view.loading=!1})}function passwordChange(){if(view.password){var check=view.password.length>7&&view.password.length<26;view.formValid.password.valid=check,view.formValid.password.message=check?null:"Your password must be between 8 and 25 characters long."}else view.formValid.password.valid=null,view.formValid.password.message=null;view.formValid.passwordRepeat.valid=view.passwordRepeat&&view.passwordRepeat===view.password?!0:null}function nameChange(){view.name?OrganisationLookup.get({organisation:view.name},function(response){var check=!response.used;view.formValid.name.valid=check,view.formValid.name.message=check?null:"This company name is already in use! Do you already have an account?"},function(error){debug.error(error)}):(view.formValid.name.valid=null,view.formValid.name.message=null)}function signup(){var account=new Account,organisation=new Organisation;account.email=view.email,account.password=view.password,account.type="organisation",organisation.name=view.name,organisation.referred_code=view.referral_code,organisation.special_offer_code=view.special_offer_code,organisation.related_package=view["package"],view.loading=!0,account.$save(function(persistedAccount){$window.localStorage.setItem("workshape-token",persistedAccount.secret),$http.defaults.headers.common["x-workshape-token"]=persistedAccount.secret,organisation.$save(function(){Interest.useValidAccessCode({code:$routeParams.code},function(){$location.path("/organisation/info")},httpError)},httpError)},httpError)}function httpError(res){view.loading=!1,view.error=res.data.error}var view=this;view.loading=!0,view.error=!1,view.email=null,view.password=null,view.name=null,view.formValid={password:{valid:null,message:null},passwordRepeat:{valid:null,message:null},name:{valid:null,message:null}},view.passwordChange=passwordChange,view.nameChange=nameChange,view.signup=signup,init()},module.exports.$inject=["$window","$http","$routeParams","Interest","Account","Organisation","OrganisationLookup","$location"]},{"../../core/debug":87}],61:[function(require,module,exports){var resolvers=require("../../resolvers/index"),config=require("../../config"),StripeCheckout=window.StripeCheckout;module.exports=function($rootScope,$scope,$location,Tour,Subscription,Modal,data){function init(){var focusKey=$location.search().checkout;focusKey&&(view.focusOnPlan=getPlanByKey(focusKey)),data.subscription&&data.subscription.stripe_customer&&data.subscription.stripe_customer.sources&&data.subscription.stripe_customer.sources.data&&1===data.subscription.stripe_customer.sources.data.length&&(view.cardDetails=data.subscription.stripe_customer.sources.data[0])}function contactUs(){Modal.open("alert",{title:"Schedule a Meeting",text:'In order for us to understand your needs and work out a plan thats best for you please use the following link to schedule a meeting with our CEO Hung Lee:\n\n <a href="https://calendly.com/hung-lee" target="_blank">Schedule a Meeting</a>\n\nAlternatively, you can reach Hung by email:\n\n <a href="mailto:hung@workshape.io" target="_blank">hung@workshape.io</a>'})}function getPlanByKey(key){var i;for(i=0;i<view.plans.length;i+=1)if(view.plans[i].key===key)return view.plans[i];return null}function enterCardDetails(plan,frequency){function abandon(){console.log(" | Card Details Form Closed!")}function success(token){var subscription=new Subscription;subscription.organisation_id=data.session.organisation.id,subscription.subscription_plan_id=plan.id,subscription.frequency=frequency,subscription.currency=view.currency,subscription.email=data.session.email,view.coupon&&view.coupon.id&&(subscription.subscription_coupon_id=view.coupon.id),subscription.stripe_token=token.id,subscription.$save(function(response){view.subscription=response,$rootScope.subscription=response,response&&response.stripe_customer&&response.stripe_customer.sources&&response.stripe_customer.sources.data&&1===response.stripe_customer.sources.data.length&&(view.cardDetails=response.stripe_customer.sources.data[0]),view.focusOnPlan=null,view.justPurchased=!0},function(err){view.error=err})}view.error=null;var amount=100*plan.cost[view.currency][frequency];view.coupon&&view.coupon.percent_off&&(amount=amount/100*(100-view.coupon.percent_off)),StripeCheckout.configure({key:config.STRIPE_KEY,image:"/images/logo/checkout.jpg",token:success,allowRemember:!0,closed:abandon}).open({name:"Workshape.io",description:"1st payment for  "+plan.name+" plan",amount:amount,currency:view.currency,email:data.session.email})}function switchPlan(plan,frequency){view.error=null;var currentPlan=view.subscription.subscription_plan,errors=[];data.usage.recruiter_count>plan.recruiter_seats&&-1!==plan.recruiter_seats&&errors.push("You have too many recruiters on your team to use this plan!"),data.usage.position_count>plan.concurrent_jobs&&-1!==plan.concurrent_jobs&&errors.push("You have too many live positions active to use this plan!"),errors.length>0?Modal.open("alert",{title:"Switch not allowed!",text:errors.pop()}):Modal.open("confirm",{title:"Are you sure?",text:"This will change your subscription from "+currentPlan.name+" to "+plan.name+". Your account charges will be calculated on a pro-rata basis."}).then(function(outcome){if(outcome){var subscription=new Subscription;subscription.id=view.subscription.id,subscription.organisation_id=data.session.organisation.id,subscription.subscription_plan_id=plan.id,subscription.frequency=frequency,subscription.currency=view.currency,subscription.$save(function(response){view.subscription=response,$rootScope.subscription=response,view.justPurchased=!0},function(err){view.error=err})}})}function cancelPlan(){view.error=null;var errors=[];data.usage.position_count>0&&errors.push("You have live positions, you cannot cancel your subscription until you unpublish these."),errors.length>0?Modal.open("alert",{title:"Cannot cancel subscription",text:errors.pop()}):Modal.open("confirm",{title:"Are you sure?",text:"This will cancel your subscription with immediate effect."}).then(function(){var subscription=new Subscription;subscription.id=view.subscription.id,subscription.$delete(function(){view.justCancelled=!0,view.subscription=null,$rootScope.subscription=null})})}function updateCardDetails(){function abandon(){console.log(" | Update Form Closed!")}function success(token){var subscription=new Subscription;subscription.id=view.subscription.id,subscription.stripe_token=token.id,subscription.$save(function(response){view.subscription=response,$rootScope.subscription=response,response&&response.stripe_customer&&response.stripe_customer.sources&&response.stripe_customer.sources.data&&1===response.stripe_customer.sources.data.length&&(view.cardDetails=response.stripe_customer.sources.data[0])},function(err){view.error=err})}view.error=null,StripeCheckout.configure({key:config.STRIPE_KEY,image:"/images/logo/checkout.jpg",token:success,allowRemember:!0,closed:abandon}).open({name:"Workshape.io",description:"Change card details",panelLabel:"Update card!",email:data.session.email})}var view=this;view.tour=Tour.getTour(),view.plans=data.plans,view.plansClass=view.plans.length+"-options",view.subscription=data.subscription,view.cardDetails=null,view.coupon=data.coupon,view.currency=data.currency,view.justPurchased=!1,view.error=null,view.frequencyChoice="monthly",view.enterCardDetails=enterCardDetails,view.updateCardDetails=updateCardDetails,view.switchPlan=switchPlan,view.cancelPlan=cancelPlan,view.contactUs=contactUs,init()},module.exports.$inject=["$rootScope","$scope","$location","Tour","Subscription","Modal","data"],module.exports.resolve={data:resolvers.organisation.subscription}},{"../../config":2,"../../resolvers/index":142}],62:[function(require,module,exports){var locationUtils=require("../../shared/locationUtils"),ENTRIES_PER_ROW=3,contractTypes=[{id:1,name:"Contract"},{id:2,name:"Contract and Permanent"},{id:3,name:"Permanent"}],placesOfWork=[{id:1,name:"Onsite"},{id:2,name:"Onsite and Remote"},{id:3,name:"Remote"}];module.exports=function($scope,Companies){function getAggregateData(company){var pid=company.positions.reduce(function(prev,current){return current.place_of_work.id===prev?prev:0===prev?current.place_of_work.id:2},0);company.placeOfWork=placesOfWork[pid-1];var cid=company.positions.reduce(function(prev,current){return current.contract_type.id===prev?prev:0===prev?current.contract_type.id:2},0);company.contractType=contractTypes[cid-1],company.sponsorsVisa=company.positions.reduce(function(prev,current){return current.visa||prev},!1);var locations=[];return company.positions.forEach(function(position){var lo=locationUtils.getCityAndCountry(position.location);-1===locations.indexOf(lo)&&locations.push(lo)}),company.locations=1===locations.length?locations[0]:2===locations.length?locations.join(" and "):locations.slice(0,locations.length-1).join(", ")+" and "+locations[locations.length-1],company}function init(){Companies.hiring().then(function(res){vm.hiring=res.data,vm.loading=!1,vm.hiring.forEach(function(company){rows[rows.length-1].length>=ENTRIES_PER_ROW&&rows.push([]),rows[rows.length-1].push(getAggregateData(company))}),vm.rows=rows,$scope.renderComplete()},function(res){vm.loading=!1,vm.error=res.data.error})}var vm=this,rows=[[]];vm.loading=!0,init()},module.exports.$inject=["$scope","Companies"]},{"../../shared/locationUtils":217}],63:[function(require,module,exports){module.exports=function(Password){function forgot(){view.error=null,Password.forgot(view.email).then(done,error)}function done(){view.step=2}function error(err){view.error=err.data.error}var view=this;view.step=1,view.forgot=forgot},module.exports.$inject=["Password"]},{}],64:[function(require,module,exports){var debug=require("../../core/debug");module.exports=function($route,Password){function reset(){var changeKey=$route.current.params.key;Password.reset(changeKey,vm.password).then(function(){vm.step=2},function(err){debug.error(err),vm.step=3})}var vm=this;vm.step=1,vm.reset=reset},module.exports.$inject=["$route","Password"]},{"../../core/debug":87}],65:[function(require,module,exports){var debug=require("../../core/debug");module.exports=function(Interest,AccountLookup,Signup){function emailChange(){view.error=null,view.email?AccountLookup.get({email:view.email},function(response){if(view.email){var check=!response.used;view.formValid.email.valid=check,view.formValid.email.message=check?null:"This email address has already been used! Do you have already have an account?"}},debug.error):(view.formValid.email.valid=null,view.formValid.email.message=null)}function interest(){if(!view.loading){view.loading=!0;var i=new Interest;i.email=view.email,i.type="person",i.$save(function(){view.loading=!1,view.step=2},function(res){view.loading=!1,view.error=res.data.error})}}var view=this;view.email=null,view.formValid={email:{valid:null,message:null}},view.step=1,view.useGithub=Signup.github,view.emailChange=emailChange,view.interest=interest},module.exports.$inject=["Interest","AccountLookup","Signup"]},{"../../core/debug":87}],66:[function(require,module,exports){var resolvers=require("../../../resolvers/index"),positionUtil=require("../../../utils/position"),messagingUtil=require("../../../utils/messaging"),SPREAD_MODAL_DELAY=4e3;module.exports=function(data,$route,$timeout,Matcher,$location,Modal,Organisation){function init(){showMatch(),markAsSeen(),initShareModal(),view.match&&loadTeam()}function loadTeam(){Organisation.team({id:view.match.position.organisation.id},function(team){view.team=team})}function initShareModal(){setTimeout(function(){!localStorage.spreadModalSeen&&view.matches.length&&(localStorage.spreadModalSeen=!0,Modal.open("spread"))},SPREAD_MODAL_DELAY)}function markAsSeen(){view.match&&view.match.isNew&&Matcher.markFutureMatchSeen(view.future,view.match).then(function(updated){view.match.position.matches=updated.matches})}function showMatch(){view.matches.forEach(function(match,index){decorateMatch(match),match.conversation.unread&&messagingUtil.reveal(),match.position.id===positionId&&(view.match=match,view.matchIndex=index)})}function decorateMatch(match){match.position.remaining=positionUtil.getRemaining(match.position),match.position.organisation.website&&-1===match.position.organisation.website.indexOf("://")&&(match.position.organisation.website="http://"+match.position.organisation.website)}function setResponse(response,showNext){Matcher.respondToPosition(response,view.future,view.match).then(function(){view.changingResponse=!1,view.match.interested="yes"===response,view.match.not_now="not_now"===response,showNext?showNextMatch():("yes"===response||"not_now"===response)&&setTimeout(messagingUtil.reveal,50)})}function showPreviousMatch(){var previous=null;return previous=view.matchIndex<=0?view.matches[view.matches.length-1]:view.matches[view.matchIndex-1],!previous||view.matches.length<=1?noMoreMatches():void $location.path("person/matches/"+previous.position.id)}function showNextMatch(){var next=null;return next=view.matchIndex>=view.matches.length-1?view.matches[0]:view.matches[view.matchIndex+1],!next||view.matches.length<=1?noMoreMatches():void $location.path("person/matches/"+next.position.id)}function noMoreMatches(){$location.path("/person/matches")}var view=this,positionId=$route.current.params.positionId||null;view.data=data,view.matches=data.matches,view.future=data.future,view.setResponse=setResponse,view.showPreviousMatch=showPreviousMatch,view.showNextMatch=showNextMatch,view.changingResponse=!1,init()},module.exports.$inject=["data","$route","$timeout","Matcher","$location","Modal","Organisation"],module.exports.resolve={data:resolvers.person.dashboard}},{"../../../resolvers/index":142,"../../../utils/messaging":205,"../../../utils/position":207}],67:[function(require,module,exports){var resolvers=require("../../../resolvers/index");module.exports=function(data){var view=this;view.data=data,view.matches=data.matches,view.closest=data.closest,view.future=data.future},module.exports.$inject=["data"],module.exports.resolve={data:resolvers.person.dashboard}},{"../../../resolvers/index":142}],68:[function(require,module,exports){var timeloadUtility=require("../../../utils/timeload"),resolvers=require("../../../resolvers/index"),_=require("lodash");module.exports=function(History,session,$location){var view=this,defaultJob=timeloadUtility.getDefault();view.errors=[],view.job={title:"",employer:"",description:"",level:null,contract_type:null,place_of_work:null,skills:[],time_load:timeloadUtility.getDefault(),range:{from:new Date,to:new Date},type:"employment"},view.submit=function(){if(view.validate(!0)){var job=new History(view.job);job.person_id=session.person.id,job.from_date=job.range.from,job.to_date=job.range.to,job.time_load=timeloadUtility.normalise(job.time_load),job.$save(function(){$location.path("/profile")},function(res){view.errors=[res.data.error]})}},view.validate=function(highlightErrors){var errors=view.validationError(highlightErrors);return highlightErrors&&(view.errors=errors),!errors.length},view.validationError=function(){var errors=[];return _.isEqual(view.job.time_load,defaultJob)&&errors.push("Please adjust the shape"),view.job.title||errors.push("Please fill job title"),view.job.employer||errors.push("Please specify an employer"),view.job.level||errors.push("Please select seniority level"),view.job.contract_type||errors.push("Please select contract type"),view.job.place_of_work||errors.push("Please select location type"),errors}},module.exports.$inject=["History","session","$location"],module.exports.resolve={session:resolvers.session}},{"../../../resolvers/index":142,"../../../utils/timeload":210,lodash:256}],69:[function(require,module,exports){var resolvers=require("../../../resolvers/index");module.exports=function($route,session,History,$location){function init(){loadJob()}function loadJob(){var job,jobId=$route.current.params.id;return view.loading=!0,History.list({person_id:session.person.id},function(history){view.loading=!1,job=history.filter(function(job){return job.id===jobId})[0]||null,job&&(job.range={from:new Date(job.from_date),to:new Date(job.to_date)},view.job=job)},function(res){view.errors=[res.data.error]})}var view=this;view.errors=[],init(),view.submit=function(){if(view.validate(!0)){var job={id:view.job.id,title:view.job.title,description:view.job.description,time_load:view.job.time_load,type:view.job.type,employer:view.job.employer,skills:view.job.skills,level:view.job.level,place_of_work:view.job.place_of_work,contract_type:view.job.contract_type,person_id:view.job.person.id,from_date:view.job.range.from,to_date:view.job.range.to};new History(job).$save(function(){$location.path("/profile")},function(res){view.errors=[res.data.error]})}},view.validate=function(highlightErrors){var errors=view.validationError(highlightErrors);return highlightErrors&&(view.errors=errors),!errors.length},view.validationError=function(){var errors=[];return view.job?(view.job.title||errors.push("Please fill job title"),view.job.employer||errors.push("Please specify an employer"),errors):["Please fill all fields"]}},module.exports.$inject=["$route","session","History","$location"],module.exports.resolve={session:resolvers.session}},{"../../../resolvers/index":142}],70:[function(require,module,exports){var resolvers=require("../../resolvers/index");module.exports=function(session,$location){$location.path(session.step<4?"/person/incomplete":"/person/matches")},module.exports.$inject=["session","$location"],module.exports.resolve={session:resolvers.session}},{"../../resolvers/index":142}],71:[function(require,module,exports){var debug=require("../../core/debug");module.exports=function(Interest,AccountLookup){function emailChange(){view.error=null,view.email?AccountLookup.get({email:view.email},function(response){if(view.email){var check=!response.used;view.formValid.email.valid=check,view.formValid.email.message=check?null:"This email address has already been used! Do you have already have an account?"}},debug.error):(view.formValid.email.valid=null,view.formValid.email.message=null)}function verticalChange(){""===view.vertical?(view.formValid.vertical.valid=!1,view.formValid.vertical.message="Please select the area you work in!",view.formValid.otherVertical.valid=!0,view.formValid.otherVertical.message=null):(view.formValid.vertical.valid=!0,view.formValid.vertical.message=null,"other"!==view.vertical?(view.formValid.otherVertical.valid=!0,view.formValid.otherVertical.message=null):otherVerticalChange())}function otherVerticalChange(){"other"===view.vertical&&""===view.otherVertical?(view.formValid.otherVertical.valid=!1,view.formValid.otherVertical.message="Please give us clarity on what your vertical is!"):"other"===view.vertical&&null===view.otherVertical?(view.formValid.otherVertical.valid=null,view.formValid.otherVertical.message=null):(view.formValid.otherVertical.valid=!0,view.formValid.otherVertical.message=null)}function interest(){if(!view.loading){view.loading=!0;var i=new Interest;i.email=view.email,i.type="non-developer",i.vertical=view.vertical,"other"===view.vertical&&(i.other_vertical=view.otherVertical.substring(0,30)),i.$save(function(){view.loading=!1,view.step=2},function(res){view.loading=!1,view.error=res.data.error})}}var view=this;view.email=null,view.vertical="",view.otherVertical=null,view.formValid={email:{valid:null,message:null},vertical:{valid:null,message:null},otherVertical:{valid:null,message:null}},view.verticals=[{key:"",name:"--- Please select your area of work ---"},{key:"design",name:"Design"},{key:"sales",name:"Sales"},{key:"marketing",name:"Marketing"},{key:"hr",name:"Human Resources"},{key:"other",name:"Other"}],view.step=1,view.emailChange=emailChange,view.verticalChange=verticalChange,view.otherVerticalChange=otherVerticalChange,view.interest=interest},module.exports.$inject=["Interest","AccountLookup"]},{"../../core/debug":87}],72:[function(require,module,exports){var resolvers=require("../../resolvers/index"),POLLING_FREQUENCY=800,POLLING_LIMIT=15,REDIRECT_DELAY=1500;module.exports=function($timeout,$location,SampleData,session,Future,$q,$scope){function init(){poll()}function getAnimationSamples(){return SampleData.getSample(20).map(function(future){return future.time_load})}function poll(){updateFuture().then(function(future){return view.future=future,!future.processing||view.timesPolled>POLLING_LIMIT?showButton():(view.pollingInterval=$timeout(poll,POLLING_FREQUENCY),void(view.timesPolled+=1))})}function showButton(){view.step=2,$timeout(redirect,REDIRECT_DELAY)}function redirect(){$location.path("/person/matches")}function updateFuture(){var deferred=$q.defer();return Future.getPersonFuture({id:session.person.id},deferred.resolve,deferred.reject),deferred.promise}var view=this;view.step=1,view.timesPolled=0,view.timeLoads=getAnimationSamples(),init(),$scope.$on("$destroy",function(){view.pollingInterval&&$timeout.cancel(view.pollingInterval)})},module.exports.$inject=["$timeout","$location","SampleData","session","Future","$q","$scope"],module.exports.resolve={session:resolvers.session}},{"../../resolvers/index":142}],73:[function(require,module,exports){function resolveFutureWithID($q,$route,Future){var deferred=$q.defer();return Future.get({id:$route.current.params.id},function(future){for(var x in future.time_load)future.time_load[x].value=parseFloat(future.time_load[x].value,10).toFixed(1);deferred.resolve(future)}),deferred.promise}function resolveFuture($q,$route,Future,Session){var deferred=$q.defer();return Session.data().then(function(session){Future.getPersonFuture({id:session.person.id},function(future){for(var x in future.time_load)future.time_load[x].value=parseFloat(future.time_load[x].value,10).toFixed(1);deferred.resolve(future)})}),deferred.promise}var resolvers=require("../../resolvers/index"),timeload=require("../../utils/timeload.js"),PREVIEW_TOURTIPS={one:"Hey you! This is how your profile will look. You can make modifications to all text and your Workshape here. The most important aspects of your profile are your Workshape, your level, your location and the technologies that you would like to work with in your next job.",two:"Sections in yellow have to be completed before you can proceed."};module.exports=function($scope,$routeParams,$timeout,$location,Tour,Person,Session,Step,ImageUploader,Modal,$log,session,future){function init(){"undefined"==typeof $scope.future.skills&&($scope.future.skills=[]),$scope.$watch("fields",handleChange,!0),$scope.$watch("future",handleChange,!0),"organisation-member"===session.type&&(view.tourtips.one="Hi! Please complete and review your profile. You can make modifications to all text and your Workshape here."),setTimeout(function(){initialised=!0})}function editRelocation(){return view.changed?view.save(!1,function(){$location.path("/person/location")}):void $location.path("/person/location")}function handleChange(){initialised&&(view.changed=!0)}function getFields(){var loc=future.location||session.person.location,fields={name:[future.person.first_name,future.person.last_name].join(" "),location_text:loc&&"undefined"!=typeof loc.formatted_address?loc.formatted_address:null,about:future.person.about,location:loc,editor:future.person.editor,os:future.person.os};return""===fields.name.trim()&&(fields.name=null),fields}function getPlaceholders(){return{location:"person"===session.type?"Desired location":"Location",title:"person"===session.type?"Desired job title":"Job title",about:"person"===session.type?"What do you want to do?":"What you do?",level:"person"===session.type?"Desired seniority":"Level of Seniority",placeOfWork:"person"===session.type?"Desired place of work":"Where will they work?",contractType:"person"===session.type?"Desired type of employment":"What type of position is this?"}}function showUploadOptions(){angular.element("#file-upload").click()}function avatarChange(files){ImageUploader.uploadImage(session,files,refreshAvatar)}function refreshAvatar(){Person.get({id:session.person.id},function(person){$scope.future.person.avatar=person.avatar,$scope.avatarStyle={"background-image":"url("+person.avatar+")"}})}function save(publish,callback){if(!publish||validate()){var person,name_parts=$scope.fields.name?$scope.fields.name.split(" "):null;person=Person.get({id:$scope.future.person.id},function(){person.first_name=name_parts?name_parts.shift():null,person.last_name=name_parts?name_parts.join(" "):null,person.location=$scope.fields.location,person.about=$scope.fields.about,person.editor=$scope.fields.editor,person.os=$scope.fields.os,person.$save(function(){$scope.future.person_id=person.id,$scope.future.location=person.location,$scope.future.time_load=timeload.normalise($scope.future.time_load),publish&&($scope.future.publish=!0),$scope.future.$save(function(){return publish?void Step.updateStep(4).then(function(){return $location.path("organisation-member"===session.type?"/member/home":"/person/matching"),callback?callback():null}):callback?callback():null})})})}}function validate(){return view.valid="organisation-member"===session.type?$scope.fields.name&&$scope.future.level&&$scope.future.title&&$scope.future.skills.length>0:$scope.fields.name&&$scope.fields.location&&$scope.future.level&&$scope.future.title&&$scope.future.place_of_work&&$scope.future.contract_type&&$scope.future.skills.length>0,$timeout(function(){view.valid=!0},2500),view.valid}var view=this,initialised=!1;view.tourtips=PREVIEW_TOURTIPS,view.location={options:{types:"(regions)"}},view.type=session.type,view.placeholders=getPlaceholders(),view.valid=!0,view.tour=Tour.getTour(),view.changed=!1,$scope.fields=getFields(),$scope.future=future,$scope.avatarStyle={"background-image":"url("+(future.person.avatar||"images/assets/anonymous.png")+")"},view.showUploadOptions=showUploadOptions,view.avatarChange=avatarChange,view.save=save,view.editRelocation=editRelocation,init()},module.exports.$inject=["$scope","$routeParams","$timeout","$location","Tour","Person","Session","Step","ImageUploader","Modal","$log","session","future"],module.exports.resolveWithId={session:resolvers.session,future:resolveFutureWithID},resolveFutureWithID.$inject=["$q","$route","Future"],module.exports.resolve={session:resolvers.session,future:resolveFuture},resolveFuture.$inject=["$q","$route","Future","Session"]},{"../../resolvers/index":142,"../../utils/timeload.js":210}],74:[function(require,module,exports){var resolvers=require("../../resolvers/index"),seoUtil=require("../../utils/seo");module.exports=function($scope,data,Sharing,History,$location,$anchorScroll,$q,Modal){function init(){var fullName=person.first_name+(person.last_name?" "+person.last_name:null);localStorage.profileVisited="true",seoUtil.set({title:fullName+"'s profile",description:fullName+"'s Workshape, professional history and open-source profile on Workshape.io"}),$scope.renderComplete()}function requirePublish(fn){return function(){return person["public"]?fn():void Modal.open("confirm",{icon:"eye",question:"Publish your Profile",text:"You need to publish your profile before performing this action!",confirmText:"Publish"}).then(function(confirmed){confirmed&&(togglePublic(),fn())})}}function togglePreview(){(view.editable||view.previewMode)&&(view.editable=!view.editable,view.previewMode=!view.previewMode)}function togglePublic(callback){person["public"]=!person["public"],person.$save(function(){callback&&callback(null,person["public"])},function(res){view.error=res.data.error,callback&&callback(res.data.error)})}function twitterShare(){return Sharing.share.twitter({url:getProfileUrl(),text:"Check out my profile on @workshape_io!"})}function facebookShare(){return Sharing.share.facebook(getProfileUrl())}function getProfileUrl(){return"http://www.workshape.io/person/"+person.slug+"/profile"}var view=this,session=data.session,person=data.person,future=data.future,history=data.history;view.togglePreview=togglePreview,view.togglePublic=togglePublic,view.facebookShare=requirePublish(facebookShare),view.twitterShare=requirePublish(twitterShare),person?(view.person=data.person,view.future=future,view.history=history,view.editable=session.person&&session.person.id===person.id,view.previewMode=!1,init()):view.notFound=!0},module.exports.$inject=["$scope","data","Sharing","History","$location","$anchorScroll","$q","Modal"],module.exports.resolve={data:resolvers.person.profile}},{"../../resolvers/index":142,"../../utils/seo":208}],75:[function(require,module,exports){function sessionResolve(Session,$timeout,$location,$q){function tryToGetSession(){count++<5?Session.data().then(function(goodSession){goodSession?defer.resolve(goodSession):tryToGetSession()},function(){tryToGetSession()}):(defer.reject("could not load"),$location.url("/error"))}var defer=$q.defer(),count=0;return tryToGetSession(),defer.promise}function futureResolve($route,Future){return Future.get({id:$route.current.params.id})}var timeload=require("../../utils/timeload.js");module.exports=function($timeout,$location,$routeParams,SampleData,Session,future,Step,session){function init(){Session.data(),session.step<4&&(view.positions=SampleData.getSample(5),
view.positions.shift(),view.other_time_loads=view.positions.map(function(position){return position.time_load}))}function submit(){view.future.time_load=timeload.normalise(view.future.time_load),view.future.person_id=session.person.id,view.future.$save(function(){Step.updateStep(2).then(function(){var type="person";"organisation-member"===session.type?(type="member",$location.path("/"+type+"/preview/"+$routeParams.id)):$location.path("/"+type+"/onboarding")})})}var view=this;view.predicate="id",view.future=future,view.submit=submit,init()},module.exports.$inject=["$timeout","$location","$routeParams","SampleData","Session","future","Step","session"],module.exports.resolve={session:sessionResolve,future:futureResolve},sessionResolve.$inject=["Session","$timeout","$location","$q"],futureResolve.$inject=["$route","Future"]},{"../../utils/timeload.js":210}],76:[function(require,module,exports){module.exports=function($window,$http,$location,$routeParams,Interest,Account,Person,Future){function init(){Interest.isValidAccessCode({code:$routeParams.code}).$promise.then(function(interest){view.interest=!0,view.email=interest.email,view.loading=!1})["catch"](function(){view.loading=!1,view.invalid=!0})}function nameChange(){view.formValid.name.valid=view.name&&view.name.length>2?!0:null}function passwordChange(){if(view.password){var check=view.password.length>7&&view.password.length<26;view.formValid.password.valid=check,view.formValid.password.message=check?null:"Your password must be between 8 and 25 characters long."}else view.formValid.password.valid=null,view.formValid.password.message=null;view.formValid.passwordRepeat.valid=view.passwordRepeat&&view.passwordRepeat===view.password?!0:null}function signup(){if(!view.loading){var account=new Account,person=new Person;view.loading=!0,account.email=view.email,account.password=view.password,account.type="person";var names=view.name.split(" ");person.first_name=names[0],names.length>1&&(person.last_name=names.splice(1).join(" ")),person.github={},account.$save(function(persistedAccount){$window.localStorage.setItem("workshape-token",persistedAccount.secret),$http.defaults.headers.common["x-workshape-token"]=persistedAccount.secret,person.$save(function(person){var future=new Future;future.person_id=person.id,future.account_id=persistedAccount.id,future.skills=[],future.$save(function(savedFuture){Interest.useValidAccessCode({code:$routeParams.code},function(){$location.path("/person/shape/"+savedFuture.id)},httpError)},httpError)},httpError)},httpError)}}function httpError(res){view.loading=!1,view.error=res.data.error}var view=this;view.loading=!0,view.error=!1,view.email=null,view.password=null,view.name=null,view.formValid={password:{valid:null,message:null},passwordRepeat:{valid:null,message:null},name:{valid:null,message:null}},view.passwordChange=passwordChange,view.nameChange=nameChange,view.signup=signup,init()},module.exports.$inject=["$window","$http","$location","$routeParams","Interest","Account","Person","Future"]},{}],77:[function(require,module,exports){var resolvers=require("../../resolvers/index");module.exports=function($scope,session){var view=this;view.session=session,$scope.renderComplete()},module.exports.$inject=["$scope","session"],module.exports.resolve={session:resolvers.session}},{"../../resolvers/index":142}],78:[function(require,module,exports){var resolvers=require("../../resolvers/index");module.exports=function(data){function init(){var type="organisation-member"===session.type?"member":"person";view.finishPath="/"+type+"/preview"}var view=this,session=data.session,future=data.future;view.future=future,init()},module.exports.$inject=["data"],module.exports.resolve={data:resolvers.person.future}},{"../../resolvers/index":142}],79:[function(require,module,exports){var positionUtil=require("../utils/position"),seoUtil=require("../utils/seo");module.exports=function($scope,$window,$route,$location,$timeout,Position,Sharing,Signup){function init(){Position.publicGet({id:positionId},function(position){position.remaining=positionUtil.getRemaining(position),position.remaining>=0&&!position.deleted?(view.position=position,view.loading=!1,updateSEO()):(view.error=!0,view.loading=!1),$scope.renderComplete()})}function updateSEO(){var position=view.position,organisation=view.position.organisation,location=position.location.formatted_address;seoUtil.set({title:organisation.name+" is hiring for a "+position.title+" in "+location})}function twitterShare(){Sharing.position.twitter(view.position)}function facebookShare(){Sharing.position.facebook(view.position)}var view=$scope,positionId=$route.current.params.positionId;view.loading=!0,view.signup=Signup,view.facebookShare=facebookShare,view.twitterShare=twitterShare,view.signup=Signup,init()},module.exports.$inject=["$scope","$window","$route","$location","$timeout","Position","Sharing","Signup"]},{"../utils/position":207,"../utils/seo":208}],80:[function(require,module,exports){var locationUtils=require("../../shared/locationUtils");module.exports=function($scope,$route,Organisation){function init(){Organisation.getPositionsBySlug({slug:$route.current.params.slug}).$promise.then(function(res){switch(vm.organisation=res.organisation,vm.openings=res.positions.map(function(position){return position.location=locationUtils.getCityAndCountry(position.location),position}),vm.openings.length){case 0:vm.subtext="There are currently no open positions at "+vm.organisation.name;break;case 1:vm.subtext="There is currently 1 opening at "+vm.organisation.name;break;default:vm.subtext="There are currently "+vm.openings.length+" positions at "+vm.organisation.name}vm.loading=!1,$scope.renderComplete()})}var vm=this;vm.loading=!0,init()},module.exports.$inject=["$scope","$route","Organisation"]},{"../../shared/locationUtils":217}],81:[function(require,module,exports){function resolveData($q,$location,Pricing,SubscriptionPlan){function loadPlans(){var deferred=$q.defer();return SubscriptionPlan.query(function(response){data.plans=response.filter(function(row){return row.live}),deferred.resolve()}),deferred.promise}function loadCurrency(){var deferred=$q.defer();return Pricing.currency(function(response){data.currency=response.currency,deferred.resolve()}),deferred.promise}function loadCredits(){var deferred=$q.defer();return Pricing.credits($location.search(),function(credits){credits&&(data.credits=credits),deferred.resolve()}),deferred.promise}var data={plans:null,credits:null,currency:null};return loadCurrency().then(loadPlans).then(loadCredits).then(function(){return data})}module.exports=function($scope,$location,Statistics,data,mySocket){function init(){Statistics.userCount().$promise.then(function(response){view.userCount=response.users,$scope.renderComplete(),mySocket.on("person-new",function(){view.userCount++})})}var view=this;view.plans=data.plans,view.currency=data.currency,view.offer=data.credits.packages.find(function(row){return row.offer});var urlParamsArray=$location.search();view.referral_code=urlParamsArray.referral?urlParamsArray.referral:null,view.special_offer_code=urlParamsArray.code?urlParamsArray.code:null,view.urlParams=Object.keys(urlParamsArray).map(function(key){return key+"="+urlParamsArray[key]}).join("&"),init()},module.exports.$inject=["$scope","$location","Statistics","data","mySocket"],resolveData.$inject=["$q","$location","Pricing","SubscriptionPlan"],module.exports.resolve={data:resolveData}},{}],82:[function(require,module,exports){var resolvers=require("../resolvers/index");module.exports=function(session,$location){function init(){return $location.path("person"===session.type?"/person/"+session.person.slug+"/profile":"/organisation/"+session.organisation.slug+"/profile")}init()},module.exports.$inject=["session","$location"],module.exports.resolve={session:resolvers.session}},{"../resolvers/index":142}],83:[function(require,module,exports){module.exports=function($scope,$window,$location,Session,Future,Signup,$routeParams,$rootScope){function init(){$scope.renderComplete(),token&&tokenSignin()}function tokenSignin(){localStorage["workshape-token"]=token,signin()}function signin(){view.loading=!0,Session.signin(view.email,view.password,token).then(function(session){"success"===session.status?(view.error=null,view.loading=!1,"person"===session.type?Future.getPersonFuture({id:session.person.id},function(future){$location.path(redirectPath(session,future.id))}):($rootScope.updateBalance(),$location.path(redirectPath(session)))):(view.loading=!1,view.error=session.error)})}function redirectPath(session,id){return"organisation"===session.type||"organisation-hirer"===session.type?1===session.step?"/organisation/info":"/organisation/home":1===session.step?"/person/shape/"+id:"/person/home"}var view=this,token=$routeParams.token||null;view.email=null,view.password=null,view.error=null,view.token=token,view.loading=!!token,view.signin=signin,view.signup=Signup,init()},module.exports.$inject=["$scope","$window","$location","Session","Future","Signup","$routeParams","$rootScope"]},{}],84:[function(require,module,exports){var timeloadUtil=require("../utils/timeload");module.exports=function($scope,$routeParams,PositionImport,$location){function init(){view.mode=view.url?"load":"input",view.url&&-1===view.url.indexOf("://")&&(view.url="http://"+view.url),"load"===view.mode?loadFromUrl(view.url):(view.loading=!1,$scope.renderComplete())}function loadFromUrl(){PositionImport["import"](view.url,function(position){position.time_load||(position.time_load=timeloadUtil.getBlank(6)),view.position=position,view.loading=!1,$scope.renderComplete()},function(res){view.error=res.data.error,view.loading=!1})}function submitUrl(){$location.search("url",view.url)}var view=this;view.loading=!0,view.url=$routeParams.url||"",view.submitUrl=submitUrl,init()},module.exports.$inject=["$scope","$routeParams","PositionImport","$location"]},{"../utils/timeload":210}],85:[function(require,module,exports){module.exports=function(){function init(){vm.loading=!1}var vm=this,rows=[{title:"What are the most important job factors for developers?",about:"We are constantly looking to improve our matching service for developers. We have created this minute survey that will help us better understand what is important to you in your next job. and iterate on our service.",time:"3 minutes",surveyLink:"https://workshape.typeform.com/to/PrMLrh",resultsLink:"http://jobfactors.workshape.io"},{title:"What are your limits when interviewing for a new software engineering job?",about:"Hiring techniques for Software Engineers are a hot topic right now. Every company has their own approach. They are most usually upon their set of constraints with very little thought given to you, the interviewee. We'd like to take this opportunity to gather what you think is OK for a company to ask of you when interviewing.",time:"7 minutes",surveyLink:"https://workshape.typeform.com/to/SGxTdw",resultsLink:null}];vm.loading=!0,vm.rows=rows,init()}},{}],86:[function(require,module,exports){var VERIFY_STATE_OPTIONS={PENDING:0,VERIFIED:1,NOT_VERIFIED:2,ERROR:3};module.exports=function($routeParams,Verify){function init(){"undefined"!=typeof $routeParams.id&&"undefined"!=typeof $routeParams.key?Verify.verify($routeParams.id,$routeParams.key).then(function(status){vm.state=status.verified?vm.stateOptions.VERIFIED:vm.stateOptions.NOT_VERIFIED}):vm.state=vm.stateOptions.ERROR}var vm=this;vm.stateOptions=VERIFY_STATE_OPTIONS,vm.state=vm.stateOptions.PENDING,init()},module.exports.$inject=["$routeParams","Verify"]},{}],87:[function(require,module,exports){var config=require("../config");exports.log=function(){var args=Array.prototype.slice.call(arguments);config.DEBUG&&console.log.apply(console,["[ WS_DEBUG ]"].concat(args))},exports.warn=console.warn.bind(console),exports.error=console.error.bind(console)},{"../config":2}],88:[function(require,module,exports){function Config($httpProvider){$httpProvider.interceptors.push(function($q,$rootScope){return{responseError:function(res){return 418===res.status&&$rootScope.topup("Not enough credits"),$q.reject(res)}}})}function Run($rootScope,$routeParams,$location,Session){function getBaseSessionType(sessionType){return"organisation-member"===sessionType?"member":sessionType?sessionType.split("-")[0]:null}function sendHome(sessionType){sessionType?$location.path("/"+getBaseSessionType(sessionType)+"/home").replace():$location.path("/signin").replace()}function sendToSignin(){$location.path("/signin").replace()}$rootScope.$on("$routeChangeStart",function(event,next){"undefined"!=typeof next.access&&Session.refresh().then(function(session){var acl=next.access;acl.loggedIn?session.loggedIn?acl.admin&&!session.admin?sendHome(session.type):next.access.type&&getBaseSessionType(session.type)!==next.access.type&&sendHome(session.type):sendToSignin():session.loggedIn&&sendHome(session.type)})})}exports.init=function(app){app.config(Config),app.run(Run)},Config.$inject=["$httpProvider"],Run.$inject=["$rootScope","$routeParams","$location","Session"]},{}],89:[function(require,module,exports){function actionCost(Modal,$parse){return{terminal:!0,priority:1,link:function(scope,el,attr){function proceed(key){var fn=attr[actionKey(key)];scope.$eval(fn)}var actions=$parse(attr.ngActionCost)(scope.$parent);Object.keys(actions).forEach(function(key){var cost=actions[key];el.on(key,function(e){return e.stopPropagation(),cost?void Modal.open("confirm",{question:"Please Confirm",text:"This action will cost you "+cost+" credit"+(cost>1?"s":""),icon:"coins"}).then(function(confirmed){confirmed&&proceed(key)}):proceed(key)})})}}}function actionKey(str){return"ng"+str.substr(0,1).toUpperCase()+str.substr(1).toLowerCase()}var app=require("../app");app.directive("ngActionCost",actionCost),actionCost.$inject=["Modal","$parse"]},{"../app":1}],90:[function(require,module,exports){function actionCost(Modal,$parse){return{terminal:!0,priority:1,link:function(scope,el,attr){function proceed(key){var fn=attr[actionKey(key)];scope.$eval(fn)}var actions=$parse(attr.ngActionEarn)(scope.$parent);Object.keys(actions).forEach(function(key){var earn=actions[key];el.on(key,function(e){return e.stopPropagation(),earn?void Modal.open("confirm",{question:"Earning Credits",text:'<i class="icon icon-thumbs-up"></i>  This action will reward you '+earn+" credit"+(earn>1?"s":"")+"!",icon:"piggy-bank-earn",modalClass:"earn",confirmOnly:!0,confirmIcon:"tick"}).then(function(confirmed){confirmed&&proceed(key)}):proceed(key)})})}}}function actionKey(str){return"ng"+str.substr(0,1).toUpperCase()+str.substr(1).toLowerCase()}var app=require("../app");app.directive("ngActionEarn",actionCost),actionCost.$inject=["Modal","$parse"]},{"../app":1}],91:[function(require,module,exports){angular.module("ngAutocomplete",[]).directive("ngAutocomplete",function(){return{require:"ngModel",scope:{ngModel:"=",options:"=?",details:"=?"},link:function(scope,element,attrs,controller){var opts,watchEnter=!1,initOpts=function(){opts={},scope.options&&(watchEnter=scope.options.watchEnter!==!0?!1:!0,scope.options.types?(opts.types=[],opts.types.push(scope.options.types),scope.gPlace.setTypes(opts.types)):scope.gPlace.setTypes([]),scope.options.bounds?(opts.bounds=scope.options.bounds,scope.gPlace.setBounds(opts.bounds)):scope.gPlace.setBounds(null),scope.options.country?(opts.componentRestrictions={country:scope.options.country},scope.gPlace.setComponentRestrictions(opts.componentRestrictions)):scope.gPlace.setComponentRestrictions(null))};void 0===scope.gPlace&&(scope.gPlace=new google.maps.places.Autocomplete(element[0],{})),google.maps.event.addListener(scope.gPlace,"place_changed",function(){var result=scope.gPlace.getPlace();void 0!==result&&(void 0!==result.address_components?scope.$apply(function(){scope.details=result,controller.$setViewValue(element.val())}):watchEnter&&getPlace(result))});var getPlace=function(result){var autocompleteService=new google.maps.places.AutocompleteService;result.name.length>0&&autocompleteService.getPlacePredictions({input:result.name,offset:result.name.length},function(list){if(null===list||0===list.length)scope.$apply(function(){scope.details=null});else{var placesService=new google.maps.places.PlacesService(element[0]);placesService.getDetails({reference:list[0].reference},function(detailsResult,placesServiceStatus){placesServiceStatus===google.maps.GeocoderStatus.OK&&scope.$apply(function(){controller.$setViewValue(detailsResult.formatted_address),element.val(detailsResult.formatted_address),scope.details=detailsResult,element.on("focusout",function(){element.val(detailsResult.formatted_address),element.unbind("focusout")})})})}})};controller.$render=function(){var location=controller.$viewValue;element.val(location)},scope.watchOptions=function(){return scope.options},scope.$watch(scope.watchOptions,function(){initOpts()},!0)}}})},{}],92:[function(require,module,exports){function BarChart(){return{restrict:"E",template:template,scope:{data:"=",unit:"="},link:function(scope){function init(){scope.$watch("data",update)}function update(){scope.ticks=getTicks(),scope.max=getMax()}function getMax(){var max=0;return scope.data.forEach(function(point){max=Math.max(max,point.value)}),max}function getColor(value){var max=getMax(),colorMax=new Color(COLOR_MAX),colorMin=new Color(COLOR_MIN);return colorMax.mix(colorMin,value/max).hexString()}function getTicks(){if(!scope.unit)return null;var value,i,ticks=[],max=getMax();for(i=0;max>i;i+=scope.unit)value=Math.floor(i),ticks.push({value:value,percent:100*value/max});return ticks}init(),scope.getColor=getColor}}}var app=require("../app"),template=require("../../views/components/bar-chart.jade"),Color=require("color"),COLOR_MIN="#297771",COLOR_MAX="#e77249";app.directive("barChart",BarChart),BarChart.$inject=[]},{"../../views/components/bar-chart.jade":221,"../app":1,color:250}],93:[function(require,module,exports){function BarSplit(){return{restrict:"EA",replace:!0,scope:{values:"="},template:template,link:function(scope){scope.$watch("values",function(values){var bars=[],total=0;values&&(values.map(function(val){total+=val[1]}),values.forEach(function(val,i){bars.push({label:val[0],percent:100*val[1]/total,display:Math.floor(100*val[1]/total),value:val[1],color:BAR_COLORS[i]})}),scope.bars=bars)})}}}var app=require("../app"),template=require("../../views/components/bar-split.jade"),BAR_COLORS=["#405765","#e77249","#876894","#edd745"];app.directive("barSplit",BarSplit)},{"../../views/components/bar-split.jade":222,"../app":1}],94:[function(require,module,exports){function editableField(options){function directiveFn($timeout,$document,$window,Modal){return{restrict:"E",replace:!0,template:template,scope:{value:"=",options:"=",placeholder:"=",tags:"=",skills:"=",level:"=",details:"=",limit:"=",defaultActive:"=",changeFn:"=",either:"=",size:"=",markdown:"=",exclude:"=",optional:"="},link:function(scope,elem,attrs){function init(){if(scope.$watch("value",onChange),scope.$watch("level",onChange),input.on("keydown",onInputKeyDown),win.on("keydown",onWindowKeyDown),input.on("blur",scope.save),"level"===type?scope.levels=LEVELS:"placeOfWork"===type?scope.levels=scope.either?reduceOptions(PLACES_OF_WORK):PLACES_OF_WORK:"contractType"===type?scope.levels=scope.either?reduceOptions(CONTRACT_TYPES):CONTRACT_TYPES:"editor"===type&&(scope.editors=EDITORS),elem.on("focus",onFocus),"level"===type||"placeOfWork"===type||"contractType"===type?initEditableLevel():"location"===type&&initEditableLocation(),"skills"===type){if(!scope.exclude)return;scope.$watch("exclude",function(){removeExcludedSkills()})}}function onFocus(){return"skills"===type?setSkills():void scope.enableEditor()}function removeExcludedSkills(){scope.skills&&scope.exclude.forEach(function(a){scope.skills.forEach(function(b,i){a.lower===b.lower&&scope.skills.splice(i,1)})})}function onChange(val,oldval){scope.forceEnabled=!(val||scope.level)&&scope.defaultActive,scope.changeFn&&val!==oldval&&scope.changeFn(val)}function reduceOptions(opts){return[opts[0],opts[opts.length-1]]}function enableEditor(){input.length&&$timeout(input.focus.bind(input)),scope.view.editorEnabled=!0,scope.view.editableValue=scope.value,scope.lastValue=scope.value}function disableEditor(){scope.view.editorEnabled=!1,$timeout(scope.$apply.bind(scope))}function setSkills(){var directive=this;Modal.open("skill-selector",{skills:scope.skills,blurb:scope.placeholder,max:parseInt(scope.limit,10)}).then(function(skills){skills&&(scope.skills=skills),directive.editing=!1,setTimeout(function(){scope.changeFn&&scope.changeFn()})})}function save(){if("location"===type){var hasAddress=scope.details&&scope.details.formatted_address;scope.value=hasAddress?scope.details.formatted_address:null}else scope.value=scope.view.editableValue;scope.onchange&&scope.onchange(),scope.disableEditor()}function selectNext(e){for(var index,next,el,all=angular.element.find(FORM_SELECTOR),i=0;i<all.length;i+=1)el=all[i],el!==elem[0]&&angular.element(el).closest(elem).length&&(all.splice(i,1),i-=1);index=all.indexOf(elem[0]),next=-1!==index&&index<all.length-1?angular.element(all[index+1]):elem.nextAll(FORM_SELECTOR),next.focus(),e&&e.preventDefault()}function onInputKeyDown(e){var key=keycode(e.keyCode);("enter"===key&&submitWithEnter||"tab"===key)&&(scope.save(),"tab"!==key&&scope.selectNext(e))}function onWindowKeyDown(e){var key=keycode(e.keyCode);if("esc"===key&&scope.view.editorEnabled){if(!resetWithEsc)return scope.save();input.blur(),scope.value=scope.lastValue||null,scope.$apply()}}function initEditableLevel(){scope.className=options.className||null,scope.setLevel=function(level){scope.view.isEmpty=!1,scope.level=level,scope.disableEditor()},elem.on("keydown",function(e){var levelButtons=elem.find("a.level"),lastButton=levelButtons[levelButtons.length-1],key=keycode(e.keyCode);"tab"===key&&e.target===lastButton?scope.disableEditor():("space"===key||"enter"===key)&&(angular.element(e.target).click(),scope.selectNext())}),elem.on("mouseup",function(){win.on("mousedown",function blur(e){win.off("mousedown",blur),angular.element(e.target).closest(elem).length||scope.disableEditor()})})}function initEditableLocation(){scope.$watch("view.details",function(details){if(details&&"undefined"!=typeof details.formatted_address&&"undefined"!=typeof details.url){scope.view.editableValue=details.formatted_address;var location={formatted_address:details.formatted_address,geometry:{location:{lat:details.geometry.location.lat(),lng:details.geometry.location.lng()}},address_components:details.address_components};"undefined"!=typeof details.geometry.viewport&&(location.geometry.bounds={northeast:{lat:details.geometry.viewport.getNorthEast().lat(),lng:details.geometry.viewport.getNorthEast().lng()},southwest:{lat:details.geometry.viewport.getSouthWest().lat(),lng:details.geometry.viewport.getSouthWest().lng()}}),scope.details=location,scope.details.info=locationUtils.getInfo(location),scope.save()}})}var input=elem.find("input").add(elem.find("textarea")),win=angular.element($window);scope.type=attrs.type||"text",scope.view={details:scope.details,editableValue:scope.value,editorEnabled:!1},scope.setSkills=setSkills,scope.enableEditor=enableEditor,scope.disableEditor=disableEditor,scope.selectNext=selectNext,scope.save=save,init(),scope.setValue=function(value){scope.view.isEmpty=!1,scope.value=value,scope.disableEditor()}}}}var template=options.template,type=options.type,submitWithEnter=options.submitWithEnter||!1,resetWithEsc=options.resetWithEsc||!1;return directiveFn.$inject=["$timeout","$document","$window","Modal"],directiveFn}var app=require("../app"),keycode=require("keycode"),EDITORS=require("../../shared/editors.json"),locationUtils=require("../../shared/locationUtils"),templates={input:require("../../views/components/editable/input.jade"),editor:require("../../views/components/editable/editor.jade"),os:require("../../views/components/editable/os.jade"),location:require("../../views/components/editable/location.jade"),textarea:require("../../views/components/editable/textarea.jade"),tagList:require("../../views/components/editable/tag-list.jade"),levels:require("../../views/components/editable/levels.jade"),skills:require("../../views/components/editable/skills.jade")},PLACES_OF_WORK=[{id:1,name:"Onsite"},{id:2,name:"Onsite or Remote"},{id:3,name:"Remote"}],CONTRACT_TYPES=[{id:1,name:"Contract"},{id:2,name:"Contract or Permanent"},{id:3,name:"Permanent"}],LEVELS=[{id:1,iconClass:"icon-stars-level-1",name:"Entry level"},{id:2,iconClass:"icon-stars-level-2",name:"Mid level"},{id:3,iconClass:"icon-stars-level-3",name:"Senior level"},{id:4,iconClass:"icon-stars-level-4",name:"Lead level"}],FORM_SELECTOR="[tabindex], input, textarea, select, button";app.directive("editableInput",editableField({template:templates.input,type:"input",submitWithEnter:!0,resetWithEsc:!0})).directive("editableTextarea",editableField({template:templates.textarea,type:"textarea",resetWithEsc:!0})).directive("editableEditor",editableField({template:templates.editor,type:"editor",submitWithEnter:!0})).directive("editableOs",editableField({template:templates.os,type:"os",submitWithEnter:!0})).directive("editableLevels",editableField({template:templates.levels,type:"level",className:"level",submitWithEnter:!0})).directive("editableContractType",editableField({template:templates.levels,type:"contractType",className:"contract-type",submitWithEnter:!0})).directive("editablePlaceOfWork",editableField({template:templates.levels,type:"placeOfWork",className:"place-of-work",submitWithEnter:!0})).directive("editableLocation",editableField({template:templates.location,type:"location",submitWithEnter:!0,resetWithEsc:!0})).directive("editableTagList",editableField({template:templates.tagList,type:"tag"})).directive("editableSkills",editableField({template:templates.skills,type:"skills"}))},{"../../shared/editors.json":213,"../../shared/locationUtils":217,"../../views/components/editable/editor.jade":223,"../../views/components/editable/input.jade":224,"../../views/components/editable/levels.jade":225,"../../views/components/editable/location.jade":226,"../../views/components/editable/os.jade":227,"../../views/components/editable/skills.jade":228,"../../views/components/editable/tag-list.jade":229,"../../views/components/editable/textarea.jade":230,"../app":1,keycode:255}],95:[function(require,module,exports){function EditorIcon(){return{restrict:"EA",replace:!0,scope:{editor:"=",size:"="},template:template,link:function(scope){function init(){scope.$watch("editor",update)}function update(){var data,i;for(i=0;i<editors.length;i+=1)if(editors[i].id===scope.editor){data=editors[i];break}scope.label=data?data.label:null}init()}}}var app=require("../app"),editors=require("../../shared/editors.json"),template=require("../../views/components/editor-icon.jade");app.directive("editorIcon",EditorIcon)},{"../../shared/editors.json":213,"../../views/components/editor-icon.jade":231,"../app":1}],96:[function(require,module,exports){var app=require("../app");app.directive("elastic",function($timeout,$window){return{require:"ngModel",restrict:"A, C",link:function(scope,element,attrs,ngModel){function initMirror(){var mirrorStyle=mirrorInitStyle;mirrored=ta,taStyle=getComputedStyle(ta),angular.forEach(copyStyle,function(val){mirrorStyle+=val+":"+taStyle.getPropertyValue(val)+";"}),mirror.setAttribute("style",mirrorStyle)}function adjust(){var taHeight,taComputedStyleWidth,mirrorHeight,width,overflow;mirrored!==ta&&initMirror(),active||(active=!0,mirror.value=ta.value+append,mirror.style.overflowY=ta.style.overflowY,taHeight=""===ta.style.height?"auto":parseInt(ta.style.height,10),taComputedStyleWidth=getComputedStyle(ta).getPropertyValue("width"),"px"===taComputedStyleWidth.substr(taComputedStyleWidth.length-2,2)&&(width=parseInt(taComputedStyleWidth,10)-boxOuter.width,mirror.style.width=width+"px"),mirrorHeight=mirror.scrollHeight,mirrorHeight>maxHeight?(mirrorHeight=maxHeight,overflow="scroll"):minHeight>mirrorHeight&&(mirrorHeight=minHeight),mirrorHeight+=boxOuter.height,ta.style.overflowY=overflow||"hidden",taHeight!==mirrorHeight&&(ta.style.height=mirrorHeight+"px",scope.$emit("elastic:resize",$ta)),$timeout(function(){active=!1},1))}function forceAdjust(){active=!1,adjust()}var ta=element[0],$ta=element;if("TEXTAREA"===ta.nodeName&&$window.getComputedStyle){$ta.css({overflow:"hidden","overflow-y":"hidden","word-wrap":"break-word"});var text=ta.value;ta.value="",ta.value=text;var mirrored,active,append=attrs.msdElastic?attrs.msdElastic.replace(/\\n/g,"\n"):"",$win=angular.element($window),mirrorInitStyle="position: absolute; top: -999px; right: auto; bottom: auto;left: 0; overflow: hidden; -webkit-box-sizing: content-box;-moz-box-sizing: content-box; box-sizing: content-box;min-height: 0 !important; height: 0 !important; padding: 0;word-wrap: break-word; border: 0;",$mirror=angular.element('<textarea tabindex="-1" style="'+mirrorInitStyle+'"/>').data("elastic",!0),mirror=$mirror[0],taStyle=getComputedStyle(ta),borderBox=(taStyle.getPropertyValue("resize"),"border-box"===taStyle.getPropertyValue("box-sizing")||"border-box"===taStyle.getPropertyValue("-moz-box-sizing")||"border-box"===taStyle.getPropertyValue("-webkit-box-sizing")),boxOuter=borderBox?{width:parseInt(taStyle.getPropertyValue("border-right-width"),10)+parseInt(taStyle.getPropertyValue("padding-right"),10)+parseInt(taStyle.getPropertyValue("padding-left"),10)+parseInt(taStyle.getPropertyValue("border-left-width"),10),height:parseInt(taStyle.getPropertyValue("border-top-width"),10)+parseInt(taStyle.getPropertyValue("padding-top"),10)+parseInt(taStyle.getPropertyValue("padding-bottom"),10)+parseInt(taStyle.getPropertyValue("border-bottom-width"),10)}:{width:0,height:0},minHeightValue=parseInt(taStyle.getPropertyValue("min-height"),10),heightValue=parseInt(taStyle.getPropertyValue("height"),10),minHeight=Math.max(minHeightValue,heightValue)-boxOuter.height,maxHeight=parseInt(taStyle.getPropertyValue("max-height"),10),copyStyle=["font-family","font-size","font-weight","font-style","letter-spacing","line-height","text-transform","word-spacing","text-indent"];$ta.data("elastic")||(maxHeight=maxHeight&&maxHeight>0?maxHeight:9e4,mirror.parentNode!==document.body&&angular.element(document.body).append(mirror),$ta.css({resize:"none"}).data("elastic",!0),ta.oninput="onpropertychange"in ta&&"oninput"in ta?ta.onkeyup=adjust:adjust,$win.bind("resize",forceAdjust),scope.$watch(function(){return ngModel.$modelValue},function(){forceAdjust()}),scope.$on("elastic:adjust",function(){initMirror(),forceAdjust()}),$timeout(adjust),scope.$on("$destroy",function(){$mirror.remove(),$win.unbind("resize",forceAdjust)}))}}}})},{"../app":1}],97:[function(require,module,exports){require("../app").directive("ngEnter",function(){return function(scope,element,attrs){element.bind("keydown keypress",function(e){13===e.which&&(e.preventDefault(),scope.$apply(function(){scope.$eval(attrs.ngEnter)}))})}})},{"../app":1}],98:[function(require,module,exports){function sectionFull(){return{restrict:"C",link:function(scope,elem){resizables.push(elem[0]),resize(elem[0])(),window.addEventListener("resize",resize(elem[0]),!1)}}}function resize(elem){return function(){var paddingTop,windowWidth=window.innerWidth,windowHeight=window.innerHeight,actionsBar=document.querySelector(".actions-bar");if(windowWidth>config.MOBILE_BREAK){elem.style.height="",elem.style.paddingTop=elem.style.paddingBottom=0;var height=elem.offsetHeight;height+=config.HEADER_HEIGHT+config.FOOTER_HEIGHT,actionsBar&&(windowHeight-=config.ACTION_BAR_OFFSET),windowHeight-2*MIN_SPACING>height?(paddingTop=(windowHeight-height)/2,elem.style.paddingTop=paddingTop+"px",elem.style.paddingBottom=paddingTop+"px"):elem.removeAttribute("style")}else elem.removeAttribute("style")}}var config=require("../config");require("../app").directive("sectionFull",sectionFull);var MIN_SPACING=30,resizables=[];

window.updateResizables=function(){setTimeout(function(){resizables.forEach(function(el){el&&resize(el)()})})},window.addEventListener("load",window.updateResizables,!1)},{"../app":1,"../config":2}],99:[function(require,module,exports){function FutureWizard($timeout,$location,Step,Person){return{restrict:"E",replace:!0,scope:{future:"=",finishPath:"=",locationOnly:"="},template:template,link:function(scope,el){function init(){future.other_locations=future.other_locations||[],scope.$watch("fields.newOtherLocation",updateNewOtherLocation,!0),scope.$watch("step",updateStep,!0),"undefined"==typeof future.relocation_anywhere&&(future.relocation_anywhere=!1),buildOtherLocationFields(),initValidation()}function initValidation(){scope.$watch("about",function(about){scope.valid.about=about&&about.length>4}),scope.$watch("full_name",function(name){scope.valid.name=name&&name.length>2}),scope.$watch("future",function(future){scope.valid.title=future.title&&future.title.length>2,scope.valid.contract=!!future.contract_type,scope.valid.level=!!future.level,scope.valid.skills=future.skills&&future.skills.length},!0),scope.$watch("fields",function(fields){scope.valid.location=!!fields.locationText},!0)}function updateSteps(){var i,steps=[],offset=scope.locationOnly?STEPS.LOCATION:0;for(i=offset;i<Object.keys(STEPS).length;i+=1)steps.push({enabled:i<scope.step,active:i===scope.step});scope.steps=steps}function nextStep(){switch(scope.step){case STEPS.NAME:if(!scope.valid.name)return;break;case STEPS.LEVEL:if(!scope.valid.level)return;break;case STEPS.TITLE:if(!scope.valid.title)return;break;case STEPS.BIO:if(!scope.valid.about)return;break;case STEPS.CONTRACT:if(!scope.valid.contract)return;break;case STEPS.FUTURE:if(!scope.valid.future)return;break;case STEPS.LOCATION:if(!scope.valid.location)return}scope.step++}function previousStep(){scope.step-=1}function updateStep(step){var previous,current,next,steps=el.find('[ref="step"]');scope.completed=Math.max(step,scope.completed),steps.removeClass("active"),"number"==typeof step&&(previous=steps.eq(step-1),current=steps.eq(step),next=steps.eq(step+1),current.addClass("active"),previous.addClass("previous"),next.addClass("next"),updateSteps(),current.find("[autofocus]").focus())}function changePlaceOfWork(){return 3===future.place_of_work.id?submit():void nextStep()}function buildOtherLocationFields(){scope.fields.otherLocations=future.other_locations,scope.fields.otherLocationText=scope.fields.otherLocations.map(getOtherLocationText)}function updateNewOtherLocation(newVal){newVal&&(addOtherLocation(newVal),scope.fields.newOtherLocationText=null,scope.fields.newOtherLocation=null)}function addOtherLocation(location){scope.fields.otherLocations.push(location),scope.fields.otherLocationText.push(location.formatted_address)}function removeOtherLocation(index){index>=scope.fields.otherLocations.length||(scope.fields.otherLocationText.splice(index,1),scope.fields.otherLocations.splice(index,1))}function getOtherLocationText(loc){return loc&&"undefined"!=typeof loc.formatted_address?loc.formatted_address:null}function submit(){if("saving"!==scope.step&&(!scope.future.relocation||scope.future.relocation_anywhere||scope.future.relocation_country||scope.future.relocation_workzone||scope.fields.otherLocations.length)){scope.step="saving";var personId=scope.future.person_id||scope.future.person.id,person=Person.get({id:personId},function(){var fullName=scope.full_name.split(" ");person.location=scope.fields.location,person.first_name=fullName.shift(),person.last_name=fullName.join(" "),person.os=scope.os||person.os,person.editor=scope.editor||person.editor,person.about=scope.about,person.$save(function(){scope.future.person_id=personId,scope.future.location=scope.fields.location,scope.future.relocation||(scope.future.relocation_country=!1,scope.future.relocation_workzone=!1,scope.future.relocation_anywhere=!1),scope.future.other_locations=scope.fields.otherLocations,scope.future.$save(function(){Step.updateStep(3).then(function(){$location.path(scope.finishPath||"/person/preview")})})})})}}var future=scope.future,loc=future.location;scope.step=scope.locationOnly?STEPS.RELOCATION:0,scope.future=future,scope.location={options:{types:"(regions)"}},scope.full_name=(future.person.first_name||"")+(future.person.last_name?" "+future.person.last_name:""),scope.os=future.person.os,scope.about=future.person.about,scope.editor=future.person.editor,scope.valid={name:null,title:null,skills:null,contract:null,location:null,about:null},scope.fields={locationText:loc&&"undefined"!=typeof loc.formatted_address?loc.formatted_address:null,location:future.location,newOtherLocationText:null,newOtherLocation:null},scope.removeOtherLocation=removeOtherLocation,scope.nextStep=nextStep,scope.previousStep=previousStep,scope.changePlaceOfWork=changePlaceOfWork,scope.isInEU=locationUtils.isInEUSingleMarket,scope.isInUS=locationUtils.isInUS,scope.isInUK=locationUtils.isInUK,scope.submit=submit,scope.completed=0,init()}}}var template=require("../../views/components/future-wizard.jade"),locationUtils=require("../../shared/locationUtils"),app=require("../app"),STEPS={NAME:0,TITLE:1,BIO:2,LEVEL:3,CONTRACT:4,SKILLS:5,OS:6,EDITOR:7,LOCATION:8,PLACE:9,RELOCATION:10};app.directive("futureWizard",FutureWizard),FutureWizard.$inject=["$timeout","$location","Step","Person"]},{"../../shared/locationUtils":217,"../../views/components/future-wizard.jade":232,"../app":1}],100:[function(require,module,exports){function Globe(){function globeController($q,Statistics){var vm=this;vm.loadCountries=function(type){var deferred=$q.defer();return Statistics.countries({type:type}).$promise.then(function(output){var countries={};output.forEach(function(c){var index=parseInt(c.id,10);countries[index]=c}),deferred.resolve(countries)}),deferred.promise}}function link(scope,element,attrs,globeCtrl){function isMobileViewer(){return window.innerWidth<=800&&window.innerHeight<=600}function setCurrentCountry(id){function x(){scope.currentCountry=scope.countryData[id],svg.select(".active").classed("active",!1),svg.select('[data-country-code="'+scope.currentCountry.code+'"]').classed("active",!0)}scope.$apply(x)}var width=500,height=width,maxValue=null;attrs.type=attrs.type||"future",scope.type=attrs.type,scope.$watch("currentCountry",function(cc){cc&&cc.count>0?(scope.contract_type=[["Contract",cc.results.contract_type.contract||0],["Either",cc.results.contract_type.either||0],["Permanent",cc.results.contract_type.permanent||0]],scope.place_of_work=[["Remote",cc.results.place_of_work.remote||0],["Either",cc.results.place_of_work.either||0],["On-site",cc.results.place_of_work.onsite||0]],scope.seniority=[["Junior",cc.results.seniority.entry||0],["Mid-weight",cc.results.seniority.mid||0],["Senior",cc.results.seniority.senior||0],["Lead",cc.results.seniority.lead||0]],scope.visa=[["Visa Required",cc.results.visa.yes||0],["Has Visa",cc.results.visa.no||0]]):(scope.contract=[],scope.remote=[],scope.seniority=[],scope.visa=[])});var projection,backgroundClass,max=function(){if(null!==maxValue)return maxValue;var keys=Object.keys(scope.countryData);return maxValue=0,keys.forEach(function(k){"9999"!==k&&scope.countryData[k].count>maxValue&&(maxValue=scope.countryData[k].count)}),maxValue};isMobileViewer()?(projection=d3.geo.equirectangular().scale(153).translate([width/2,height/2]).precision(.1),backgroundClass="background-mobile"):(projection=d3.geo.orthographic().translate([width/2,height/2]).scale(250).clipAngle(90).precision(.1).rotate([0,-30]),backgroundClass="background");var path=d3.geo.path().projection(projection),graticule=d3.geo.graticule()(),svg=d3.select(element[0]).select("#map").append("svg").attr("width",width).attr("height",height).attr("viewBox","0, 0, "+width+", "+height),features=svg.append("g");features.append("path").datum({type:"Sphere"}).attr("class",backgroundClass).attr("d",path),features.append("path").datum(graticule).attr("class","graticule").attr("d",path),globeCtrl.loadCountries(attrs.type).then(function(countryData){scope.countryData=countryData,scope.currentCountry=countryData[9999],d3.json(mapJson,function(error,world){for(var focusId=null,states=topojson.feature(world,world.objects.states).features,cs=topojson.feature(world,world.objects.countries).features,countries=[],i=0;i<cs.length;i++)cs[i].id=parseInt(cs[i].id,10),840!==cs[i].id&&countries.push(cs[i]);countries=countries.concat(states);var country=features.selectAll(".country").data(countries).enter().append("g").attr("class","country").attr("data-country-name",function(d){return scope.countryData[d.id]?scope.countryData[d.id].name:"Unknown"}).attr("data-country-code",function(d){return scope.countryData[d.id]?scope.countryData[d.id].code:"XX"});country.append("path").attr("class","land").attr("d",path),country.append("path").attr("class","overlay").attr("d",path).attr("style",function(d){if(scope.countryData[d.id]){var country=scope.countryData[d.id],pct=country.count/max();return"fill-opacity: "+pct}return"fill-opacity: 0.001"}).attr("d",path).on("click",function(d){scope.countryData[d.id]&&setCurrentCountry(d.id)});var zoom=d3.geo.zoom().projection(projection).scaleExtent([.7*projection.scale(),8*projection.scale()]).on("zoom.redraw",function(){d3.event.sourceEvent.preventDefault(),svg.selectAll("path").attr("d",path)});d3.selectAll("path").call(zoom),function(){var coords=[359,-30];if(scope.countryCode){var keys=Object.keys(scope.countryData);keys.forEach(function(c){scope.countryData[c].code===scope.countryCode&&(focusId=parseInt(scope.countryData[c].id,10))}),focusId&&countries.forEach(function(cc){focusId===cc.id&&(coords=d3.geo.centroid(cc),coords[0]=-coords[0],coords[1]=-coords[1],setCurrentCountry(cc.id))})}isMobileViewer()||d3.transition().duration(1250).tween("rotate",function(){var r=d3.interpolate(projection.rotate(),coords);return function(t){projection.rotate(r(t)),svg.selectAll("path").attr("d",path)}}).transition()}()})})}var template=require("../../views/components/globe.jade"),mapJson="/js/geo/countries-and-states.json";return{restrict:"E",scope:{countryCode:"=?",backUrl:"=?",backFn:"=?",position:"=?"},link:link,controller:globeController,template:template}}require("../app").directive("globe",Globe)},{"../../views/components/globe.jade":233,"../app":1}],101:[function(require,module,exports){function HiringProcess(Modal){return{restrict:"E",replace:!0,scope:{process:"=",editable:"=",selecting:"=?"},template:template,link:function(scope){function addStep(index){Modal.open("hiring-step-picker").then(function(id){id&&scope.process.splice(index,0,id)})}function removeStep(index){scope.process.splice(index,1)}function moveStep(from,to){this.process.splice(to,0,this.process.splice(from,1)[0])}scope.addStep=addStep,scope.removeStep=removeStep,scope.moveStep=moveStep}}}var template=require("../../views/components/hiring-process.jade"),app=require("../app");app.directive("hiringProcess",HiringProcess),HiringProcess.$inject=["Modal"]},{"../../views/components/hiring-process.jade":234,"../app":1}],102:[function(require,module,exports){function HiringStep(){return{restrict:"E",replace:!0,scope:{id:"="},template:template,link:function(scope){function init(){scope.$watch("id",update)}function update(){scope.step=HIRING_STEPS[scope.id]}init()}}}var template=require("../../views/components/hiring-step.jade"),app=require("../app"),HIRING_STEPS=require("../../shared/hiring-steps.json");app.directive("hiringStep",HiringStep),HiringStep.$inject=[]},{"../../shared/hiring-steps.json":216,"../../views/components/hiring-step.jade":235,"../app":1}],103:[function(require,module,exports){function HistoryForm($rootScope,History,$location){return{restrict:"EA",replace:!0,scope:{job:"=?",done:"=?",cancel:"=?"},template:template,link:function(scope){function init(){scope.job.id&&(scope.job.range={from:new Date(scope.job.from_date),to:new Date(scope.job.to_date)})}var session=$rootScope.session,defaultJob=timeloadUtility.getDefault();scope.job=scope.job||{title:"",employer:"",description:"",level:null,contract_type:null,place_of_work:null,skills:[],time_load:timeloadUtility.getDefault(),range:{from:new Date,to:new Date},type:"employment"},scope.errors=[],init(),scope.submit=function(){if(scope.validate(!0)){var job=new History(scope.job);job.person_id=session.person.id,job.from_date=job.range.from,job.to_date=job.range.to,job.time_load=timeloadUtility.normalise(job.time_load),job.$save(function(job){scope.done?scope.done(job):($location.path("/person/"+session.person.id+"/profile"),$location.hash("history"))},function(res){scope.errors=[res.data.error]})}},scope.validate=function(highlightErrors){var errors=scope.validationError(highlightErrors);return highlightErrors&&(scope.errors=errors),!errors.length},scope.validationError=function(){var errors=[];return _.isEqual(scope.job.time_load,defaultJob)&&errors.push("Please adjust the shape"),scope.job.title||errors.push("Please fill job title"),scope.job.employer||errors.push("Please specify an employer"),scope.job.level||errors.push("Please select seniority level"),scope.job.contract_type||errors.push("Please select contract type"),scope.job.place_of_work||errors.push("Please select location type"),errors}}}}var app=require("../app"),template=require("../../views/components/history-form.jade"),timeloadUtility=require("../utils/timeload"),_=require("lodash");app.directive("historyForm",HistoryForm),HistoryForm.$inject=["$rootScope","History","$location"]},{"../../views/components/history-form.jade":236,"../app":1,"../utils/timeload":210,lodash:256}],104:[function(require,module,exports){require("./action-cost"),require("./action-earn"),require("./autocomplete"),require("./bar-chart"),require("./bar-split"),require("./editable"),require("./elastic"),require("./enter"),require("./full-sections"),require("./globe"),require("./hiring-process"),require("./hiring-step"),require("./history-form"),require("./link-copy-input"),require("./location-tag-display"),require("./markdown"),require("./match-explain"),require("./messaging"),require("./month-range-picker"),require("./organisation-cover"),require("./perk-badge"),require("./perks-selection"),require("./pie-chart"),require("./position-expiry"),require("./future-wizard"),require("./person-repositories"),require("./person-timeline"),require("./progress"),require("./radial-plot"),require("./salary-slider"),require("./skill-slider"),require("./skill-tag"),require("./slider"),require("./spinner"),require("./switch"),require("./tag-manager"),require("./team-members-list"),require("./ui-slider"),require("./work-tags"),require("./editor-icon")},{"./action-cost":89,"./action-earn":90,"./autocomplete":91,"./bar-chart":92,"./bar-split":93,"./editable":94,"./editor-icon":95,"./elastic":96,"./enter":97,"./full-sections":98,"./future-wizard":99,"./globe":100,"./hiring-process":101,"./hiring-step":102,"./history-form":103,"./link-copy-input":105,"./location-tag-display":106,"./markdown":107,"./match-explain":108,"./messaging":109,"./month-range-picker":110,"./organisation-cover":111,"./perk-badge":112,"./perks-selection":113,"./person-repositories":114,"./person-timeline":115,"./pie-chart":116,"./position-expiry":117,"./progress":118,"./radial-plot":119,"./salary-slider":120,"./skill-slider":121,"./skill-tag":122,"./slider":123,"./spinner":124,"./switch":125,"./tag-manager":126,"./team-members-list":127,"./ui-slider":128,"./work-tags":129}],105:[function(require,module,exports){function LinkCopyInput(){return{restrict:"E",replace:!0,scope:{value:"="},template:template,link:function(scope,el){function init(){input.on("focus",select),input.on("keydown",prevent)}function prevent(e){e.preventDefault()}function select(){input.select()}function copy(){select(),document.execCommand("Copy")}var input=el.find("input");scope.copy=copy,init()}}}var template=require("../../views/components/link-copy-input.jade"),app=require("../app");app.directive("linkCopyInput",LinkCopyInput),LinkCopyInput.$inject=[]},{"../../views/components/link-copy-input.jade":237,"../app":1}],106:[function(require,module,exports){function LocationTagDisplay(){return{restrict:"EA",replace:!0,scope:{item:"=",size:"="},template:template}}var app=require("../app"),template=require("../../views/components/location-tag-display.jade");app.directive("locationTagDisplay",LocationTagDisplay)},{"../../views/components/location-tag-display.jade":238,"../app":1}],107:[function(require,module,exports){require("../app").directive("markdown",function(){var converter=new window.Showdown.converter;return{restrict:"AE",link:function(scope,element,attrs){if(attrs.markdown)scope.$watch(attrs.markdown,function(newVal){var html=newVal?converter.makeHtml(newVal):"";element.html(html)});else{var html=converter.makeHtml(element.text());element.html(html)}}}})},{"../app":1}],108:[function(require,module,exports){function MatchExplain(){return{restrict:"EA",scope:{base:"=",match:"="},template:TEMPLATE,link:function(scope){scope.$watch("match",function(match){match&&(scope.commentary=commentary.get(scope.base,match))})}}}var commentary=require("../utils/commentary"),app=require("../app"),TEMPLATE="<p>{{ commentary }}</p>";app.directive("matchExplain",MatchExplain),MatchExplain.$inject=[]},{"../app":1,"../utils/commentary":200}],109:[function(require,module,exports){function Messaging(Session,MessageManager,CacheFactory,$rootScope,Conversations,MatchCache){var template=require("../../views/components/messaging.jade");return{restrict:"EA",scope:{conversation:"=",placeholder:"=",onMessage:"=?",disabled:"=?"},template:template,link:function(scope){function init(){scope.avatar="person"===session.type?session.person.avatar||ANON_AVATAR_URL:session.organisation.logo||null,scope.$watch("conversation",markNewAsRead)}function markNewAsRead(){var accountType="person"===session.type?"person":"organisation";scope.conversation&&scope.conversation.messages&&scope.conversation.messages.forEach(function(message){message.read||message.recipient!==accountType||MessageManager.markAsRead(message.id)})}function sendMessage(){var message=scope.message;scope.loading||(scope.error=null,scope.loading=!0,scope.message=null,new Conversations({type:scope.conversation.type,entryId:scope.conversation.itemId,message:message}).$save(function(res){angular.extend(scope.conversation,MessageManager.decorateConversation(res.conversation)),scope.loading=!1,"function"==typeof scope.onMessage&&scope.onMessage(),CacheFactory.clearAll(),MatchCache.clear()},function(res){scope.loading=!1,scope.message=message,scope.error=res.error?res.error:res}))}var session=$rootScope.session;scope.sendMessage=sendMessage,init()}}}var app=require("../app"),ANON_AVATAR_URL="/images/assets/anonymous.png";app.directive("messaging",Messaging),Messaging.$inject=["Session","MessageManager","CacheFactory","$rootScope","Conversations","MatchCache"]},{"../../views/components/messaging.jade":239,"../app":1}],110:[function(require,module,exports){function MonthRangePicker(){return{restrict:"EA",replace:!0,scope:{value:"="},template:template,link:function(scope){function parseDate(){scope.value.from>scope.value.to&&(scope.value.to=scope.value.from);var from=moment(scope.value.from),to=moment(scope.value.to);scope.from={month:from.month(),year:from.year()},scope.to={month:to.month(),year:to.year()}}function updateModel(){var from=moment().month(scope.from.month).year(scope.from.year).date(1)._d,to=moment().month(scope.to.month).year(scope.to.year).date(1)._d;from>to&&(to=from),scope.value.from=from,scope.value.to=to,parseDate()}scope.months=MONTH_NAMES,parseDate(),scope.$watch("voidTo",function(active){active&&(scope.value.to=null)}),scope.updateModel=updateModel}}}var app=require("../app"),moment=require("moment"),template=require("../../views/components/month-range-picker.jade"),MONTH_NAMES=["January","February","March","April","May","June","July","August","September","October","November","December"];app.directive("monthRangePicker",MonthRangePicker)},{"../../views/components/month-range-picker.jade":240,"../app":1,moment:259}],111:[function(require,module,exports){function OrganisationCover(Organisation){return{restrict:"EA",replace:!0,scope:{organisation:"=",onError:"=?",onSuccess:"=?",editable:"="},template:template,link:function(scope){function init(){scope.$watch("coverOptions",function(newVal,oldVal){_.isEqual(newVal,oldVal)||(scope.changed=!0)},!0)}function changeCover(){scope.loading||fileUtility.selectFile(saveCover)}function saveCover(file){scope.loading=!0,Organisation.updateCover({id:scope.organisation.id,image:file},function(res){scope.loading=!1,scope.organisation.cover=res.cover,scope.onSuccess&&scope.onSuccess("Saved")},scope.onError)}function removeCover(){scope.loading=!0,Organisation.removeCover({id:scope.organisation.id},function(){scope.loading=!1,scope.organisation.cover=null,scope.onSuccess&&scope.onSuccess("Saved")},scope.onError)}function saveCoverOptions(){scope.changed&&(scope.changed=!1,scope.loading=!0,Organisation.setCoverOptions({id:scope.organisation.id,options:scope.coverOptions},function(res){scope.coverOptions=res.cover_options,scope.changed=!1,scope.onSuccess&&scope.onSuccess("Saved")},function(res){scope.changed=!0,scope.onError&&scope.onError(res)}))}function getCoverStyle(){var cover=scope.organisation.cover,blur="blur("+scope.coverOptions.blur+"px)",scale="scale("+scope.coverOptions.scale+")";return{"background-image":cover?"url(/"+cover.images.large+")":null,filter:blur,"-webkit-filter":blur,"-moz-filter":blur,"-o-filter":blur,"-ms-filter":blur,"-khtml-filter":blur,transform:scale,"-webkit-transform":scale,"-moz-transform":scale,"-o-transform":scale,"-ms-transform":scale,"-khtml-transform":scale}}var coverOptions=scope.organisation.cover_options||{};scope.coverOptions={blur:coverOptions.blur||0,scale:coverOptions.scale||1,height:coverOptions.height||250},scope.loading=!1,scope.changed=!1,scope.changeCover=changeCover,scope.saveCover=saveCover,scope.removeCover=removeCover,scope.saveCoverOptions=saveCoverOptions,scope.getCoverStyle=getCoverStyle,init()}}}var _=require("lodash"),app=require("../app"),template=require("../../views/components/organisation-cover.jade"),fileUtility=require("../utils/file");app.directive("organisationCover",OrganisationCover)},{"../../views/components/organisation-cover.jade":241,"../app":1,"../utils/file":202,lodash:256}],112:[function(require,module,exports){function PerksSelection(){return{restrict:"EA",replace:!0,scope:{perk:"=",disabled:"=?",active:"=?",size:"=?",label:"=?"},template:template,link:function(scope){function init(){update(),scope.$watch("perk",update)}function update(){var key;for(key in perks)if(perks.hasOwnProperty(key)&&key===scope.perk)return void(scope.meta=perks[key])}scope.meta={},init()}}}var app=require("../app"),template=require("../../views/components/perk-badge.jade"),perks=require("../../shared/perks.json");app.directive("perkBadge",PerksSelection)},{"../../shared/perks.json":218,"../../views/components/perk-badge.jade":242,"../app":1}],113:[function(require,module,exports){function PerksSelection(){return{restrict:"EA",replace:!0,scope:{perks:"="},template:template,link:function(scope){function hasPerk(id){return-1!==scope.perks.indexOf(id)}function toggle(key){var index=scope.perks.indexOf(key);return-1===index?scope.perks.push(key):void scope.perks.splice(index,1)}scope.perks=scope.perks||[],scope.perksList=perks,scope.toggle=toggle,scope.hasPerk=hasPerk}}}var app=require("../app"),template=require("../../views/components/perks-selection.jade"),perks=require("../../shared/perks.json");app.directive("perksSelection",PerksSelection)},{"../../shared/perks.json":218,"../../views/components/perks-selection.jade":243,"../app":1}],114:[function(require,module,exports){function PersonRepositories(){return{restrict:"EA",replace:!0,scope:{person:"="},template:template,link:function(scope){function getRepoUrl(repo){return"https://github.com/"+scope.person.github.login+"/"+repo.name}function showAll(){scope.showAllRepos=!0}scope.showAllRepos=!1,scope.repositories=scope.person.github?scope.person.github.repos:[],scope.showAll=showAll,scope.getRepoUrl=getRepoUrl}}}var app=require("../app"),template=require("../../views/components/person-repositories.jade");app.directive("personRepositories",PersonRepositories)},{"../../views/components/person-repositories.jade":244,"../app":1}],115:[function(require,module,exports){function PersonTimeline(History,$location,$anchorScroll,$q){return{restrict:"E",replace:!0,scope:{history:"=",personId:"=",editable:"="},template:template,link:function(scope){function addJob(){scope.job.editing=null,scope.job.creating=!0}function closeJob(){scope.job.editing=null,scope.job.creating=!1}function jobSaved(job){closeJob(),updateHistory().then(function(){setTimeout(function(){$location.hash("job-"+job.id),$anchorScroll()})})}function updateHistory(){var deferred=$q.defer();return History.list({person_id:scope.personId},function(history){scope.history=history,deferred.resolve(history)},deferred.reject),deferred.promise}function deleteJob(job){History["delete"]({id:job.id,person_id:scope.personId},function(){scope.history.splice(scope.history.indexOf(job),1)},function(res){scope.error=res.data.error})}scope.job={editing:null,creating:!1},scope.addJob=addJob,scope.closeJob=closeJob,scope.jobSaved=jobSaved,scope.deleteJob=deleteJob}}}var template=require("../../views/components/person-timeline.jade"),app=require("../app");app.directive("personTimeline",PersonTimeline),PersonTimeline.$inject=["History","$location","$anchorScroll","$q"]},{"../../views/components/person-timeline.jade":245,"../app":1}],116:[function(require,module,exports){function PieChart(){return{template:template,restrict:"E",replace:!0,scope:{data:"="},link:function(scope,element){function init(){scope.$watch("data",update)}function setActive(index){scope.sections&&(index="number"==typeof index?index:null,scope.active=index,scope.sections.classed("active",function(d,i){return i===index}),setTimeout(function(){scope.$apply()}))}function update(){render()}function getColor(index){return COLORS[index%COLORS.length]}function render(){var el=element[0].querySelector('[ref="chart"]'),size=el.offsetWidth,data=getNormalisedData();scope.svg=d3.select(el).append("svg").attr("width",size).attr("height",size),scope.chart=scope.svg.append("g").attr("transform","translate("+size/2+","+size/2+")"),scope.arc=d3.svg.arc().innerRadius(INNER_RADIUS).outerRadius(size/2),scope.pie=d3.layout.pie().value(function(d){return d.value}).sort(null),scope.sections=scope.chart.selectAll(".arc").data(scope.pie(data)).enter().append("g").attr("class","arc"),scope.arcs=scope.sections.append("path").attr("d",scope.arc).attr("fill",function(d,i){return getColor(i)}).on("mouseover",function(d,i){setActive(i)}).on("mouseout",function(){setActive(null)}),scope.labels=scope.sections.append("text").attr("transform",function(d){return"translate("+scope.arc.centroid(d)+")"}).text(function(d){return d.value.toFixed(2)+"%"})}function getNormalisedData(){var i,data=scope.data||[],total=0;for(i=0;i<data.length;i+=1)total+=data[i].value;return data.map(function(point){return{label:point.label,value:100*point.value/total}})}scope.active=null,scope.getColor=getColor,scope.setActive=setActive,init()}}}var app=require("../app"),template=require("../../views/components/pie-chart.jade"),COLORS=["#c14d24","#e77249","#f19778","#222f36","#405765","#5e7f94","#89a4b5","#184a46","#297771","#33a49b","#e9f1f0"],INNER_RADIUS=30;app.directive("pieChart",PieChart),PieChart.$inject=[]},{"../../views/components/pie-chart.jade":246,"../app":1}],117:[function(require,module,exports){function positionExpiry($timeout){return{template:"{{ countdown }}",restrict:"E",scope:{position:"="},link:function(scope){function loop(){scope.countdown=positionUtil.getCountdown(scope.position),$timeout(loop,1e3)}loop()}}}var app=require("../app"),positionUtil=require("../utils/position");app.directive("positionExpiry",positionExpiry),positionExpiry.$inject=["$timeout"]},{"../app":1,"../utils/position":207}],118:[function(require,module,exports){angular.module("ngProgress.provider",["ngProgress.directive"]).provider("ngProgress",function(){this.autoStyle=!0,this.count=0,this.height="2px",this.$get=function($document,$window,$compile,$rootScope,$timeout){var count=this.count,height=this.height,color=this.color,$scope=$rootScope,$body=$document.find("body"),progressbarEl=$compile("<ng-progress></ng-progress>")($scope);$body.append(progressbarEl),$scope.count=count,void 0!==height&&progressbarEl.eq(0).children().css("height",height),void 0!==color&&(progressbarEl.eq(0).children().css("background-color",color),progressbarEl.eq(0).children().css("color",color));var intervalCounterId=0;return{start:function(){this.show();var self=this;intervalCounterId=setInterval(function(){if(isNaN(count))clearInterval(intervalCounterId),count=0,self.hide();else{var remaining=100-count;count+=.15*Math.pow(1-Math.sqrt(remaining),2),self.updateCount(count)}},200)},updateCount:function(new_count){$scope.count=new_count,$scope.$$phase||$scope.$apply()},height:function(new_height){return void 0!==new_height&&(height=new_height,$scope.height=height,$scope.$$phase||$scope.$apply()),height},color:function(new_color){return void 0!==new_color&&(color=new_color,$scope.color=color,$scope.$$phase||$scope.$apply()),color},hide:function(){progressbarEl.children().css("opacity","0");var self=this;$timeout(function(){progressbarEl.children().css("width","0%"),$timeout(function(){self.show()},500)},500)},show:function(){$timeout(function(){progressbarEl.children().css("opacity","1")},100)},status:function(){return count},stop:function(){clearInterval(intervalCounterId)},set:function(new_count){return this.show(),this.updateCount(new_count),count=new_count,clearInterval(intervalCounterId),count},css:function(args){return progressbarEl.children().css(args)},reset:function(){return clearInterval(intervalCounterId),count=0,this.updateCount(count),0},complete:function(){count=100,this.updateCount(count);var self=this;return $timeout(function(){self.hide(),$timeout(function(){count=0,self.updateCount(count)},500)},1e3),count}}},this.setColor=function(color){return void 0!==color&&(this.color=color),this.color},this.setHeight=function(height){return void 0!==height&&(this.height=height),this.height}}),angular.module("ngProgress.directive",[]).directive("ngProgress",function($window,$rootScope){var directiveObj={replace:!0,restrict:"E",link:function($scope,$element){$rootScope.$watch("count",function(newVal){(void 0!==newVal||null!==newVal)&&($scope.counter=newVal,$element.eq(0).children().css("width",newVal+"%"))}),$rootScope.$watch("color",function(newVal){(void 0!==newVal||null!==newVal)&&($scope.color=newVal,$element.eq(0).children().css("background-color",newVal),$element.eq(0).children().css("color",newVal))}),$rootScope.$watch("height",function(newVal){(void 0!==newVal||null!==newVal)&&($scope.height=newVal,$element.eq(0).children().css("height",newVal))})},template:'<div id="ngProgress-container"><div id="ngProgress"></div></div>'};return directiveObj}),angular.module("ngProgress",["ngProgress.directive","ngProgress.provider"])},{}],119:[function(require,module,exports){var debug=require("../core/debug"),timeloadUtility=require("../utils/timeload"),ui=ui||{d3:{}};ui.d3.RadialPlot=function(element){this._radians=2*Math.PI,this._draws=0,this._inDrag=!1,this._increment=20,this._element=element,this._plotRadius=41,this._innerRadius=2,this._pointRadius=1,this._overPointRadius=2,this._padding=7,this._interpolation="linear-closed",this._editable=!1,this._labelled=!0,this._visiblePoints=!0,this._tooltips=!0,this._animated=!0,this._animateDuration=400,this._animateEasing="linear",this._delayDuration=600,this._scaleType="linear",this._freeDraw=!1,this._tendToZero=1e-4,this.compare=null,this._maxValue=100,this.exps=["Determining and capturing the requirements of a system","High level design and planning of a system to satisfy requirements of the system","Encompasses system provisioning, automation and administration to facilitate engineering tasks","Building the server-side application and interfaces","Building the client-side application","Building the look and feel of the application","Writing and running a series of experiments to demonstrate correct performance of application under different scenarios","Reading and updating code to improve readability, maintainability and its performance.","Explanation and commentary of code and engineering tasks to aid other's understanding","Live experimentation to test system hypothesis for use when iterating on further releases"];

},ui.d3.RadialPlot.prototype.setPlotRadius=function(plotRadius){return this._plotRadius=plotRadius||this._plotRadius,this},ui.d3.RadialPlot.prototype.setInnerRadius=function(innerRadius){return this._innerRadius=innerRadius||this._innerRadius,this},ui.d3.RadialPlot.prototype.setPointRadius=function(pointRadius){return this._pointRadius=pointRadius||this._pointRadius,this},ui.d3.RadialPlot.prototype.setOverPointRadius=function(overPointRadius){return this._overPointRadius=overPointRadius||this._overPointRadius,this},ui.d3.RadialPlot.prototype.setTooltips=function(tooltips){return this._tooltips="undefined"!=typeof tooltips?tooltips:this._tooltips,this},ui.d3.RadialPlot.prototype.setPadding=function(padding){return this._padding=padding||this._padding,this},ui.d3.RadialPlot.prototype.setInterpolation=function(interpolation){return this._interpolation=interpolation||this._interpolation,this},ui.d3.RadialPlot.prototype.setEditable=function(editable){return this._editable="undefined"!=typeof editable?editable:this._editable,this},ui.d3.RadialPlot.prototype.setLabelled=function(labelled){return this._labelled="undefined"!=typeof labelled?labelled:this._labelled,this},ui.d3.RadialPlot.prototype.setVisiblePoints=function(points){return this._visiblePoints="undefined"!=typeof points?points:this._visiblePoints,this},ui.d3.RadialPlot.prototype.setAnimated=function(animated){return this._animated="undefined"!=typeof animated?animated:this._animated,this},ui.d3.RadialPlot.prototype.setAnimationTimes=function(tweenTime,delayTime){return this._animateDuration=tweenTime||this._animateDuration,this._delayDuration=delayTime||this._delayDuration,this},ui.d3.RadialPlot.prototype.setAnimateEasing=function(animateEasing){return this._animateEasing=animateEasing||this._animateEasing,this},ui.d3.RadialPlot.prototype.setScaleType=function(scaleType){return this._scaleType=scaleType||this._scaleType,this},ui.d3.RadialPlot.prototype.setFreeDraw=function(freeDraw){return this._freeDraw=freeDraw||this._freeDraw,this},ui.d3.RadialPlot.prototype.setCenter=function(center){return this._center=center||this._center,this},ui.d3.RadialPlot.prototype.onDataChanged=function(dsn,compare,scenes,stack,scope){if(!this._inDrag){var missingDsn=!dsn;missingDsn&&(dsn=timeloadUtility.getBlank(),missingDsn=!0);var x,that=this,stacked=null,dataset=this._convert(dsn),initial=!1;0===this._noRedraws&&(initial=!0),this._noRedraws++,compare=this._convert(compare),this.compare=compare,this.origin=dataset.map(function(){return 0}),"undefined"!=typeof stack&&(stacked=this._generateStackedData(stack,dsn,initial),this._setMaxValue(this._getMaxStack(stacked))),this._setScale(this._scaleType),this._setAngle(dataset.length),this._setLine(),this._setIncrements();var elementClass="plot-radial-plot";if(this._center&&(elementClass+=" center"),this._setElementClass(elementClass),this._clearElementContents(),this._drawPlot(),missingDsn&&this.svg.classed("no-dsn",!0),this._drawAxes(dataset),stacked){for(x in stacked.sort(function(){return 1})){x=parseInt(x,10);var cl=0===x?"area":x%2===0?"team-area":"team-area-alt";this._drawArea(this.svg,stacked[x],cl)}this._drawSectors(dataset)}else{var sum=0,values=this._map(dataset,function(row){var val=ui.d3.RadialPlot.toFloat(row.value,1);return val>100?100:0>=val?that._tendToZero:val});for(x in dataset)sum+=dataset[x].value;this.areaCanvas=this.svg.append("g").attr("class","area-g"),this.area=this._drawArea(this.areaCanvas,values,"area"),this._drawSectors(dataset),this.points=this._drawPoints(dataset,sum),this.interactiveArcs=this._drawInteractivePolygons(dataset,scope),this._editable&&this.interactiveArcs.call(this._getDragBehaviour(scope)),0===this._draws++&&this._animated?this._addSceneTransitions(scenes,this.area,this.points):(this.points.attr("r",this._pointRadius),this.area.attr("d",this.line))}if("undefined"!=typeof compare){var cvalues=this._map(compare,function(row){var val=ui.d3.RadialPlot.toFloat(row.value,1);return val>100?100:0>=val?that._tendToZero:val});this._drawArea(this.svg,cvalues,"compare-area")}this._labelled&&this._addLabels(dataset)}},ui.d3.RadialPlot.toInteger=function(x){var y=parseInt(x,10);if(isNaN(y)){var err=new Error;return debug.error(x+" could not be converted to an integer."),debug.error(err),0}return y},ui.d3.RadialPlot.toFloat=function(x,precision){var y=parseFloat(x);if(isNaN(y)){var err=new Error;debug.error(x+" could not be converted to a float."),debug.error(err),y=0}return y.toFixed(precision)},ui.d3.RadialPlot.prototype._setElementClass=function(className){d3.select(this._element).attr("class",className)},ui.d3.RadialPlot.prototype._clearElementContents=function(){d3.select(this._element).selectAll("*").remove()},ui.d3.RadialPlot.prototype._setMaxValue=function(maxValue){this._maxValue=maxValue},ui.d3.RadialPlot.prototype._setScale=function(scale){if("log"===scale){var one=this._plotRadius/100*2;this._scale=d3.scale.log().domain([this._tendToZero,1,this._maxValue]).range([this._innerRadius,this._innerRadius+one,this._innerRadius+this._plotRadius])}else this._scale=d3.scale.linear().domain([this._tendToZero,this._maxValue]).range([this._innerRadius,this._innerRadius+this._plotRadius])},ui.d3.RadialPlot.prototype._setAngle=function(size){this.angle=d3.scale.linear().domain([0,size]).range([0,this._radians])},ui.d3.RadialPlot.prototype._setLine=function(){var that=this;this.line=d3.svg.area.radial().interpolate(this._interpolation).innerRadius(function(d){return"undefined"!=typeof d.innerValue&&d.innerValue!==that._tendToZero?that._scale(d.innerValue):0}).outerRadius(function(d){var xx=d;return"undefined"!=typeof d.outerValue&&(xx=d.outerValue),0===xx?that._innerRadius:that._scale(xx)}).angle(function(d,i){return that.angle(i)})},ui.d3.RadialPlot.prototype._setIncrements=function(){var that=this;this._increments=d3.range(0,this._maxValue+1,this._increment),this._incrementArc=d3.svg.arc().innerRadius(function(d){return d-=that._increment,0>d?0:0===d?that._innerRadius:that._scale(d)}).outerRadius(function(d){return 0===d?that._innerRadius:that._scale(d)}).startAngle(0).endAngle(this._radians)},ui.d3.RadialPlot.prototype._lineTween=function(start,end){var that=this;return function(d,i){(null===end||"undefined"==typeof end)&&(end=d);var interpolate=d3.interpolateArray(start,end);return function(t){return that.line(interpolate(t),i)}}},ui.d3.RadialPlot.prototype._drawSectors=function(dataset){var i,deg1,deg2,rad1,rad2,arc,center=this._plotRadius+this._padding;for(i=0;i<dataset.length;i+=2)deg1=360/dataset.length*i,deg2=deg1+360/dataset.length,rad1=deg1*Math.PI/180,rad2=deg2*Math.PI/180,arc=d3.svg.arc().innerRadius(0).outerRadius(this._scale(100)).startAngle(rad1).endAngle(rad2),this.svg.append("path").attr("d",arc).attr("class","sector").attr("transform","translate("+center+", "+center+")")},ui.d3.RadialPlot.prototype._drawAxes=function(dataset){var that=this;this.svg.selectAll(".axis").data(dataset).enter().append("line").attr("class","axis").attr("i",function(d,i){return i}).attr("x1",0).attr("y1",0).attr("x2",function(d,i){return(that._innerRadius+that._plotRadius)*Math.sin(that.angle(i))}).attr("y2",function(d,i){return-(that._innerRadius+that._plotRadius)*Math.cos(that.angle(i))}).attr("transform","translate("+(this._plotRadius+this._padding)+", "+(this._plotRadius+this._padding)+")")},ui.d3.RadialPlot.prototype._drawInteractivePolygons=function(dataset,scope){var interactiveArcs,that=this;return this._interactiveArc=d3.svg.arc().innerRadius(function(){return that._innerRadius}).outerRadius(function(){return that._scale(that._maxValue)}).startAngle(function(d,i){return that.angle(i-.4)}).endAngle(function(d,i){return that.angle(i+.4)}),interactiveArcs=this.svg.selectAll(".interactive-arc").data(dataset).enter().append("path").attr("class","interactive-arc").attr("data-id",function(d,i){return i}).attr("d",this._interactiveArc).attr("transform","translate("+(this._plotRadius+this._padding)+", "+(this._plotRadius+this._padding)+")").on("mouseover",function(d,i){var currentPoint=that.points.filter(function(dp){return dp.id===d.id});if(that._editable)currentPoint.attr("r",that._overPointRadius);else if(that._tooltips){var text=d.name+": "+ui.d3.RadialPlot.toFloat(d.value,1)+"%";"undefined"!=typeof that.compare&&that.compare instanceof Array&&that.compare.length>i&&(text+=" - "+ui.d3.RadialPlot.toFloat(that.compare[i].value,1)+"%");var cx=ui.d3.RadialPlot.toFloat(currentPoint.attr("cx")),x=cx-15,y=ui.d3.RadialPlot.toFloat(currentPoint.attr("cy")),tooltipText=that.svg.append("text").attr("class","tooltip-text").attr("transform","translate("+(that._plotRadius+that._padding)+", "+(that._plotRadius+that._padding)+")").attr("x",x+2).attr("y",y-4).text(text).style("opacity",0);tooltipText.transition(200).style("opacity",1)}}).on("mouseout",function(d){var currentPoint=that.points.filter(function(dp){return dp.id===d.id});that._inDrag||currentPoint.attr("r",that._pointRadius),that.svg.selectAll(".tooltip-box, .tooltip-text").remove()}).on("click",function(d,i){if(that._editable){var sum,values,draggedName,ext,coords=d3.mouse(this.parentNode),realX=coords[0]-(that._plotRadius+that._padding),realY=coords[1]-(that._plotRadius+that._padding),r=Math.sqrt(Math.pow(realX,2)+Math.pow(realY,2)),val=that._scale.invert(r),ci=i;for(var name in scope.dsn)if(ci===scope.dsn[name].id){scope.dsn[name].value=val>100?100:0>=val?that._tendToZero:val,draggedName=name;break}scope.$apply(function(){scope.dsn=scope.dsn}),sum=0,values=that._map(scope.dsn,function(row){var val=ui.d3.RadialPlot.toFloat(row.value,1);return val>100?100:0>=val?that._tendToZero:val}),ext="",d3.select(that._element).selectAll(".area,.area-invalid").remove(),that.areaCanvas.append("path").datum(values).attr("class","area"+ext).attr("transform","translate("+(that._plotRadius+that._padding)+", "+(that._plotRadius+that._padding)+")").attr("d",that.line),that.points.filter(function(dp){return d.id===dp.id}).attr("cx",function(d){var x=d.value<=that._tendToZero?that._innerRadius:that._scale(scope.dsn[draggedName].value),cx=x*Math.sin(that.angle(scope.dsn[draggedName].id));return cx}).attr("cy",function(d){var x=d.value<=that._tendToZero?that._innerRadius:that._scale(scope.dsn[draggedName].value),cy=-x*Math.cos(that.angle(scope.dsn[draggedName].id));return cy}),d3.select(that._element).selectAll(".point,.point-invalid").attr("class","point"+ext)}})},ui.d3.RadialPlot.prototype._drawPlot=function(){this.svg=d3.select(this._element).append("svg").attr("viewBox","0 0 100 100").append("g"),this.svg.append("circle").attr("r",this._innerRadius+this._plotRadius).attr("class","increment-a-outer").attr("transform","translate("+(this._plotRadius+this._padding)+", "+(this._plotRadius+this._padding)+")"),this.svg.selectAll(".increment").data(this._increments).enter().append("path").attr("class",function(d,i){return i%2===0?"increment-a":"increment-b"}).attr("d",this._incrementArc).attr("transform","translate("+(this._plotRadius+this._padding)+", "+(this._plotRadius+this._padding)+")")},ui.d3.RadialPlot.prototype._addIncrementLabels=function(){var that=this;"log"!==this._scaleType&&this.svg.selectAll(".increment-label").data(this._increments).enter().append("text").attr("class","increment-label").attr("x",5).attr("y",function(d){return-(that._scale(d)+that._scale(20)/20)}).text(function(d){return d}).attr("transform","translate("+(this._plotRadius+this._padding)+", "+(this._plotRadius+this._padding)+")")},ui.d3.RadialPlot.prototype._drawInnerCircle=function(){this.svg.append("circle").attr("r",this._innerRadius-1).attr("class","centre").attr("transform","translate("+(this._plotRadius+this._padding)+", "+(this._plotRadius+this._padding)+")")},ui.d3.RadialPlot.prototype._drawArea=function(canvas,data,className){return canvas.append("path").datum(data).attr("d",this.line).attr("class",className).attr("transform","translate("+(this._plotRadius+this._padding)+", "+(this._plotRadius+this._padding)+")")},ui.d3.RadialPlot.prototype._drawPoints=function(dataset){var that=this,pointClass=this._visiblePoints?"point":"point-invisible",points=this.svg.selectAll(".point, .point-invisible").data(dataset).enter().append("circle").attr("transform","translate("+(that._plotRadius+that._padding)+", "+(that._plotRadius+that._padding)+")").attr("class",pointClass).attr("data-id",function(d,i){return i}).attr("r",0).attr("cx",function(d,i){var x=ui.d3.RadialPlot.toFloat(d.value,1)<=that._tendToZero?that._innerRadius:that._scale(d.value);return x*Math.sin(that.angle(i))}).attr("cy",function(d,i){var x=ui.d3.RadialPlot.toFloat(d.value,1)<=that._tendToZero?that._innerRadius:that._scale(d.value);return-x*Math.cos(that.angle(i))});return points},ui.d3.RadialPlot.prototype._getMaxStack=function(stack){var max=0,last=stack[stack.length-1];for(var y in last)max=last[y].outerValue>max?last[y].outerValue:max;var x=max/this._increment;x!==Math.floor(x)&&(x=Math.floor(x)+1);var maxByIncrement=x*this._increment;return maxByIncrement},ui.d3.RadialPlot.prototype._generateStackedData=function(stack,dsn,initial){initial="undefined"!=typeof initial?!1:!0;var output=[],previousId=null,lastKey=String(stack.length-1);stack.push(dsn);for(var x in stack){output[x]=[];for(var y in stack[x])output[x][stack[x][y].id]={innerValue:previousId&&x!==lastKey?output[previousId][stack[x][y].id].outerValue:this._tendToZero,outerValue:previousId?output[previousId][stack[x][y].id].outerValue+stack[x][y].value:stack[x][y].value,name:stack[x][y].id};previousId=x}return output},ui.d3.RadialPlot.prototype._showExplanation=function(d){var that=this,exp=d3.select(that._element).select(".explanation p");exp.empty()?d3.select(that._element).append("div").attr("class","explanation").append("p").text(d.name+" - "+that.exps[d.id]).attr("class","show"):exp.text(d.name+" - "+that.exps[d.id]).attr("class","show")},ui.d3.RadialPlot.prototype._addLabels=function(dataset){var that=this;that.overLabelId=null,this.svg.selectAll(".label").data(dataset).enter().append("text").text(function(d){return d.name}).attr("class","label").attr("text-anchor","middle").attr("transform",function(d,i){var transform=that._plotRadius+that._padding,x=(that._innerRadius+that._plotRadius+2)*Math.sin(that.angle(i))+transform,y=-(that._innerRadius+that._plotRadius+2)*Math.cos(that.angle(i))+transform,rotation=that.angle(i)*(180/Math.PI);return i>2&&8>i&&(rotation+=180,x=(that._innerRadius+that._plotRadius+4)*Math.sin(that.angle(i))+transform,y=-(that._innerRadius+that._plotRadius+4)*Math.cos(that.angle(i))+transform),"translate("+x+","+y+") rotate("+rotation+")"}).on("mouseover",function(d){that.overLabelId=d.id,setTimeout(function(){that.overLabelId===d.id&&that._showExplanation(d)},600)}).on("mouseout",function(){that.overLabelId=null,setTimeout(function(){d3.select(that._element).select(".explanation p").attr("class",""),setTimeout(function(){d3.select(that._element).select(".explanation").remove()},400)},100)})},ui.d3.RadialPlot.prototype._checkTotal=function(sum){return this._freeDraw?!0:100===sum},ui.d3.RadialPlot.prototype._map=function(object,func){var output=[];for(var x in object)output.push(func(object[x]));return output},ui.d3.RadialPlot.prototype._convert=function(object){if(object instanceof Array)return object;var dataset=[];for(var l in object)dataset[object[l].id]=object[l];return dataset},ui.d3.RadialPlot.prototype._getDragBehaviour=function(scope){var that=this,drag=d3.behavior.drag().on("drag",function(d,i){var sum,values,draggedName,ext,realX=d3.event.x-(that._plotRadius+that._padding),realY=d3.event.y-(that._plotRadius+that._padding),r=Math.sqrt(Math.pow(realX,2)+Math.pow(realY,2)),val=that._scale.invert(r),ci=i;for(var name in scope.dsn)if(ci===scope.dsn[name].id){scope.dsn[name].value=val>100?100:0>=val?that._tendToZero:val,draggedName=name;break}scope.$apply(function(){scope.dsn=scope.dsn}),sum=0,values=that._map(scope.dsn,function(row){var val=ui.d3.RadialPlot.toFloat(row.value,1);return val>100?100:0>=val?that._tendToZero:val}),ext="",d3.select(that._element).selectAll(".area,.area-invalid").remove(),that.areaCanvas.append("path").datum(values).attr("class","area"+ext).attr("transform","translate("+(that._plotRadius+that._padding)+", "+(that._plotRadius+that._padding)+")").attr("d",that.line),that.points.filter(function(dp){return d.id===dp.id}).attr("cx",function(d){var x=d.value<=that._tendToZero?that._innerRadius:that._scale(scope.dsn[draggedName].value),cx=x*Math.sin(that.angle(scope.dsn[draggedName].id));return cx}).attr("cy",function(d){var x=d.value<=that._tendToZero?that._innerRadius:that._scale(scope.dsn[draggedName].value),cy=-x*Math.cos(that.angle(scope.dsn[draggedName].id));return cy}),d3.select(that._element).selectAll(".point,.point-invalid").attr("class","point"+ext)}).on("dragstart",function(){that._inDrag=!0}).on("dragend",function(){that._inDrag=!1,d3.select(that._element).selectAll(".point,.point-invalid").attr("r",that._pointRadius)});return drag},ui.d3.RadialPlot.prototype._addSceneTransitions=function(scenes,area,points){var that=this,delay=0,previous=this.origin;"undefined"!=typeof scenes&&scenes.forEach(function(scene){scene=that._map(scene,function(row){var val=ui.d3.RadialPlot.toFloat(row.value,1);return val>100?100:0>=val?that._tendToZero:val}),area.transition().ease(that._animateEasing).delay(delay).duration(that._animateDuration).attrTween("d",that._lineTween(previous,scene)),previous=scene,delay+=that._animateDuration+that._delayDuration}),area.transition().ease(this._animateEasing).delay(delay).duration(this._animateDuration).attrTween("d",this._lineTween(previous)),delay+=this._animateDuration+this._delayDuration,points.transition().delay(delay).duration(50).attr("r",this._pointRadius)},ui.radialplot=function(){function link(scope,element,attrs){var radialPlot=new ui.d3.RadialPlot(element[0]).setPlotRadius(parseInt(attrs.plotRadius,10)).setInnerRadius(parseInt(attrs.innerRadius,10)).setPadding(parseInt(attrs.padding,10)).setPointRadius(parseInt(attrs.pointRadius,10)).setOverPointRadius(parseInt(attrs.overPointRadius,10)).setInterpolation(attrs.interpolation).setEditable("true"===attrs.editable).setTooltips("true"===attrs.tooltips).setLabelled("true"===attrs.labelled).setVisiblePoints("false"===attrs.visiblePoints?!1:!0).setAnimated("false"===attrs.animate?!1:!0).setAnimateEasing(attrs.animateEasing).setAnimationTimes(parseInt(attrs.animateDuration,10),parseInt(attrs.delayDuration,10)).setScaleType(attrs.scale).setFreeDraw("true"===attrs.free).setCenter("true"===attrs.center);"undefined"==typeof attrs.compare?scope.$watch("dsn",function(dsn){radialPlot.onDataChanged(dsn,scope.compare,scope.play,scope.stack,scope)},!0):scope.$watch("compare",function(compare){"undefined"!=typeof compare&&radialPlot.onDataChanged(scope.dsn,compare,scope.play,scope.stack,scope)},!0)}return{restrict:"E",scope:{dsn:"=",compare:"=",play:"=",stack:"="},link:link}},angular.module("ui.radialplot",[]).directive("radialPlot",ui.radialplot)},{"../core/debug":87,"../utils/timeload":210}],120:[function(require,module,exports){function SalarySlider(){var template='<div class="salary-slider" ng-class="{ reduced: reduced }"><div class="label"><i class="icon-coins"></i><span>{{ label }}</span></div><div class="slider"><div class="bar"></div><div class="diff"></div><div class="handle input"></div></div><div class="value salary">{{ valueDisplay }} {{ rateLabel }}</div></div>',linkFn=function(scope,elem){function init(){!scope.value.salary&&scope.editable&&(scope.value.salary=-1===scope.direction?min:max),scope.value.currency||(scope.value.currency="$"),pctValue=fromActualValue(scope.value.salary),scope.compare&&(!scope.compare.salary&&scope.editable&&scope.editable&&(scope.compare.salary=-1===scope.direction?max:min),scope.compare.currency||(scope.compare.currency=scope.value.currency),pctCompareValue=fromActualValue(scope.compare.salary)),scope.$watch(locationWatch,function(value){value&&(toggleByLocation(value),"number"==typeof pctCompareValue&&showComparison(),updateCopy())},!0),scope.$watch("value.contract_type",function(contractType){!scope.compare&&contractType&&(scope.rateLabel=contractType&&1===contractType.id?"/ hr":"/ yr",updateCopy())}),updateX(input,pctValue),pctCompareValue?showComparison():scope.editable&&addInteraction()}function fromActualValue(x){return x?1*((x-min)/(max-min))*100:null}function showComparison(){var exchange,compare,left,width,diff;scope.value.currency!==scope.compare.currency&&(exchange=scope.compare.salary*currencyConversion[scope.compare.currency][scope.value.currency],exchange=min>exchange?min:exchange>max?max:exchange,pctCompareValue=fromActualValue(exchange)),diff=d3.select(elem.find(".diff")[0]),d3.select(elem.find(".compare")[0]).remove(),compare=d3.select(elem.find(".slider")[0]).append("div").attr("class","compare").attr("style","left:"+Math.floor(pctCompareValue)+"%;");var reversed=pctValue>pctCompareValue;diff.classed("reverse",reversed),reversed?(left=Math.floor(pctCompareValue),width=Math.floor(pctValue)-Math.floor(pctCompareValue)):(left=Math.floor(pctValue),width=Math.floor(pctCompareValue)-Math.floor(pctValue)),diff.attr("style","display: block; left:"+left+"%; width:"+width+"%;")}function addInteraction(){slider.addClass("interactive"),bar.on("click",clickInteraction),input.on("click",clickInteraction),dragBehavior=d3.behavior.drag().on("drag",dragInteraction).on("dragend",clickInteraction),input.call(dragBehavior)}function updateX(range,value){range.classed("disabled",!value),"number"==typeof value&&value>=0&&100>=value&&(range.attr("style","left:"+Math.round(value)+"%;"),value=value/100*100,scope.value.salary=Math.round(min+(max-min)/100*value),updateCopy())}function updateCopy(){function form(val){return val?scope.value.currency+""+val+(scope.value.contract_type&&1!==scope.value.contract_type.id?"k":""):PLACEHOLDER}if(scope.compare)scope.valueDisplay=scope.compare.salary<scope.value.salary?form(scope.compare.salary)+" vs. "+form(scope.value.salary):form(scope.value.salary)+" vs. "+form(scope.compare.salary);else{if(!scope.value.salary)return void(scope.valueDisplay=PLACEHOLDER);scope.valueDisplay=scope.value.currency+scope.value.salary+(scope.value.contract_type&&1!==scope.value.contract_type.id?"k":"")}setTimeout(function(){scope.$apply()})}function dragInteraction(){var width=this.parentNode.getBoundingClientRect().width,value=d3.event.x/width*100;updateX(input,value)}function clickInteraction(){var width=this.parentNode.getBoundingClientRect().width,coords=d3.mouse(this.parentNode),value=coords[0]/width*100;updateX(input,value)}function toggleByLocation(location){"Europe"===location.formatted_address?scope.value.currency="":"undefined"!=typeof location.address_components&&location.address_components.forEach(function(com){com.types&&com.types.indexOf("country")>-1&&(scope.value.currency="United Kingdom"===com.long_name?"":euCountries.indexOf(com.long_name)>-1?"":"$")})}var dragBehavior,pctValue,pctCompareValue,euCountries=require("../../shared/eu-currency-countries.json"),currencyConversion=require("../../shared/currency-conversion.json"),bar=d3.select(elem.find(".bar")[0]),input=d3.select(elem.find(".input")[0]),slider=elem.find(".slider"),min=parseInt(scope.min,10)||SALARY_RANGE[0],max=parseInt(scope.max,10)||SALARY_RANGE[1],locationWatch="location";init()};return{template:template,restrict:"E",scope:{label:"=",location:"= ",value:"=",compare:"=",reduced:"=?",editable:"=?",direction:"=?"},link:linkFn}}var PLACEHOLDER="--",SALARY_RANGE=[25,250];require("../app").directive("salarySlider",SalarySlider)},{"../../shared/currency-conversion.json":212,"../../shared/eu-currency-countries.json":214,"../app":1}],121:[function(require,module,exports){require("../app").directive("skillSlider",function(){var tendToZero=1e-4,scale=d3.scale.log().domain([tendToZero,1,100]).range([0,1,100]);return{template:'<div class="skill-sliders"><div class="label"> {{ tag.name }}</div><div class="skill-slider"><span class="bar" style="width: {{ position }}%"></span><span class="slide-pad"></span></div></div>',restrict:"E",scope:{tag:"=ngModel",play:"="},link:function(scope,elm,attrs){function animate(scenes){function tween(start,end){return function(){(null===end||"undefined"==typeof end)&&(end=scope.tag.value);var x=d3.interpolate(start,end);return function(t){return scale(x(t))+"%"}}}var previous=scope.tag.value,delay=initialPause,barNode=d3.select(bar[0]);scenes.forEach(function(scene){barNode.transition().ease("linear").delay(delay).duration(animateDuration).styleTween("width",tween(previous,scene),"important"),previous=scene,delay+=animateDuration+delayDuration}),barNode.transition().ease("linear").delay(delay).duration(animateDuration).styleTween("width",tween(previous),"important"),delay+=animateDuration+delayDuration}var play,slider=elm.find(".skill-slider"),bar=slider.find(".bar"),initialPause=parseInt(attrs.initialPause)||0,delayDuration=parseInt(attrs.delayDuration)||600,animateDuration=parseInt(attrs.animateDuration)||400;if(scope.position=scale(scope.tag.value),scope.play){play=[];for(var i=0;i<scope.play.length;i++)for(var facet in scope.play[i])scope.play[i][facet].id===scope.tag.id&&play.push(scope.play[i][facet].value);animate(play)}scope.$watch("tag",function(newTag){return scope.prevent?void(scope.prevent=!1):void(scope.position=scale(newTag.value))},!0),slider.on("mousemove touchmove",function(e){if(scope.dragging){var touch;touch=e.originalEvent.changedTouches?e.originalEvent.changedTouches[0]:e.touches?e.touches[0]:e;var x=touch.pageX-slider.offset().left,width=slider.width();1>x&&(x=1);var percent=100*x/width;scope.position=percent,scope.prevent=!0,scope.tag.value=scale.invert(percent),scope.$apply()}}),slider.on("mousedown touchstart",function(e){scope.dragging=!0;var touch;touch=e.originalEvent.changedTouches?e.originalEvent.changedTouches[0]:e.touches?e.touches[0]:e;var x=touch.pageX-slider.offset().left,width=slider.width();1>x&&(x=1);var percent=100*x/width;scope.position=percent,scope.prevent=!0,scope.tag.value=scale.invert(percent),scope.$apply()}),slider.on("mouseup",function(){scope.dragging=!1}),slider.on("mouseout",function(e){bar[0]!==e.target&&slider[0]!==e.target&&(scope.dragging=!1)})}}})},{"../app":1}],122:[function(require,module,exports){function SkillTag(){var template='<span class="tag" ng-class="{ disabled: !skill || skill.match === false  || disable, small: small, optional: optional }"><i ng-if="id" ng-class="\'skill-icon-\' + id"></i>{{ skill.name }} <span ng-if="count">({{ count }})</span></span>';return{restrict:"EA",replace:!0,scope:{disable:"=",skill:"=",count:"=",small:"=",optional:"="},template:template,link:function(scope){scope.$watch("skill",function(){if(scope.id=null,scope.skill.name)for(var id in skillIcons)if(skillIcons.hasOwnProperty(id)){var aliases=[id].concat(skillIcons[id].aliases),normalised=scope.skill.name.toLowerCase().replace(/[-._\s+]/g,"");if(-1!==aliases.indexOf(normalised)){scope.id=id;break}}})}}}var app=require("../app"),skillIcons=require("../../shared/skill-icons.json");app.directive("skillTag",SkillTag)},{"../../shared/skill-icons.json":219,"../app":1}],123:[function(require,module,exports){function Slider($window){return{scope:{ngModel:"=",snap:"=?",min:"=?",max:"=?",size:"=?"},template:template,replace:!0,link:function(scope,el){function init(){bind(),scope.$on("$destroy",unbind),scope.$watch("ngModel",updatePercent),scope.$watch("min",updateRange),scope.$watch("max",updateRange),scope.$watch("snap",updateTicks)}function updateRange(){scope.range=scope.max-scope.min,updatePercent(),updateTicks()}function updatePercent(){scope.percent=100*(scope.ngModel-scope.min)/scope.range}function updateTicks(){var i,count=Math.floor(scope.range/scope.snap),ticks=[];for(i=0;count-1>i;i++)ticks.push(100*(i+1)/count);scope.ticks=ticks}function bind(){handle.on("mousedown",startDrag),handle.on("touchstart",startDrag),clickArea.on("mousedown",click),clickArea.on("touchstart",click),win.on("mouseup",mouseUp),win.on("touchend",mouseUp),win.on("mousemove",mouseMove),win.on("touchmove",mouseMove)}function unbind(){handle.off("mousedown",startDrag),handle.off("touchstart",startDrag),clickArea.off("mousedown",click),clickArea.off("touchstart",click),win.off("mouseup",mouseUp),win.off("touchend",mouseUp),win.off("mousemove",mouseMove),win.off("touchmove",mouseMove)}function startDrag(e){e=e.touches&&e.touches.length?e.touches[0]:e,body.addClass("dragging"),dragging=!0,lastPoint=mouse.x=e.pageX,startValue=scope.ngModel}function mouseUp(){dragging&&(body.removeClass("dragging"),dragging=!1,startValue=null,mouse.x=null,lastPoint=null)}function mouseMove(e){e=e.touches&&e.touches.length?e.touches[0]:e;var newVal,off=mouse.x-lastPoint;if(dragging&&Math.abs(off)>0){var diff=Math.abs(off*scope.range)/el.width();0>off&&(diff*=-1),newVal=startValue+diff,newVal<scope.min?newVal=scope.min:newVal>scope.max&&(newVal=scope.max),scope.ngModel=snapValue(newVal),scope.$apply()}mouse.x=e.pageX}function click(e){var x=e.pageX-el.offset().left;scope.ngModel=snapValue(scope.min+x*scope.range/el.width()),scope.$apply()}function snapValue(value){return scope.snap?Math.floor(value/scope.snap)*scope.snap:value}var body=angular.element(document.body),win=angular.element($window),dragging=!1,lastPoint=null,startValue=null,mouse={x:null},handle=el.find("[data-handle]"),clickArea=el.find("[data-click-area]");scope.startValue=null,scope.mouseUp=mouseUp,scope.mouseMove=mouseMove,scope.startDrag=startDrag,scope.max=scope.max||100,scope.min=scope.min||0,scope.ticks=[],init()}}}require("../app").directive("slider",Slider);var template='<div class="slider", ng-class="size"><ul class="ticks" ng-if="snap"><li ng-repeat="val in ticks" ng-style="{ left: val + \'%\' }"></li></ul><div class="bar"></div><span class="fill" ng-style="{ width: percent + \'%\' }"></span><span class="click-area" data-click-area></span><span class="handle" ng-style="{ left: percent + \'%\' }" data-handle></span></div>';Slider.$inject=["$window"]},{"../app":1}],124:[function(require,module,exports){function Spinner(){var template='<span class="spinner" ng-class="size">';return{restrict:"E",replace:!0,scope:{size:"="},template:template}}require("../app").directive("spinner",Spinner),Spinner.$inject=[]},{"../app":1}],125:[function(require,module,exports){var keycode=require("keycode"),app=require("../app");app.directive("switch",function(){return{restrict:"E",scope:{value:"=ngModel",small:"="},transclude:!1,replace:!0,template:'<span class="switch" ng-click="toggle()" ng-class="{ on: value, small: small }", tabindex="0"></span>',link:function(scope,elem){scope.value=!!scope.value,scope.toggle=function(){scope.value=!scope.value},elem.on("keydown",function(e){var key=keycode(e.keyCode);("space"===key||"enter"===key)&&scope.$apply(scope.toggle)})}}})},{"../app":1,keycode:255}],126:[function(require,module,exports){function TagManager(Skill,$q,$timeout){return{restrict:"E",scope:{tags:"=ngModel",size:"=ngSize",ngChange:"="},transclude:!1,replace:!0,template:template,link:function(scope,element,attrs){function updateInput(){"undefined"!=typeof scope.tags&&scope.tags.length>0?(element.find("input")[0].placeholder="",element.find(".input-wrap")[0].style.width="130px"):(element.find("input")[0].placeholder=placeholder,element.find(".input-wrap")[0].style.width="100%")}var placeholder=attrs.placeholder||"E.g. PHP, Ruby, ...";scope.tagField="",scope.highlighted=-1,scope.highlightedVal=null,scope.$watch("tagField",function(value){if(null!==value){var values=value.split(/[,;]/);if(values.length>1)if(0===values[0].length)scope.tagField=values.pop();else{for(;values.length>1;)scope.addTag(values.shift());scope.tagField=values.pop()}else""!==value?scope.getTags(value).then(function(skills){scope.tagoptions=skills}):scope.tagoptions=[]}scope.highlighted>scope.tagoptions.length-1&&(scope.highlighted=-1,scope.highlightedVal=null),updateInput()}),scope.$watch("tags",function(tags){"undefined"!=typeof tags&&updateInput()}),scope.$watch("highlighted",function(val){
if(-1!==val&&null!==val){var autocomplete=element.find(".autocomplete"),scrolled=autocomplete[0].scrollTop,highlighted=autocomplete.find("li").eq(val)[0],top=highlighted.offsetTop,height=autocomplete[0].offsetHeight;top-scrolled>=height?autocomplete[0].scrollTop=top:0>top-scrolled&&(autocomplete[0].scrollTop-=height-highlighted.offsetHeight)}}),scope.getTags=function(search){var deferred=$q.defer();return Skill.query({search:search},function(results){deferred.resolve(results)},function(httpResponse){deferred.reject(httpResponse)}),deferred.promise},scope.loadTag=function(tag){var deferred=$q.defer();return tag instanceof Skill?deferred.resolve(tag):Skill.query({search:tag},function(results){for(var i=0;i<results.length;i++)if(results[i].name.toLowerCase()===tag.toLowerCase())return void deferred.resolve(results[i]);var skill=new Skill;skill.name=tag,skill.$save(),deferred.resolve(skill)},function(httpResponse){deferred.reject(httpResponse)}),deferred.promise},scope.removeTag=function(tag){"undefined"==typeof scope.tags&&(scope.tags=[]),scope.tags=scope.tags.filter(function(currentTag){return currentTag.name.toLowerCase()!==tag.name.toLowerCase()}),updateInput()},scope.addTag=function(tag){scope.tags.length>=5?(scope.error="You can only add up to 5 skills",$timeout(function(){scope.error=null},2500)):scope.loadTag(tag).then(function(loadedTag){scope.removeTag(loadedTag),scope.clear(),scope.tags.push(loadedTag),updateInput()},function(){scope.clear(),scope.tags.push({name:tag}),updateInput()})},scope.clear=function(){scope.tagoptions=[],scope.tagField=""},scope.switchToTagList=function(){scope.$apply(function(){scope.tagField.trim().length>0&&scope.addTag(scope.tagField.trim())})},element.find(".tags-list").bind("click",function(){element.find("input")[0].focus()}),element.find("input").bind("keydown",function(e){var key=keycode(e.keyCode);"backspace"===key?(""===scope.tagField&&"undefined"!=typeof scope.tags&&scope.tags.length>0&&(scope.tagField=scope.tags.pop().name),scope.$apply()):"enter"===key||"right"===key||"space"===key?("undefined"==typeof attrs.dp&&e.preventDefault(),scope.highlightedVal?scope.addTag(scope.highlightedVal):scope.switchToTagList()):"down"===key?scope.highlighted<scope.tagoptions.length-1&&(scope.highlighted+=1,scope.highlightedVal=scope.tagoptions[scope.highlighted],scope.$apply()):"up"===key?scope.highlighted>-1&&(scope.highlighted-=1,scope.$apply(),scope.highlightedVal=scope.highlighted>-1?scope.tagoptions[scope.highlighted]:null):"tab"===key&&(scope.highlightedVal?scope.addTag(scope.highlightedVal):scope.switchToTagList()),updateInput()})}}}var template=require("../../views/components/tag-manager.jade"),keycode=require("keycode");require("../app").directive("tagManager",TagManager),TagManager.$inject=["Skill","$q","$timeout"]},{"../../views/components/tag-manager.jade":247,"../app":1,keycode:255}],127:[function(require,module,exports){function TeamMembersList(Modal){return{restrict:"EA",replace:!0,scope:{team:"="},template:template,link:function(scope){function showMember(member){Modal.open("team-member",{member:member})}scope.showMember=showMember}}}var app=require("../app"),template=require("../../views/components/team-members-list.jade");app.directive("teamMembersList",TeamMembersList)},{"../../views/components/team-members-list.jade":248,"../app":1}],128:[function(require,module,exports){var debug=require("../core/debug");angular.module("ui.slider",[]).value("uiSliderConfig",{}).directive("uiSlider",function(uiSliderConfig,$timeout){return uiSliderConfig=uiSliderConfig||{},{require:"ngModel",compile:function(){return function(scope,elm,attrs,ngModel){function parseNumber(n,decimals){return decimals?parseFloat(n):parseInt(n)}function destroy(){elm.slider("destroy")}var options=angular.extend(scope.$eval(attrs.uiSlider)||{},uiSliderConfig),prevRangeValues={min:null,max:null},init=function(){angular.isArray(ngModel.$viewValue)&&options.range!==!0&&(debug.warn("Change your range option of ui-slider. When assigning ngModel an array of values then the range option should be set to true."),options.range=!0),elm.slider(options),init=angular.noop},properties=["min","max","step"],useDecimals=angular.isUndefined(attrs.useDecimals)?!1:!0;angular.forEach(properties,function(property){attrs.$observe(property,function(newVal){newVal&&(init(),elm.slider("option",property,parseNumber(newVal,useDecimals)))})}),attrs.$observe("disabled",function(newVal){init(),elm.slider("option","disabled",!!newVal)}),scope.$watch(attrs.uiSlider,function(newVal){init(),elm.slider("option",newVal)},!0),$timeout(init,0,!0),elm.bind("slide",function(event,ui){ngModel.$setViewValue(ui.values||ui.value),scope.$apply()}),ngModel.$render=function(){init();var method=options.range===!0?"values":"value";isNaN(ngModel.$viewValue)&&(ngModel.$viewValue=0),options.range===!0&&(angular.isDefined(options.min)&&options.min>ngModel.$viewValue[0]&&(ngModel.$viewValue[0]=options.min),angular.isDefined(options.max)&&options.max<ngModel.$viewValue[1]&&(ngModel.$viewValue[1]=options.max),ngModel.$viewValue[0]>=ngModel.$viewValue[1]&&(prevRangeValues.min>=ngModel.$viewValue[1]&&(ngModel.$viewValue[0]=prevRangeValues.min),prevRangeValues.max<=ngModel.$viewValue[0]&&(ngModel.$viewValue[1]=prevRangeValues.max)),prevRangeValues.min=ngModel.$viewValue[0],prevRangeValues.max=ngModel.$viewValue[1]),elm.slider(method,ngModel.$viewValue)},scope.$watch(attrs.ngModel,function(){options.range===!0&&ngModel.$render()},!0),elm.bind("$destroy",destroy)}}}})},{"../core/debug":87}],129:[function(require,module,exports){var app=require("../app"),template=require("../../views/components/work-tags.jade");app.directive("workTags",function(){return{restrict:"AE",template:template,scope:{item:"=",type:"=",size:"="},link:function(scope){scope.shortDisplay=function(label){switch(label){case"Entry level":return"Junior";case"Mid level":return"Mid-weight";case"Senior level":return"Senior";case"Senior level":return"Senior";case"Permanent":return"Perm.";case"Contract":return"Contract";case"Contract or Permanent":return"Contract/Perm.";case"Onsite":return"Onsite";case"Remote":return"Remote";case"Onsite or Remote":return"Onsite/Remote";default:return label}}}}})},{"../../views/components/work-tags.jade":249,"../app":1}],130:[function(require,module,exports){require("./interpolate"),require("./markdown"),require("./mixed"),require("./moment"),require("./string"),require("./number"),require("./website")},{"./interpolate":131,"./markdown":132,"./mixed":133,"./moment":134,"./number":135,"./string":136,"./website":137}],131:[function(require,module,exports){require("../app").filter("interpolate",function(version){return function(text){return String(text).replace(/\%VERSION\%/gm,version)}})},{"../app":1}],132:[function(require,module,exports){var marked=require("marked"),app=require("../app");app.filter("markdown",function(){return function(mdown){return mdown?marked(mdown):null}})},{"../app":1,marked:258}],133:[function(require,module,exports){require("../app").filter("emailname",function(){return function(email){return email?email.split("@")[0]:null}})},{"../app":1}],134:[function(require,module,exports){var moment=require("moment"),app=require("../app"),NULL_DATE_STR="1970-01-01T00:00:00.000Z";app.filter("moment",function(){return function(date){return moment(date).fromNow()}}).filter("remain",function(){return function(date){return moment(date).fromNow(!0)}}).filter("momentCal",function(){return function(date){return moment(date).calendar()}}).filter("monthAndYear",function(){return function(date){return date===NULL_DATE_STR?"Now":moment(date).format("MMMM YYYY")}}).filter("month",function(){return function(date){return moment(date,"yyyy-MM").format("MMMM YYYY")}})},{"../app":1,moment:259}],135:[function(require,module,exports){require("../app").filter("currency",function(){return function(value){return"number"!=typeof value?value:value.toLocaleString()}})},{"../app":1}],136:[function(require,module,exports){require("../app").filter("upperfirst",function(){return function(str){return str?str.substr(0,1).toUpperCase()+str.substr(1):null}}).filter("lower",function(){return function(str){return str?str.toLowerCase():""}}).filter("upper",function(){return function(str){return str?str.toUpperCase():""}}).filter("humanize",function(){return function(str){return str.replace(/[_-]/g," ").split(" ").map(function(str){return str.substr(0,1).toUpperCase()+str.substr(1)}).join(" ")}})},{"../app":1}],137:[function(require,module,exports){require("../app").filter("website",function(){return function(url){return url?-1!==url.indexOf("http://")||-1!==url.indexOf("https://")?url:"http://"+url:url}})},{"../app":1}],138:[function(require,module,exports){require("./app"),require("./filters/index"),require("./services/index"),require("./directives/index"),require("./routes/index"),require("./polyfill/pointer-events").init()},{"./app":1,"./directives/index":104,"./filters/index":130,"./polyfill/pointer-events":140,"./routes/index":156,"./services/index":169}],139:[function(require,module,exports){function tweetUriBuilder(o){return["https://twitter.com/intent/tweet?tw_p=tweetbutton&hashtags=workshape","&url=",encodeURI(o.url),"&text=",o.text].join("")}var debug=require("../core/debug"),FB=window.FB;exports.tweet=function(){var url=tweetUriBuilder({url:"http://workshape.io",text:"Have you seen Workshape.io?"});window.open(url,"Tweet","height=500,width=700"),window.addEventListener("message",function(e){if(e&&e.data){var data;try{data=JSON.parse(e.data)}catch(e){debug.error("Invalid JSON response data performing Twitter share",e)}data&&data.params&&data.params.indexOf("tweet")>-1&&debug.error("Malformed response performing Twitter share",e)}},!1)},exports.facebook=function(){FB.ui({method:"share",href:"http://workshape.io"},function(res){res&&res.post_id||debug.error("An error occured performing Facebook share.",res)})}},{"../core/debug":87}],140:[function(require,module,exports){var browser=require("../utils/browser"),EVENTS=["click","dblclick","mousedown","mouseup"];exports.init=function(){(browser.isIeEqualOrBelow(10)||!browser.isOperaMini())&&$(document).on(EVENTS.join(" "),"*",function(e){var el=$(this);if("none"===el.css("pointer-events")){var origDisplayAttribute=$(this).css("display");el.css("display","none");var underneathElem=document.elementFromPoint(e.clientX,e.clientY);return e.target=underneathElem,$(underneathElem).trigger(e),origDisplayAttribute?el.css("display",origDisplayAttribute):el.css("display",""),!1}return!0})}},{"../utils/browser":199}],141:[function(require,module,exports){module.exports=function(Session,Organisation,Future,$q,MessageManager){function init(){return loadSession().then(loadConversations).then(function(){return data})}function loadSession(){return Session.data().then(function(session){data.session=session})}function loadConversations(){var deferred=$q.defer();return MessageManager.loadMessages(function(conversations){return data.conversations=conversations.filter(function(conversation){return conversation.engaged}),deferred.resolve()}),deferred.promise}var data={};return init()},module.exports.$inject=["Session","Organisation","Future","$q","MessageManager"]},{}],142:[function(require,module,exports){module.exports={session:require("./session"),position:require("./position"),inbox:require("./inbox"),organisation:{dashboard:require("./organisation/dashboard"),credits:require("./organisation/credits"),accounts:require("./organisation/accounts"),member:require("./organisation/member"),profile:require("./organisation/profile"),subscription:require("./organisation/subscription")},person:{dashboard:require("./person/dashboard"),profile:require("./person/profile"),future:require("./person/future")}}},{"./inbox":141,"./organisation/accounts":143,"./organisation/credits":144,"./organisation/dashboard":145,"./organisation/member":146,"./organisation/profile":147,"./organisation/subscription":148,"./person/dashboard":149,"./person/future":150,"./person/profile":151,"./position":152,"./session":153}],143:[function(require,module,exports){module.exports=function($q,OrgAccounts,Session){var d=$q.defer();return Session.data().then(function(session){OrgAccounts.query({orgId:session.organisation.id},function(accounts){d.resolve({accounts:accounts,session:session})})}),d.promise},module.exports.$inject=["$q","OrgAccounts","Session"]},{}],144:[function(require,module,exports){module.exports=function($q,Credits,Session){function loadSession(){return Session.data().then(function(session){data.orgId=session.organisation.id})}function loadCreditBalance(){var deferred=$q.defer();return Credits.balance({orgId:data.orgId},function(response){data.balance=response.balance,deferred.resolve()}),deferred.promise}var data={};return loadSession().then(loadCreditBalance).then(function(){return data})},module.exports.$inject=["$q","Credits","Session"]},{}],145:[function(require,module,exports){var positionUtil=require("../../utils/position");module.exports=function($q,Session,Position,MessageManager,OrgAccounts,$route,$location,$rootScope){function init(){return loadSession().then(loadOrgAccounts).then(loadUnreadMessages).then(updatePositions).then(function(){return setTimeout(scrollToSelection),data})}function scrollToSelection(){var y,selected=document.querySelector(".listing.selected"),wrap=document.querySelector(".listings");selected&&wrap&&(y=selected.offsetTop-wrap.offsetTop,y>wrap.offsetHeight&&(wrap.scrollTop=y-wrap.offsetHeight/2+selected.offsetHeight/2))}function loadSession(){return Session.data().then(function(session){data.orgId=session.organisation.id,data.organisation=session.organisation,data.session=session})}function loadOrgAccounts(){var defer=$q.defer();return OrgAccounts.query({orgId:data.organisation.id}).$promise.then(function(accounts){data.accounts=accounts,defer.resolve()}),defer.promise}function loadUnreadMessages(){var defer=$q.defer();return MessageManager.loadUnread().then(function(unread){data.unread=unread.conversations,defer.resolve()}),defer.promise}function updatePositions(){var deferred=$q.defer();return Position.live({organisation_id:data.orgId},function(positions){data.positions=[],positions.forEach(function(position){decoratePosition(position),position.deleted||data.positions.push(position)}),data.positions=data.positions.sort(function(a,b){return a.newMatches||b.newMatches?a.newMatches>b.newMatches?-1:1:a.created>b.created?-1:1}),$route.current.params.positionId?(data.viewMode="single",data.position=getPosition(),setDraftMode(!!data.position.draft)):(data.viewMode="list",setDraftMode(-1!==$location.$$path.split("/").indexOf("drafts")),data.position=getPosition()),"undefined"!=typeof data.accounts&&data.accounts.forEach(function(account){data.position&&data.position.account_id===account.id&&(data.position.account=account)}),deferred.resolve()}),deferred.promise}function getPosition(){var i,positionId=$route.current.params.positionId||null;if(!positionId)return data.positions[0]||null;for(i=0;i<data.positions.length;i+=1)if(data.positions[i].id===positionId)return data.positions[i];return null}function setDraftMode(state){data.draftMode=state,$rootScope.section=state?"drafts":"positions",data.positions&&(data.positions=data.positions.filter(function(position){var draftState=!!position.draft;return draftState===state}))}function decoratePosition(position){position.remaining=positionUtil.getRemaining(position),position.unread=data.unread?data.unread.filter(function(row){return position.id===row.position_id}).length:0,!position.noMatches}var data={updatePositions:updatePositions};return-1!==$location.path().indexOf("draft")?setDraftMode(!0):-1!==$location.path().indexOf("live")&&setDraftMode(!1),init()},module.exports.$inject=["$q","Session","Position","MessageManager","OrgAccounts","$route","$location","$rootScope"]},{"../../utils/position":207}],146:[function(require,module,exports){module.exports=function(Future,$route,$q){var deferred=$q.defer();return Future.getPersonFuture({id:$route.current.params.personId},function(future){deferred.resolve(future)},function(err){deferred.reject(err)}),deferred.promise},module.exports.$inject=["Future","$route","$q"]},{}],147:[function(require,module,exports){module.exports=function(Session,Organisation,Future,$q,$route){function init(){return loadSession().then(loadOrganisation).then(loadTeam).then(loadFuture).then(function(){return data})}function loadSession(){return Session.data().then(function(session){data.session=session})}function loadOrganisation(){var deferred=$q.defer();return Organisation.getBySlug({slug:$route.current.params.slug},function(organisation){data.organisation=organisation,deferred.resolve()},function(){data.organisation=null,deferred.resolve()}),deferred.promise}function loadFuture(){var deferred=$q.defer();return"person"===data.session.type?Future.getPersonFuture({id:data.session.person.id},function(future){data.future=future,deferred.resolve()}):(data.future=null,deferred.resolve()),deferred.promise}function loadTeam(){var deferred=$q.defer();return data.organisation?(Organisation.team({id:data.organisation.id},function(team){data.team=team,deferred.resolve()},function(){data.team=null,deferred.resolve()}),deferred.promise):deferred.resolve()}var data={};return init()},module.exports.$inject=["Session","Organisation","Future","$q","$route"]},{}],148:[function(require,module,exports){module.exports=function($q,$location,Session,Organisation,Subscription,SubscriptionPlan,SubscriptionCoupon,Pricing){function loadSession(){return Session.data().then(function(session){data.session=session,data.orgId=session.organisation.id})}function loadUsage(){var deferred=$q.defer();return Organisation.getUsage({id:data.orgId},function(response){data.usage=response,deferred.resolve()}),deferred.promise}function loadSubscription(){var deferred=$q.defer();return Subscription.getForOrganisation({id:data.orgId},function(response){data.subscription=response,deferred.resolve()}),deferred.promise}function loadPlans(){var deferred=$q.defer();return SubscriptionPlan.query(function(response){data.plans=response.filter(function(row){return row.live}),deferred.resolve()}),deferred.promise}function loadCoupon(){var deferred=$q.defer(),keyCode=null,params=$location.search();return data.session.organisation.special_offer_code?keyCode=data.session.organisation.special_offer_code:params.code&&(keyCode=params.code),keyCode?SubscriptionCoupon.getLiveCoupons({key:keyCode},function(response){data.coupon=1===response.length?response.pop():null,deferred.resolve()}):deferred.resolve(),deferred.promise}function loadCurrency(){var deferred=$q.defer();return Pricing.currency(function(response){data.currency=response.currency,deferred.resolve()}),deferred.promise}var data={};return loadSession().then(loadUsage).then(loadSubscription).then(loadPlans).then(loadCoupon).then(loadCurrency).then(function(){return data})},module.exports.$inject=["$q","$location","Session","Organisation","Subscription","SubscriptionPlan","SubscriptionCoupon","Pricing"]},{}],149:[function(require,module,exports){module.exports=function($q,Session,Future,Matcher,$location,MessageManager,$rootScope){function loadSession(){return Session.data().then(function(session){return session.step<4?$location.path("/person/incomplete"):(data.personId=session.person.id,void(data.session=session))})}function decorateMatch(match){var session=$rootScope.session;match.conversation=MessageManager.getMatchConversation(match.position,session.person.id)}function loadMessages(){var deferred=$q.defer();return MessageManager.loadMessages("person",data.personId).then(function(){data.conversations=MessageManager.getConversations(),deferred.resolve()}),deferred.promise}function loadFuture(){var deferred=$q.defer();return Future.getPersonFuture({id:data.personId},function(future){data.future=future,deferred.resolve(future)}),deferred.promise}function loadMatches(){return Matcher.getMatches("position",data.future).then(function(response){data.matches=[],response.matches.forEach(function(match){decorateMatch(match),"undefined"!=typeof match.interested&&null!==match.interested&&!match.interested||match.position.deleted||data.matches.push(match)}),data.closest=response.closest})}var data={future:null};return loadSession().then(loadFuture).then(loadMessages).then(loadMatches).then(function(){return data})},module.exports.$inject=["$q","Session","Future","Matcher","$location","MessageManager","$rootScope"]},{}],150:[function(require,module,exports){module.exports=function(Future,Session,$q){function init(){return loadSession().then(loadFuture).then(function(){return data})}function loadSession(){return Session.data().then(function(session){data.session=session})}function loadFuture(){var deferred=$q.defer();return Future.getPersonFuture({id:data.session.person.id},function(future){for(var x in future.time_load)future.time_load[x].value=parseFloat(future.time_load[x].value,10).toFixed(1);data.future=future,deferred.resolve(future)}),deferred.promise}var data={};return init()},module.exports.$inject=["Future","Session","$q"]},{}],151:[function(require,module,exports){module.exports=function(History,Future,Session,Person,$q,$route){function init(){return loadSession().then(loadPerson).then(loadFuture).then(loadHistory).then(function(){return data})}function loadSession(){return Session.data().then(function(session){data.session=session})}function loadPerson(){var func,args,deferred=$q.defer();return $route.current.params.slug?(func=Person.slug,args={slug:$route.current.params.slug}):(func=Person.get,args={id:$route.current.params.id}),func(args,function(person){data.person=person,deferred.resolve()},function(){data.person=null,deferred.resolve()}),deferred.promise}function loadFuture(){var deferred=$q.defer();return data.person?Future.getPersonFuture({id:data.person.id},function(future){for(var x in future.time_load)future.time_load[x].value=parseFloat(future.time_load[x].value,10).toFixed(1);data.future=future,deferred.resolve(future)}):deferred.resolve(),deferred.promise}function loadHistory(){var deferred=$q.defer();return data.person?History.list({person_id:data.person.id},function(history){data.history=history,deferred.resolve(history)},deferred.reject):deferred.resolve(),deferred.promise}var data={};return init()},module.exports.$inject=["History","Future","Session","Person","$q","$route"]},{}],152:[function(require,module,exports){module.exports=function(Position,$route,$q){var deferred=$q.defer();return $route.current.params.positionId?Position.get({id:$route.current.params.positionId},function(position){deferred.resolve(position)},function(err){deferred.reject(err)}):deferred.resolve(),deferred.promise},module.exports.$inject=["Position","$route","$q"]},{}],153:[function(require,module,exports){module.exports=function(Session){return Session.data()},module.exports.$inject=["Session"]},{}],154:[function(require,module,exports){function routes($routeProvider){$routeProvider.when("/admin/accounts-pending",{templateUrl:"views/admin/interest",controller:controllers.admin.interest,controllerAs:"interest",access:{loggedIn:!0,type:"organisation",admin:!0}}).when("/admin/tools",{templateUrl:"views/admin/tools",controller:controllers.admin.tools,controllerAs:"tools",access:{loggedIn:!0,type:"organisation",admin:!0}}).when("/admin/email-facility",{templateUrl:"views/admin/emailer",controller:controllers.admin.emailer,controllerAs:"emailer",access:{loggedIn:!0,type:"organisation",admin:!0}}).when("/admin/skills",{templateUrl:"views/admin/skills",controller:controllers.admin.skills,controllerAs:"skills",access:{loggedIn:!0,type:"organisation",admin:!0}}).when("/admin/email-facility/:path",{templateUrl:"views/admin/emailer",controller:controllers.admin.emailer,controllerAs:"emailer",access:{loggedIn:!0,type:"organisation",admin:!0}}).when("/admin/subscriptions",{templateUrl:"views/admin/subscriptions",controller:controllers.admin.subscriptions,controllerAs:"subscriptions",access:{loggedIn:!0,type:"organisation",admin:!0}}).when("/admin/subscriptions/:path",{templateUrl:"views/admin/subscriptions",controller:controllers.admin.subscriptions,controllerAs:"subscriptions",access:{loggedIn:!0,type:"organisation",admin:!0}})}var app=require("../app"),controllers=require("../controllers/index");app.config(routes),routes.$inject=["$routeProvider"]},{"../app":1,"../controllers/index":13}],155:[function(require,module,exports){function routes($routeProvider){$routeProvider.when("/",{templateUrl:"views/landing",controller:controllers.landing,resolve:controllers.landing.resolve,controllerAs:"landing",access:{loggedIn:!1}}).when("/inbox",{templateUrl:"views/inbox",controller:controllers.inbox,resolve:controllers.inbox.resolve,controllerAs:"inbox",access:{loggedIn:!0}}).when("/inbox/:type/:itemId",{templateUrl:"views/inbox",controller:controllers.inbox,resolve:controllers.inbox.resolve,controllerAs:"inbox",access:{loggedIn:!0}}).when("/how-they-want-to-spend-their-time/:position",{templateUrl:"views/infographic",controller:controllers.infographic,controllerAs:"infographic",resolve:controllers.infographic.resolve}).when("/infographic/:position",{templateUrl:"views/infographic",controller:controllers.infographic,controllerAs:"infographic",resolve:controllers.infographic.resolve}).when("/error",{templateUrl:"views/error",controller:controllers.error,controllerAs:"error"}).when("/p/:organisationSlug/:positionId",{templateUrl:"views/position",controller:controllers.position}).when("/signin/:token?",{templateUrl:"views/signin",controller:controllers.signin,controllerAs:"signin",access:{loggedIn:!1}}).when("/verify",{templateUrl:"views/verify",controller:controllers.verify,controllerAs:"verify"}).when("/surveys",{templateUrl:"views/surveys",controller:controllers.surveys,controllerAs:"surveys"}).when("/companies",{templateUrl:"views/organisations",controller:controllers.organisations,controllerAs:"organisations"}).when("/organisations",{templateUrl:"views/organisations",controller:controllers.organisations,controllerAs:"organisations"}).when("/organisation/:slug/positions",{templateUrl:"views/positions",controller:controllers.positions,controllerAs:"positions"}).when("/suggest",{templateUrl:"views/suggest",controller:controllers.suggest,controllerAs:"suggest"}).when("/forgot-password",{templateUrl:"views/password/forgot",controller:controllers.password.forgot,controllerAs:"forgot",access:{loggedIn:!1}}).when("/reset-password",{templateUrl:"views/password/reset",controller:controllers.password.reset,controllerAs:"reset",access:{loggedIn:!1}}).when("/about",{templateUrl:"views/about",controller:controllers.common["static"]}).when("/faqs",{templateUrl:"views/faq",controller:controllers.common["static"]}).when("/styleguide",{templateUrl:"views/styleguide",controller:controllers.common["static"]}).when("/terms",{templateUrl:"views/terms",controller:controllers.common["static"]}).when("/what-next",{templateUrl:"views/whatnext",controller:controllers.common["static"]}).when("/team",{templateUrl:"views/team",controller:controllers.common["static"]}).when("/pricing",{templateUrl:"views/pricing",controller:controllers.pricing,resolve:controllers.pricing.resolve,controllerAs:"pricing"}).when("/press",{templateUrl:"views/press",controller:controllers.common["static"]}).when("/account/settings",{templateUrl:"views/account/settings",controller:controllers.account.settings,resolve:controllers.account.settings.resolve,controllerAs:"account",access:{loggedIn:!0}}).when("/profile",{templateUrl:"views/loading",controller:controllers.profile,resolve:controllers.profile.resolve,access:{loggedIn:!0}}).when("/email-unsubscribe",{templateUrl:"views/email-unsubscribe",controller:controllers.common["static"]}).when("/nodeconf",{templateUrl:"views/nodeconf",controller:controllers.common["static"]}).when("/nodeconf-raffle",{templateUrl:"views/nodeconf-raffle",controller:controllers.common["static"]})}var app=require("../app"),controllers=require("../controllers/index");app.config(routes),routes.$inject=["$routeProvider"]},{"../app":1,"../controllers/index":13}],156:[function(require,module,exports){require("./generic"),require("./person"),require("./organisation"),require("./admin"),require("./member")},{"./admin":154,"./generic":155,"./member":157,"./organisation":158,"./person":159}],157:[function(require,module,exports){function routes($routeProvider){$routeProvider.when("/member/home",{templateUrl:"views/member/home",controller:controllers.member.home,resolve:controllers.member.home.resolve,controllerAs:"dashboard",access:{loggedIn:!0,type:"member"}}).when("/member/shape/:id",{templateUrl:"views/member/shape",controller:controllers.person.shape,resolve:controllers.person.shape.resolve,controllerAs:"shape",access:{loggedIn:!0,type:"member"}}).when("/member/preview",{templateUrl:"views/member/preview",controller:controllers.person.preview,resolve:controllers.person.preview.resolve,controllerAs:"preview",access:{loggedIn:!0,type:"member"}}).when("/member/preview/:id",{templateUrl:"views/member/preview",controller:controllers.person.preview,resolve:controllers.person.preview.resolveWithId,controllerAs:"preview",access:{loggedIn:!0,type:"member"}})}var app=require("../app"),controllers=require("../controllers/index");app.config(routes),routes.$inject=["$routeProvider"]},{"../app":1,"../controllers/index":13}],158:[function(require,module,exports){function routes($routeProvider){$routeProvider.when("/organisation/home",{templateUrl:"views/organisation/home",controller:controllers.organisation.home,controllerAs:"dashboard",access:{loggedIn:!0,type:"organisation"}}).when("/organisation/apply",{templateUrl:"views/organisation/apply",controller:controllers.organisation.apply,controllerAs:"signup",access:{loggedIn:!1}}).when("/organisation/signup/:code",{templateUrl:"views/organisation/signup",controller:controllers.organisation.signup,controllerAs:"signup",access:{loggedIn:!1}}).when("/organisation/info",{templateUrl:"views/organisation/info",controller:controllers.organisation.info,resolve:controllers.organisation.info.resolve,controllerAs:"info",access:{loggedIn:!0,type:"organisation"}}).when("/organisation/subscription",{templateUrl:"views/organisation/subscription",controller:controllers.organisation.subscription,resolve:controllers.organisation.subscription.resolve,controllerAs:"subscription",access:{loggedIn:!0,type:"organisation"}}).when("/organisation/accounts",{templateUrl:"views/organisation/accounts",controller:controllers.organisation.accounts,resolve:controllers.organisation.accounts.resolve,access:{loggedIn:!0,type:"organisation"}}).when("/organisation/credits",{templateUrl:"views/organisation/credits",controller:controllers.organisation.credits,resolve:controllers.organisation.credits.resolve,access:{loggedIn:!0,type:"organisation"}}).when("/organisation/developer-stats",{templateUrl:"views/organisation/dashboard/position-stats",controller:controllers.organisation.positions.stats,resolve:controllers.organisation.positions.stats.resolve,controllerAs:"view",access:{loggedIn:!0,type:"organisation",admin:!0}}).when("/organisation/positions/create",{templateUrl:"views/organisation/positions/create",controller:controllers.organisation.positions.create,resolve:controllers.organisation.positions.create.resolve,access:{loggedIn:!0,type:"organisation"}}).when("/organisation/positions/:positionId/edit",{templateUrl:"views/organisation/positions/edit",controller:controllers.organisation.positions.edit,resolve:controllers.organisation.positions.edit.resolve,controllerAs:"dashboard",access:{loggedIn:!0,type:"organisation"}}).when("/organisation/positions/:positionId/actions",{templateUrl:"views/organisation/positions/actions",controller:controllers.organisation.positions.actions,resolve:controllers.organisation.positions.actions.resolve,controllerAs:"view",access:{loggedIn:!0,type:"organisation"}}).when("/organisation/position/:positionId/stats",{
templateUrl:"views/organisation/dashboard/position-stats",controller:controllers.organisation.positions.stats,resolve:controllers.organisation.positions.stats.resolve,controllerAs:"view",access:{loggedIn:!0,type:"organisation"}}).when("/organisation/positions/live",{templateUrl:"views/organisation/dashboard/positions",controller:controllers.organisation.dashboard.positions,resolve:controllers.organisation.dashboard.positions.resolve,controllerAs:"dashboard",access:{loggedIn:!0,type:"organisation"}}).when("/organisation/positions/drafts",{templateUrl:"views/organisation/dashboard/positions",controller:controllers.organisation.dashboard.positions,resolve:controllers.organisation.dashboard.positions.resolve,controllerAs:"dashboard",access:{loggedIn:!0,type:"organisation"},data:{drafts:"true"}}).when("/organisation/positions/:positionId",{templateUrl:"views/organisation/dashboard/positions",controller:controllers.organisation.dashboard.positions,resolve:controllers.organisation.dashboard.positions.resolve,controllerAs:"dashboard",access:{loggedIn:!0,type:"organisation"}}).when("/organisation/positions/:positionId/matches/:futureId",{templateUrl:"views/organisation/dashboard/match",controller:controllers.organisation.dashboard.match,resolve:controllers.organisation.dashboard.match.resolve,controllerAs:"dashboard",access:{loggedIn:!0,type:"organisation"}}).when("/organisation/positions/:positionId/matching",{templateUrl:"views/organisation/matching",controller:controllers.organisation.matching,resolve:controllers.organisation.matching.resolve,controllerAs:"matching",access:{loggedIn:!0,type:"organisation"}}).when("/organisation/members/:personId",{templateUrl:"views/organisation/member",controller:controllers.organisation.member,resolve:controllers.organisation.member.resolve,controllerAs:"member",access:{loggedIn:!0,type:"organisation"}}).when("/organisation/:slug/profile",{templateUrl:"views/organisation/profile",controller:controllers.organisation.profile,resolve:controllers.organisation.profile.resolve,controllerAs:"profile"}).when("/organisation/analytics",{templateUrl:"views/organisation/analytics/overview",controller:controllers.organisation.analytics.overview,resolve:controllers.organisation.analytics.overview.resolve,controllerAs:"analytics",access:{loggedIn:!0,type:"organisation",admin:!0}}).when("/organisation/analytics/locations",{templateUrl:"views/organisation/analytics/locations",controller:controllers.organisation.analytics.locations,resolve:controllers.organisation.analytics.locations.resolve,controllerAs:"analytics",access:{loggedIn:!0,type:"organisation",admin:!0}}).when("/organisation/analytics/credits",{templateUrl:"views/organisation/analytics/credits",controller:controllers.organisation.analytics.credits,resolve:controllers.organisation.analytics.credits.resolve,controllerAs:"analytics",access:{loggedIn:!0,type:"organisation",admin:!0}}).when("/organisation/analytics/states/:endpoint",{templateUrl:"views/organisation/analytics/states",controller:controllers.organisation.analytics.states,resolve:controllers.organisation.analytics.states.resolve,controllerAs:"analytics",access:{loggedIn:!0,type:"organisation",admin:!0}}).when("/organisation/analytics/expiries",{templateUrl:"views/organisation/analytics/expiries",controller:controllers.organisation.analytics.expiries,resolve:controllers.organisation.analytics.expiries.resolve,controllerAs:"analytics",access:{loggedIn:!0,type:"organisation",admin:!0}}).when("/organisation/analytics/organisations",{templateUrl:"views/organisation/analytics/organisations",controller:controllers.organisation.analytics.organisations,resolve:controllers.organisation.analytics.organisations.resolve,controllerAs:"analytics",access:{loggedIn:!0,type:"organisation",admin:!0}}).when("/organisation/analytics/live-positions",{templateUrl:"views/organisation/analytics/live-positions",controller:controllers.organisation.analytics.positions,resolve:controllers.organisation.analytics.positions.resolve,controllerAs:"analytics",access:{loggedIn:!0,type:"organisation",admin:!0}}).when("/organisation/analytics/shape-groups",{templateUrl:"views/organisation/analytics/shapeGroups",controller:controllers.organisation.analytics.shapeGroups,resolve:controllers.organisation.analytics.shapeGroups.resolve,controllerAs:"analytics",access:{loggedIn:!0,type:"organisation",admin:!0}}).when("/organisation/analytics/title-groups",{templateUrl:"views/organisation/analytics/titleGroups",controller:controllers.organisation.analytics.titleGroups,resolve:controllers.organisation.analytics.titleGroups.resolve,controllerAs:"analytics",access:{loggedIn:!0,type:"organisation",admin:!0}})}var app=require("../app"),controllers=require("../controllers/index");app.config(routes),routes.$inject=["$routeProvider"]},{"../app":1,"../controllers/index":13}],159:[function(require,module,exports){function routes($routeProvider){$routeProvider.when("/person/interest",{templateUrl:"views/person/interest",controller:controllers.person.interest,controllerAs:"signup",access:{loggedIn:!1}}).when("/person/apply",{templateUrl:"views/person/apply",controller:controllers.person.apply,controllerAs:"signup",access:{loggedIn:!1}}).when("/person/signup/:code",{templateUrl:"views/person/signup",controller:controllers.person.signup,controllerAs:"signup",access:{loggedIn:!1}}).when("/person/shape/:id",{templateUrl:"views/person/shape",controller:controllers.person.shape,resolve:controllers.person.shape.resolve,controllerAs:"shape",access:{loggedIn:!0,type:"person"}}).when("/person/location",{templateUrl:"views/person/location",controller:controllers.person.wizard,resolve:controllers.person.wizard.resolve,controllerAs:"location",access:{loggedIn:!0,type:"person"}}).when("/person/onboarding",{templateUrl:"views/person/onboarding",controller:controllers.person.wizard,resolve:controllers.person.wizard.resolve,controllerAs:"onboarding",access:{loggedIn:!0,type:"person"}}).when("/person/home",{templateUrl:"views/person/home",controller:controllers.person.home,resolve:controllers.person.home.resolve,controllerAs:"dashboard",access:{loggedIn:!0,type:"person"}}).when("/person/incomplete",{templateUrl:"views/person/incomplete",access:{loggedIn:!0,type:"person"}}).when("/person/:slug/profile",{templateUrl:"views/person/profile",controller:controllers.person.profile,resolve:controllers.person.profile.resolve,controllerAs:"profile"}).when("/person/stats",{templateUrl:"views/person/future-stats",controller:controllers.person.stats,resolve:controllers.person.stats.resolve,controllerAs:"view",access:{loggedIn:!0,type:"person"}}).when("/person/matches",{templateUrl:"views/person/dashboard/matches",controller:controllers.person.dashboard.matches,resolve:controllers.person.dashboard.matches.resolve,controllerAs:"dashboard",access:{loggedIn:!0,type:"person"}}).when("/person/matches/:positionId",{templateUrl:"views/person/dashboard/match",controller:controllers.person.dashboard.match,resolve:controllers.person.dashboard.match.resolve,controllerAs:"dashboard",access:{loggedIn:!0,type:"person"}}).when("/person/matching",{templateUrl:"views/person/matching",controller:controllers.person.matching,resolve:controllers.person.matching.resolve,controllerAs:"matching",access:{loggedIn:!0,type:"person"}}).when("/person/preview/:id",{templateUrl:"views/person/preview",controller:controllers.person.preview,resolve:controllers.person.preview.resolveWithId,controllerAs:"preview",access:{loggedIn:!0,type:"person"}}).when("/person/preview",{templateUrl:"views/person/preview",controller:controllers.person.preview,resolve:controllers.person.preview.resolve,controllerAs:"preview",access:{loggedIn:!0,type:"person"}}).when("/person/history/add",{templateUrl:"views/person/history/add",controller:controllers.person.history.add,resolve:controllers.person.history.add.resolve,controllerAs:"view",access:{loggedIn:!0,type:"person"}}).when("/person/history/edit/:id",{templateUrl:"views/person/history/edit",controller:controllers.person.history.edit,resolve:controllers.person.history.edit.resolve,controllerAs:"view",access:{loggedIn:!0,type:"person"}})}var app=require("../app"),controllers=require("../controllers/index");app.config(routes),routes.$inject=["$routeProvider"]},{"../app":1,"../controllers/index":13}],160:[function(require,module,exports){function Account($resource){return $resource("/api/1/accounts/:id",{id:"@id"})}function AccountLookup($resource){return $resource("/api/1/email-used/:email",{email:"@email"})}function OrgAccounts($resource,$http,CacheFactory){function clearAccountCache(){accountCache.keys().forEach(function(key){accountCache.remove(key)})}var accountCache=new CacheFactory("accountCache",{maxAge:3e4,deleteOnExpire:"aggressive",recycleFreq:1e3,storageMode:"sessionStorage",onExpire:function(key){$http.get(key).success(function(data){accountCache.put(key,JSON.stringify(data))})}}),interceptor={response:function(response){return clearAccountCache(),response}};return $resource("/api/1/organisations/:orgId/accounts/:accountId",{orgId:"@orgId",accountId:"@accountId"},{query:{method:"GET",isArray:!0,cache:accountCache},save:{method:"POST",isArray:!1,interceptor:interceptor},"delete":{method:"DELETE",isArray:!1,interceptor:interceptor}})}var app=require("../app");app.factory("Account",Account).factory("AccountLookup",AccountLookup).factory("OrgAccounts",OrgAccounts),Account.$inject=["$resource"],AccountLookup.$inject=["$resource"],OrgAccounts.$inject=["$resource","$http","CacheFactory"]},{"../app":1}],161:[function(require,module,exports){require("../app").factory("AdministratorTools",function($resource){return $resource("/api/1/admin",null,{accountLookup:{url:"/api/1/admin/accounts/lookup/:email",method:"GET",isArray:!0},orgLookup:{url:"/api/1/admin/organisations/lookup/:name",method:"GET",isArray:!0},addCredits:{url:"/api/1/admin/credits/:id/add",method:"POST"},makeUnmatchable:{url:"/api/1/admin/accounts/:id/unmatchable",method:"POST"},changeOrgAdmin:{url:"/api/1/admin/organisations/:id/changeAdmin",method:"POST"},deleteAccount:{url:"/api/1/admin/accounts/:id",method:"DELETE"},sendEmailBatch:{url:"/api/1/emailer/send-batch",method:"POST",isArray:!0},getSent:{url:"/api/1/emailer/get-sent",method:"GET",isArray:!0},createTemplate:{url:"/api/1/emailer/template",method:"POST"},updateTemplate:{url:"/api/1/emailer/template/:id",method:"POST",params:{id:"@id"}},deleteTemplate:{url:"/api/1/emailer/template/:id",method:"DELETE",params:{id:"@id"}},getTemplates:{url:"/api/1/emailer/template",method:"GET",isArray:!0}})})},{"../app":1}],162:[function(require,module,exports){function Statistics($resource){return $resource("/api/1/statistics",null,{userCount:{method:"GET",url:"/api/1/statistics/user-count"},userFunnel:{method:"GET",url:"/api/1/statistics/user-funnel"},organisationFunnel:{method:"GET",url:"/api/1/statistics/organisation-funnel"},counts:{method:"GET",url:"/api/1/statistics/counts"},contactCounts:{method:"GET",url:"/api/1/statistics/contact-counts"},interests:{method:"GET",url:"/api/1/statistics/interests",isArray:!0},userLocations:{method:"GET",url:"/api/1/statistics/user-locations",isArray:!0},positionLocations:{method:"GET",url:"/api/1/statistics/position-locations",isArray:!0},timeSeries:{method:"GET",url:"/api/1/statistics/time-series",isArray:!0},positionCounts:{method:"GET",url:"/api/1/statistics/position-counts",isArray:!0},livePositions:{method:"GET",url:"/api/1/statistics/live-positions",isArray:!0},shapeGroups:{method:"GET",url:"/api/1/statistics/shape-groups",isArray:!0,params:{type:"@type"}},expiringPositions:{method:"GET",url:"/api/1/statistics/expiring-positions",isArray:!0},countries:{method:"GET",url:"/api/1/statistics/countries",isArray:!0}})}function OrganisationStates($resource){return $resource("api/1/organisation-states",null,{unacquired:{method:"GET",url:"/api/1/organisation-states/unacquired",isArray:!0},unactivated:{method:"GET",url:"/api/1/organisation-states/unactivated",isArray:!0},noTeam:{method:"GET",url:"/api/1/organisation-states/no-team",isArray:!0},unmatched:{method:"GET",url:"/api/1/organisation-states/unmatched",isArray:!0},notMessaged:{method:"GET",url:"/api/1/organisation-states/not-messaged",isArray:!0},notPaid:{method:"GET",url:"/api/1/organisation-states/not-paid",isArray:!0},lapsed:{method:"GET",url:"/api/1/organisation-states/lapsed",isArray:!0}})}function CreditBalances($resource){return $resource("/api/1/credit-balances")}require("../app").factory("Statistics",Statistics).factory("CreditBalances",CreditBalances).factory("OrganisationStates",OrganisationStates),Statistics.$inject=["$resource"],OrganisationStates.$inject=["$resource"],Statistics.$inject=["$resource"]},{"../app":1}],163:[function(require,module,exports){function Companies($http){function hiring(){return $http.get("/api/1/whos-hiring")}return{hiring:hiring}}require("../app").factory("Companies",Companies),Companies.$inject=["$http"]},{"../app":1}],164:[function(require,module,exports){function CreditFeedback(Modal,$rootScope){function show(amount,title){return $rootScope.updateBalance(),Modal.open("confirm",{title:title||null,question:"Earning Credits",text:'<i class="icon icon-thumbs-up"></i>  You have just earned '+amount+" credit"+(amount>1?"s":"")+"!",icon:"piggy-bank-earn",modalClass:"earn",confirmOnly:!0,confirmIcon:"tick"})}return{show:show}}var app=require("../app");app.factory("CreditFeedback",CreditFeedback),CreditFeedback.$inject=["Modal","$rootScope"]},{"../app":1}],165:[function(require,module,exports){function ExceptionHandler(){return function(exception,cause){window.Bugsnag.notifyException(exception,{diagnostics:{cause:cause}})}}angular.module("exceptionOverride",[]).factory("$exceptionHandler",ExceptionHandler)},{}],166:[function(require,module,exports){require("../app").factory("Future",function($resource){return $resource("/api/1/futures/:id",{id:"@id"},{getPersonFuture:{method:"GET",url:"/api/1/persons/:id/future",isArray:!1}})})},{"../app":1}],167:[function(require,module,exports){function History($resource){return $resource("/api/1/persons/:person_id/history/:id",{person_id:"@person_id",id:"@id"},{list:{method:"GET",isArray:!0}},{"delete":{method:"DELETE",url:"/api/1/persons/:personId/history/:id"}})}var app=require("../app");app.factory("History",History)},{"../app":1}],168:[function(require,module,exports){function ImageUploader($upload,$window){function uploadImage(session,files,callback){if(1===files.length){var url,fileName,image=files[0];"person"===session.type||"organisation-member"===session.type?(url="api/1/persons/"+session.person.id+"/avatar",fileName="avatar"):(url="api/1/organisations/"+session.organisation.id+"/logo",fileName="logo"),$upload.upload({url:url,method:"POST",headers:{"x-workshape-token":$window.localStorage.getItem("workshape-token")},file:image,fileFormDataName:fileName}).progress(function(e){debug.log("Upload percent: "+parseInt(100*e.loaded/e.total,10))}).success(function(res){callback(null,res)}).error(function(err){callback(err)})}}return{uploadImage:uploadImage}}var debug=require("../core/debug"),app=require("../app");app.factory("ImageUploader",ImageUploader),ImageUploader.$inject=["$upload","$window"]},{"../app":1,"../core/debug":87}],169:[function(require,module,exports){require("./account"),require("./administrator-tools"),require("./analytics"),require("./companies"),require("./credit-feedback"),require("./exception-override"),require("./future"),require("./image-uploader"),require("./history"),require("./insights"),require("./interest"),require("./matcher"),require("./message"),require("./message-manager"),require("./modal"),require("./organisation"),require("./organisation-media"),require("./password"),require("./pricing"),require("./payment"),require("./person"),require("./position"),require("./position-creator"),require("./position-import"),require("./sample-data"),require("./session"),require("./sharing"),require("./signup"),require("./subscriptions"),require("./skill"),require("./slug"),require("./socket"),require("./step"),require("./time"),require("./tour"),require("./verify"),require("./version")},{"./account":160,"./administrator-tools":161,"./analytics":162,"./companies":163,"./credit-feedback":164,"./exception-override":165,"./future":166,"./history":167,"./image-uploader":168,"./insights":170,"./interest":171,"./matcher":172,"./message":174,"./message-manager":173,"./modal":175,"./organisation":177,"./organisation-media":176,"./password":178,"./payment":179,"./person":180,"./position":183,"./position-creator":181,"./position-import":182,"./pricing":184,"./sample-data":185,"./session":186,"./sharing":187,"./signup":188,"./skill":189,"./slug":190,"./socket":191,"./step":192,"./subscriptions":193,"./time":194,"./tour":195,"./verify":196,"./version":197}],170:[function(require,module,exports){function Insights($http){function person(personId){return $http.get(base+"persons/"+personId+"/location_stats")}function position(positionId){return $http.get(base+"positions/"+positionId+"/location_stats")}function organisation(organisationId){return $http.get(base+"organisations/"+organisationId+"/location_stats")}var base="/api/1/";return{person:person,position:position,organisation:organisation}}require("../app").factory("Insights",Insights),Insights.$inject=["$http"]},{"../app":1}],171:[function(require,module,exports){require("../app").factory("Interest",function($resource){return $resource("/api/1/interest/:id",{id:"@id"},{approve:{method:"POST",url:"/api/1/interest/:email/approve",isArray:!1,params:{email:"@email"}},reject:{method:"POST",url:"/api/1/interest/:email/reject",isArray:!1,params:{email:"@email"}},isValidAccessCode:{method:"GET",url:"/api/1/interest/access/:code",isArray:!1,params:{code:"@code"}},useValidAccessCode:{method:"POST",url:"/api/1/interest/access/:code",isArray:!1,params:{code:"@code"}}})})},{"../app":1}],172:[function(require,module,exports){function PositionMatcher($resource){return $resource("/api/1/futures/:id/matches",{id:"@id"},{respond:{method:"POST",params:{id:"@id",match_id:"@match_id",response:"@response"},url:"/api/1/futures/:id/matches/:match_id/:response",isArray:!1}})}function MatchCache($http,CacheFactory){function clearMatchCache(){matchCache.keys().forEach(function(key){matchCache.remove(key)})}var matchCache=new CacheFactory("matchCache",{maxAge:2e4,deleteOnExpire:"aggressive",recycleFreq:1e3,storageMode:"sessionStorage",storageImpl:{getItem:function(key){try{return LZString.decompressFromUTF16(sessionStorage.getItem(key))}catch(err){return console.log(" [x] Cache retrieval error, returning null"),null}},setItem:function(key,value){try{sessionStorage.setItem(key,LZString.compressToUTF16(value))}catch(err){console.log(err)}},removeItem:function(key){sessionStorage.removeItem(key)}},onExpire:function(key){matchCache.remove(key),$http.get(key).success(function(data){matchCache.put(key,JSON.stringify(data))})}}),interceptor={response:function(response){return clearMatchCache(),response}};return{interceptor:interceptor,cache:matchCache,clear:clearMatchCache}}function FutureMatcher($resource,MatchCache){return $resource("/api/1/positions/:id/matches",{id:"@id"},{get:{cache:MatchCache.cache},archive:{method:"POST",params:{id:"@id",match_id:"@match_id"},url:"/api/1/positions/:id/matches/:match_id/archive",interceptor:MatchCache.interceptor,isArray:!1},unarchive:{method:"POST",params:{id:"@id",match_id:"@match_id"},url:"/api/1/positions/:id/matches/:match_id/unarchive",interceptor:MatchCache.interceptor,isArray:!1},setTags:{method:"POST",params:{id:"@id",future_id:"@future_id"},url:"/api/1/positions/:id/matches/:future_id/tags",interceptor:MatchCache.interceptor,isArray:!1}})}function PositionMatchSeen($resource){return $resource("/api/1/positions/:position_id/matches/:match_id/seen",{position_id:"@id",match_id:"@match_id"})}function FutureMatchSeen($resource){return $resource("/api/1/futures/:future_id/matches/:match_id/seen",{future_id:"@id",match_id:"@match_id"})}function PersonMessages($resource){return $resource("/api/1/persons/:id/messages",{id:"@id"})}function OrganisationMessages($resource,$http,CacheFactory){var messagesCache=new CacheFactory("messagesCache",{maxAge:3e4,deleteOnExpire:"aggressive",recycleFreq:1e3,storageMode:"sessionStorage",onExpire:function(key){$http.get(key).success(function(data){messagesCache.put(key,JSON.stringify(data))})}});return $resource("/api/1/organisations/:id/messages",{id:"@id"},{get:{cache:messagesCache}})}function PositionMatchMessages($resource){return $resource("/api/1/positions/:id/matches/:matchId/messages",{id:"@id",matchId:"@matchId"})}function FutureMatchMessages($resource){return $resource("/api/1/futures/:id/matches/:matchId/messages",{id:"@id",matchId:"@matchId"})}function Matcher(FutureMatcher,PositionMatcher,PositionMatchSeen,FutureMatchSeen,Message,MatchCache,PositionCache){function sendMessage(position,future,recipient,msg){var message=new Message;return message.recipient=recipient,message.person_id=future.person.id,message.organisation_id=position.organisation.id,message.position_id=position.id,message.message=msg,"organisation"===recipient?message.subject=[future.person.first_name,future.person.last_name].join(" ")+" sent you a message!":(message.subject=position.organisation.name+" sent you a message!",message.ne="undefined"==typeof position.interest||"undefined"==typeof position.interest[future.id]),message.$save().then(function(message){return message})}function archiveFuture(position,match){var fm=new FutureMatcher;return fm.id=position.id,fm.match_id=match.id,fm.$archive()}function unarchiveFuture(position,match){var fm=new FutureMatcher;return fm.id=position.id,fm.match_id=match.id,fm.$unarchive()}function respondToPosition(response,future,match){var pm=new PositionMatcher;return pm.id=future.id,pm.match_id=match.id,MatchCache.clear(),pm.$respond({response:response})}function setPositionMatchTags(position,future,tags){var match=new FutureMatcher;return match.id=position.id,match.position_id=position.id,match.future_id=future.id,match.tags=tags,MatchCache.clear(),match.$setTags()}function markPositionMatchSeen(position,match){var pm=new PositionMatchSeen;return pm.id=position.id,pm.position_id=position.id,pm.match_id=match.id,MatchCache.clear(),PositionCache.clear(),pm.$save()}function markFutureMatchSeen(future,match){var fm=new FutureMatchSeen;return fm.id=future.id,fm.future_id=future.id,fm.match_id=match.id,MatchCache.clear(),fm.$save()}function getMatches(type,matchee){if("undefined"==typeof services[type])throw new Error("Unsupported type: "+type);return services[type].get({id:matchee.id}).$promise.then(function(response){function matchSkillsOfPosition(match){match[type].required_skills.forEach(function(skill){matchee.skills.forEach(function(ms){skill.match=skill.match||skill.id===ms.id,skill.partial=skill.partial||skill.id!==ms.id&&skill.stem===ms.stem,skill.sort=skill.match?1:skill.partial?2:3}),skill.match&&(skill.partial=!1)}),match[type].required_skills.sort(function(a,b){return a.sort-b.sort}),match[type].bonus_skills.forEach(function(skill){matchee.skills.forEach(function(ms){skill.match=skill.match||skill.id===ms.id,skill.partial=skill.partial||skill.id!==ms.id&&skill.stem===ms.stem,skill.sort=skill.match?1:skill.partial?2:3}),skill.match&&(skill.partial=!1)}),match[type].bonus_skills.sort(function(a,b){return a.sort-b.sort})}function matchSkillsOfFuture(match){match[type].skills.forEach(function(skill){matchee.required_skills.forEach(function(ms){skill.match=skill.match||skill.id===ms.id,skill.partial=skill.partial||skill.id!==ms.id&&skill.stem===ms.stem,skill.sort=skill.match?1:skill.partial?2:3}),matchee.bonus_skills.forEach(function(ms){skill.match=skill.match||skill.id===ms.id,skill.partial=skill.partial||skill.id!==ms.id&&skill.stem===ms.stem,skill.sort=skill.match?1:skill.partial?2:3}),skill.match&&(skill.partial=!1)}),match[type].skills.sort(function(a,b){return a.sort-b.sort})}return response.matches=response.matches.filter(function(match){return!!match[type]}),response.matches.forEach("position"===type?matchSkillsOfPosition:matchSkillsOfFuture),response})}var services={future:FutureMatcher,position:PositionMatcher};return{markPositionMatchSeen:markPositionMatchSeen,markFutureMatchSeen:markFutureMatchSeen,archiveFuture:archiveFuture,unarchiveFuture:unarchiveFuture,respondToPosition:respondToPosition,getMatches:getMatches,sendMessage:sendMessage,setPositionMatchTags:setPositionMatchTags}}var LZString=require("lz-string");require("../app").factory("PositionMatcher",PositionMatcher).factory("FutureMatcher",FutureMatcher).factory("PositionMatchSeen",PositionMatchSeen).factory("FutureMatchSeen",FutureMatchSeen).factory("PersonMessages",PersonMessages).factory("PositionMatchMessages",PositionMatchMessages).factory("FutureMatchMessages",FutureMatchMessages).factory("OrganisationMessages",OrganisationMessages).factory("Matcher",Matcher).factory("MatchCache",MatchCache),PositionMatcher.$inject=["$resource"],MatchCache.$inject=["$http","CacheFactory"],FutureMatcher.$inject=["$resource","MatchCache"],PositionMatchSeen.$inject=["$resource"],FutureMatchSeen.$inject=["$resource"],PersonMessages.$inject=["$resource"],OrganisationMessages.$inject=["$resource","$http","CacheFactory"],PositionMatchMessages.$inject=["$resource"],FutureMatchMessages.$inject=["$resource"],Matcher.$inject=["FutureMatcher","PositionMatcher","PositionMatchSeen","FutureMatchSeen","Message","MatchCache","PositionCache"]},{"../app":1,"lz-string":257}],173:[function(require,module,exports){function MessageManager(Session,MessageRead,Conversations,$rootScope,CacheFactory){function loadUnread(success,failure){return Conversations.getUnread().$promise.then(function(res){return"function"==typeof success?success(res):res},failure)}function loadMessages(success,failure){return Conversations.get().$promise.then(function(res){return conversations=res.conversations.filter(function(conversation){return"match"===conversation.type&&new Date>new Date(conversation.position.expiry)?!1:!0}),conversations.forEach(decorateConversation),"function"==typeof success&&success(conversations),conversations},failure)}function getConversations(){return conversations}function getMatchConversation(position,personId){var i,conv;for(i=0;i<conversations.length;i+=1)if(conv=conversations[i],"match"===conv.type&&conv.position.id===position.id&&(!personId||conv.person.id===personId))return conv;return conv={type:"match",position:position,person:personId?{id:personId}:null,organisation:position.organisation,messages:[]},conv=decorateConversation(conv),conversations.push(conv),conv}function loadMatchConversation(position,personId){function mock(){var conv={type:"match",position:position,person:personId?{id:personId}:null,organisation:position.organisation,messages:[]};return decorateConversation(conv)}var entryId,type="match",session=Session.data();return entryId="person"===session.type?position.organisation.id+":"+position.id:personId+":"+position.id,Conversations.get({type:type,entryId:entryId}).$promise.then(function(res){return res&&res.conversation?decorateConversation(res.conversation):mock()})["catch"](function(){return mock()})}function decorateConversation(conversation){var session=$rootScope.session,hasHumanMessages=!1,unreadCount=0,userType="person"===session.type?"person":"organisation";return conversation.itemId=getItemId(conversation),conversation.messages.forEach(function(message){-1!==message.message.indexOf(INTEREST_SUBSTR)&&(message.type="interest"),-1!==message.message.substr(0,60).indexOf("just been matched")&&(message.type="match"),message.auto="interest"===message.type||"auto"===message.type||"match"===message.type,message.self=message.recipient!==userType&&!message.auto,message.auto||(hasHumanMessages=!0,message.avatar="person"===message.recipient?message.self?session.organisation.logo:conversation.organisation.logo:message.self?session.person.avatar||ANON_AVATAR_URL:conversation.person.avatar||ANON_AVATAR_URL),message.read=message.read||message.auto||message.self,message.read||(unreadCount+=1)}),conversation.engaged=hasHumanMessages,conversation.unread=unreadCount,conversation}function markAsRead(messageId){var messageRead=new MessageRead;messageRead.id=messageId,messageRead.$save();var cache=CacheFactory.get("unreadCache");cache.removeAll()}function getItemId(conversation){var session=$rootScope.session;return"match"===conversation.type?"person"===session.type?conversation.organisation.id+":"+conversation.position.id:conversation.person.id+":"+conversation.position.id:"nonmatch"===conversation.type?"person"===session.type?conversation.organisation.id:conversation.person.id:void 0}var conversations=null;return{loadUnread:loadUnread,loadMessages:loadMessages,markAsRead:markAsRead,getConversations:getConversations,getMatchConversation:getMatchConversation,loadMatchConversation:loadMatchConversation,decorateConversation:decorateConversation,getItemId:getItemId}}var app=require("../app"),ANON_AVATAR_URL="/images/assets/anonymous.png",INTEREST_SUBSTR="They have just viewed your opening and expressed an interest";app.factory("MessageManager",MessageManager),MessageManager.$inject=["Session","MessageRead","Conversations","$rootScope","CacheFactory"]},{"../app":1}],174:[function(require,module,exports){require("../app").factory("Message",function($resource){return $resource("/api/1/messages/:id",{id:"@id"})}).factory("MessageRead",function($resource){return $resource("/api/1/messages/:id/read",{id:"@id"})}).factory("Conversations",function($resource,$http,CacheFactory){var unreadCache=new CacheFactory("unreadCache",{maxAge:15e3,deleteOnExpire:"aggressive",recycleFreq:1e3,storageMode:"sessionStorage",onExpire:function(key){$http.get(key).success(function(data){unreadCache.put(key,JSON.stringify(data))})}});return $resource("/api/1/messages/:type/:entryId",{type:"@type",entryId:"@entryId"},{getUnread:{method:"GET",url:"/api/1/messages/unread",isArray:!1,cache:unreadCache}})})},{"../app":1}],175:[function(require,module,exports){function Modal($q,$templateCache,$http,$rootScope,$compile,$controller){function openModal(config,options){config=config?modals[config]:config||{},angular.element("body").addClass("modal-open");var deferred=$q.defer(),templateUrl=config.templateUrl||null,template=config.template||null,controller=config.controller||null,scope=options||{};return $rootScope.showOverlay=!0,$rootScope.overlayAction=closeModals,getTemplate(template,templateUrl,function(err,template){if(err)return deferred.reject(err);var modal={template:template,scope:angular.extend($rootScope.$new(),scope),controllerFn:controller,deferred:deferred};initModal(modal)}),deferred.promise}function initModal(modal){modal.scope.modal=modal,modal.scope.close=function(response){closeModal(modal),modal.deferred.resolve(response||!1)},modal.el=$compile(angular.element(modal.template))(modal.scope),document.body.appendChild(modal.el[0]),modal.controllerFn&&(modal.controller=$controller(modal.controllerFn,modal)),openModals.push(modal)}function closeModal(modal,remove){remove="undefined"==typeof remove?!0:!1;var index=openModals.indexOf(modal);modal.scope.closing=!0,setTimeout(function(){modal.scope.$destroy(),modal.el.remove()},300),remove&&-1!==index&&openModals.splice(index,1),openModals.length||closeModals()}function closeModals(){angular.element("body").removeClass("modal-open"),openModals.forEach(closeModal),openModals=[],$rootScope.showOverlay=!1,$rootScope.overlayAction=null,setTimeout(function(){$rootScope.$apply()})}function getTemplate(template,id,callback){var cached,url="/views/modals/"+id;return template?callback(null,template):(cached=$templateCache.get(url))?callback(null,cached):void $http({method:"GET",url:url,cache:!0}).then(function(res){$templateCache.put(url,res.data),callback(null,res.data)})["catch"](callback)}return window.addEventListener("keydown",function(e){var key=keycode(e.keyCode);"esc"===key&&closeModals();

}),{open:openModal,close:closeModals}}var app=require("../app"),keycode=require("keycode"),modals={media:{controller:require("../controllers/modal/media"),templateUrl:"media"},share:{controller:require("../controllers/modal/share"),templateUrl:"share"},confirm:{controller:require("../controllers/modal/confirm"),templateUrl:"confirm"},alert:{templateUrl:"alert"},"assign-position":{controller:require("../controllers/modal/assign-position"),templateUrl:"assign-position"},credits:{controller:require("../controllers/modal/credits"),templateUrl:"credits"},offer:{controller:require("../controllers/modal/offer"),templateUrl:"offer"},spread:{controller:require("../controllers/modal/spread"),templateUrl:"spread"},"select-days":{controller:require("../controllers/modal/select-days"),templateUrl:"select-days"},"skill-selector":{controller:require("../controllers/modal/skill-selector"),templateUrl:"skill-selector"},hiring:{controller:require("../controllers/modal/hiring"),templateUrl:"hiring"},referral:{controller:require("../controllers/modal/referral"),templateUrl:"referral"},"complete-profile":{templateUrl:"complete-profile"},"team-member":{templateUrl:"team-member",controller:require("../controllers/modal/team-member")},"hiring-step-picker":{templateUrl:"hiring-step-picker",controller:require("../controllers/modal/hiring-step-picker")},"admin-add-credits":{templateUrl:"admin-add-credits",controller:require("../controllers/modal/admin-add-credits")},"admin-change-owner":{templateUrl:"admin-change-owner",controller:require("../controllers/modal/admin-change-owner")},"admin-delete-account":{templateUrl:"admin-delete-account",controller:require("../controllers/modal/admin-delete-account")},"admin-make-unmatchable":{templateUrl:"admin-make-unmatchable",controller:require("../controllers/modal/admin-make-unmatchable")},"import-position":{templateUrl:"import-position",controller:require("../controllers/modal/import-position")},"clone-position":{templateUrl:"clone-position",controller:require("../controllers/modal/clone-position")},"api-error":{templateUrl:"api-error",controller:require("../controllers/modal/api-error")}},openModals=[];app.factory("Modal",Modal),Modal.$inject=["$q","$templateCache","$http","$rootScope","$compile","$controller"]},{"../app":1,"../controllers/modal/admin-add-credits":17,"../controllers/modal/admin-change-owner":18,"../controllers/modal/admin-delete-account":19,"../controllers/modal/admin-make-unmatchable":20,"../controllers/modal/api-error":21,"../controllers/modal/assign-position":22,"../controllers/modal/clone-position":23,"../controllers/modal/confirm":24,"../controllers/modal/credits":25,"../controllers/modal/hiring":27,"../controllers/modal/hiring-step-picker":26,"../controllers/modal/import-position":28,"../controllers/modal/media":29,"../controllers/modal/offer":30,"../controllers/modal/referral":31,"../controllers/modal/select-days":32,"../controllers/modal/share":33,"../controllers/modal/skill-selector":34,"../controllers/modal/spread":35,"../controllers/modal/team-member":36,keycode:255}],176:[function(require,module,exports){var transform=require("../utils/transform"),app=require("../app");app.factory("OrganisationMedia",function($resource){return $resource("/api/1/media/:id",{id:"@id",order:"@order"},{save:{method:"POST",isArray:!1,cache:!1,url:"/api/1/media",transformRequest:transform.multipart},list:{method:"GET",isArray:!0,cache:!1,url:"/api/1/organisations/:id/media"},order:{method:"POST",isArray:!1,cache:!1,url:"/api/1/media/:id/order/:order"}})})},{"../app":1,"../utils/transform":211}],177:[function(require,module,exports){var transform=require("../utils/transform"),app=require("../app");app.factory("Organisation",function($resource){return $resource("/api/1/organisations/:id",{id:"@id",slug:"@slug"},{getBySlug:{method:"GET",isArray:!1,cache:!1,url:"/api/1/organisation/:slug"},getPositionsBySlug:{method:"GET",isArray:!1,cache:!1,url:"/api/1/organisation/:slug/positions"},getUsage:{method:"GET",isArray:!1,cache:!1,url:"/api/1/organisations/:id/usage"},team:{method:"GET",isArray:!0,cache:!1,url:"/api/1/organisations/:id/team"},positions:{method:"GET",isArray:!0,cache:!1},logo:{method:"POST",isArray:!1,cache:!1,url:"/api/1/organisations/:id/logo"},updateCover:{method:"POST",isArray:!1,cache:!1,url:"/api/1/organisations/:id/cover-photo",transformRequest:transform.multipart},removeCover:{method:"DELETE",isArray:!1,cache:!1,url:"/api/1/organisations/:id/cover-photo"},setCoverOptions:{method:"POST",isArray:!1,cache:!1,url:"/api/1/organisations/:id/cover-options"}})}).factory("OrganisationLookup",function($resource){return $resource("/api/1/organisation-used/:organisation",{organisation:"@organisation"})}).factory("Credits",function($resource){return $resource("/api/1/organisations/:orgId/credits/:creditId",{orgId:"@orgId",creditId:"@creditId"},{balance:{method:"GET",isArray:!1,cache:!1,url:"/api/1/organisations/:orgId/credits/_balance"}})})},{"../app":1,"../utils/transform":211}],178:[function(require,module,exports){function Password($http){function forgot(email){return $http.post(base+"password-reset/"+email)}function reset(changeKey,password){return $http.post(base+"password-change/"+changeKey,{password:password})}function change(accountId,oldPassword,password){return $http.post("/api/1/accounts/"+accountId+"/password-change",{old_password:oldPassword,password:password})}var base="/api/1/";return{forgot:forgot,reset:reset,change:change}}require("../app").factory("Password",Password),Password.$inject=["$http"]},{"../app":1}],179:[function(require,module,exports){function Payment(Session,$q,Credits,$rootScope){function prompt(amount){var deferred=$q.defer();return Session.data().then(function(session){function abandon(){succeded||deferred.reject("Checkout interrupted")}function success(token){succeded=!0,debug.log("Stripe token",token);var credit=new Credits;credit.orgId=session.organisation.id,credit.account_id=session.account_id,credit.amount=amount.credits,credit.cost=120*amount.cost,credit.currency=amount.currency,credit.stripe_token=token.id,credit.type="load",credit.$save(function(){$rootScope.updateBalance().then(deferred.resolve,deferred.reject)},function(res){deferred.reject(res.error)})}var succeded=!1;StripeCheckout.configure({key:config.STRIPE_KEY,image:"/images/logo/checkout.jpg",currency:amount.currency,description:"Credits for on-platform purchases on Workshape.io + VAT",email:session.email,token:success,allowRemember:!0,closed:abandon}).open({name:"Workshape.io",description:amount.credits+" credits + VAT (20%)",amount:120*amount.cost})},function(res){deferred.reject(res.error)}),deferred.promise}return{prompt:prompt}}var app=require("../app"),config=require("../config"),debug=require("../core/debug"),StripeCheckout=window.StripeCheckout;app.factory("Payment",Payment),Payment.$inject=["Session","$q","Credits","$rootScope"]},{"../app":1,"../config":2,"../core/debug":87}],180:[function(require,module,exports){require("../app").factory("Person",function($resource){return $resource("/api/1/persons/:id",{id:"@id"},{slug:{method:"GET",params:{slug:"@slug"},url:"/api/1/person/:slug",isArray:!1}})})},{"../app":1}],181:[function(require,module,exports){function PositionCreator($q,Position,SampleData,CacheFactory){function getBase(organisation_id,account_id){var x=SampleData.getDefault();return position=new Position,position.title=null,position.bonus_skills=[],position.required_skills=[],position.description=null,position.location=null,position.place_of_work=null,position.contract_type=null,position.level=null,position.time_load=x.time_load,position.organisation_id=organisation_id,position.account_id=account_id,position.draft=!0,position.visa=!1,position.location_anywhere=!1,position}function getOtherTimeLoads(){var sample=SampleData.getSample(5,1);return sample.map(function(s){return s.time_load})}function isValid(position){return"undefined"==typeof position||"undefined"==typeof position.title||"undefined"==typeof position.time_load||!position.level||timeload.total(position.time_load)<1||"undefined"==typeof position.bonus_skills||"undefined"==typeof position.required_skills||"undefined"==typeof position.description||"undefined"==typeof position.location?!1:position.title.length>0&&(position.required_skills.length>0||position.bonus_skills.length>0)&&position.description.length>0&&position.location.formatted_address.length>0}function create(position){var deferred=$q.defer();return CacheFactory.clearAll(),position.time_load=timeload.normalise(position.time_load),position.$save(deferred.resolve,deferred.reject),deferred.promise}function update(updated){var deferred=$q.defer();return CacheFactory.clearAll(),updated.time_load=timeload.normalise(updated.time_load),updated.organisation&&(updated.organisation_id=updated.organisation.id),delete updated.organisation,delete updated.closest,delete updated.matches,updated.$save(deferred.resolve,deferred.reject),deferred.promise}var position;return{getBase:getBase,getOtherTimeLoads:getOtherTimeLoads,isValid:isValid,create:create,update:update}}var timeload=require("../utils/timeload");require("../app").factory("PositionCreator",PositionCreator),PositionCreator.$inject=["$q","Position","SampleData","CacheFactory"]},{"../app":1,"../utils/timeload":210}],182:[function(require,module,exports){function PositionImport($resource){var Resource=$resource("/api/1/suggestion/job-desc?url=:url",{url:"@url"});return{"import":function(url,success,failure){var importer=new Resource;importer.url=url,importer.$get(function(position){success(processPosition(position))},failure)}}}function processPosition(position){return addTrimmedDescription(position),position.skills=position.skills.filter(function(skill){return!!skill}),deduplicateSkills(position),position}function deduplicateSkills(position){var processed=[],skills=[];position.skills.forEach(function(skill){-1===processed.indexOf(skill.lower)&&(skills.push(skill),processed.push(skill.lower))}),position.skills=skills}function addTrimmedDescription(position){var description=position.description?position.description.join(". "):"",descriptionParagraphs=description.split(". "),reachedLength=0;position.descriptionTrimmed=descriptionParagraphs.filter(function(paragraph,i){return reachedLength+=paragraph,0===i||TRIM_DESCRIPTION_LENGTH>reachedLength}).join(".\n\n").trim()+".",position.descriptionTrimmed.length>TRIM_DESCRIPTION_LENGTH&&(position.descriptionTrimmed=position.descriptionTrimmed.substr(0,TRIM_DESCRIPTION_LENGTH-3)+"...")}var app=require("../app"),TRIM_DESCRIPTION_LENGTH=300;app.factory("PositionImport",PositionImport),PositionImport.$inject=["$resource"]},{"../app":1}],183:[function(require,module,exports){function PositionCache($http,CacheFactory){function clearPositionCache(){positionCache.keys().forEach(function(key){positionCache.remove(key)})}var positionCache=new CacheFactory("positionCache",{maxAge:15e3,deleteOnExpire:"aggressive",recycleFreq:1e3,storageMode:"sessionStorage",onExpire:function(key){positionCache.remove(key),$http.get(key).success(function(data){positionCache.put(key,JSON.stringify(data))})}}),interceptor={response:function(response){return clearPositionCache(),response}};return{cache:positionCache,interceptor:interceptor,clear:clearPositionCache}}function Position($http,$resource,PositionCache){return $resource("/api/1/positions/:id",{id:"@id"},{live:{method:"GET",params:{organisation_id:"@organisation_id"},url:"/api/1/organisations/:organisation_id/positions",cache:PositionCache.cache,isArray:!0},publicGet:{method:"GET",params:{id:"@id"},url:"/api/1/positions/:id/public",isArray:!1},delegate:{method:"POST",params:{id:"@id",accountId:"@accountId"},url:"/api/1/positions/:id/delegate/:accountId",interceptor:PositionCache.interceptor},extend:{method:"POST",params:{id:"@id"},url:"/api/1/positions/:id/extend",interceptor:PositionCache.interceptor},softDelete:{method:"DELETE",params:{id:"@id"},url:"/api/1/positions/:id",interceptor:PositionCache.interceptor},hardDelete:{method:"DELETE",params:{id:"@id"},url:"/api/1/positions/:id/_hard",interceptor:PositionCache.interceptor}})}require("../app").factory("Position",Position).factory("PositionCache",PositionCache),PositionCache.$inject=["$http","CacheFactory"],Position.$inject=["$http","$resource","PositionCache"]},{"../app":1}],184:[function(require,module,exports){require("../app").factory("Pricing",function($resource){return $resource("/api/1/pricing/:id",{id:"@id"},{packages:{method:"GET",url:"/api/1/pricing/packages",isArray:!0},credits:{method:"GET",url:"/api/1/pricing/credits",isArray:!1},currency:{method:"GET",url:"/api/1/pricing/currency",isArray:!1}})})},{"../app":1}],185:[function(require,module,exports){require("../app").factory("SampleData",function(){return{getSample:function(size,offset){offset=offset||0;var sample=[{title:"Show us how you want to spend your time...",tags:[],organisation:{name:"Your next employer",image_url:null},time_load:{d0:{id:0,name:"Analysis",value:10},d1:{id:1,name:"Architecture",value:10},d2:{id:2,name:"Operations",value:10},d3:{id:3,name:"Back-end",value:10},d4:{id:4,name:"Front-end",value:10},d5:{id:5,name:"UI/UX",value:10},d6:{id:6,name:"Testing",value:10},d7:{id:7,name:"Code review",value:10},d8:{id:8,name:"Documentation",value:10},d9:{id:9,name:"Data science",value:10}}},{title:"Development Manager",tags:["HTML5","JavaScript","CSS","PHP","Postgres"],organisation:{name:"Google",image_url:null},time_load:{d0:{id:0,name:"Analysis",value:5},d1:{id:1,name:"Architecture",value:5},d2:{id:2,name:"Operations",value:5},d3:{id:3,name:"Back-end",value:5},d4:{id:4,name:"Front-end",value:15},d5:{id:5,name:"UI/UX",value:15},d6:{id:6,name:"Testing",value:20},d7:{id:7,name:"Code review",value:5},d8:{id:8,name:"Documentation",value:5},d9:{id:9,name:"Data science",value:20}}},{title:"Senior Architect",tags:["PHP","MySQL","Nginx","Shell"],organisation:{name:"Uber",image_url:null},time_load:{d0:{id:0,name:"Analysis",value:5},d1:{id:1,name:"Architecture",value:5},d2:{id:2,name:"Operations",value:5},d3:{id:3,name:"Back-end",value:10},d4:{id:4,name:"Front-end",value:20},d5:{id:5,name:"UI/UX",value:10},d6:{id:6,name:"Testing",value:15},d7:{id:7,name:"Code review",value:5},d8:{id:8,name:"Documentation",value:5},d9:{id:9,name:"Data science",value:20}}},{title:"UX Developer",tags:["html5","Balsamiq","Fireworks","Sass","Cucumber"],organisation:{name:"Uber",image_url:null},time_load:{d0:{id:0,name:"Analysis",value:10},d1:{id:1,name:"Architecture",value:1},d2:{id:2,name:"Operations",value:20},d3:{id:3,name:"Back-end",value:25},d4:{id:4,name:"Front-end",value:35},d5:{id:5,name:"UI/UX",value:4},d6:{id:6,name:"Testing",value:2},d7:{id:7,name:"Sys. admin",value:1},d8:{id:8,name:"Documentation",value:1},d9:{id:9,name:"Data science",value:1}}},{title:"Java Developer",tags:["Hadoop","Java","Mahout","Hibernate","Struts"],organisation:{name:"Uber",image_url:null},time_load:{d0:{id:0,name:"Analysis",value:10},d1:{id:1,name:"Architecture",value:50},d2:{id:2,name:"Operations",value:1},d3:{id:3,name:"Back-end",value:5},d4:{id:4,name:"Front-end",value:5},d5:{id:5,name:"UI/UX",value:20},d6:{id:6,name:"Testing",value:2},d7:{id:7,name:"Code review",value:2},d8:{id:8,name:"Documentation",value:2},d9:{id:9,name:"Data science",value:3}}},{title:"Development Manager",tags:["HTML5","JavaScript","CSS","PHP","Postgres"],organisation:{name:"Google",image_url:null},time_load:{d0:{id:0,name:"Analysis",value:5},d1:{id:1,name:"Architecture",value:5},d2:{id:2,name:"Operations",value:5},d3:{id:3,name:"Back-end",value:5},d4:{id:4,name:"Front-end",value:15},d5:{id:5,name:"UI/UX",value:15},d6:{id:6,name:"Testing",value:20},d7:{id:7,name:"Code review",value:5},d8:{id:8,name:"Documentation",value:5},d9:{id:9,name:"Data science",value:20}}},{title:"Senior Architect",tags:["PHP","MySQL","Nginx","Shell"],organisation:{name:"Uber",image_url:null},time_load:{d0:{id:0,name:"Analysis",value:5},d1:{id:1,name:"Architecture",value:5},d2:{id:2,name:"Operations",value:5},d3:{id:3,name:"Back-end",value:10},d4:{id:4,name:"Front-end",value:20},d5:{id:5,name:"UI/UX",value:10},d6:{id:6,name:"Testing",value:15},d7:{id:7,name:"Code review",value:5},d8:{id:8,name:"Documentation",value:5},d9:{id:9,name:"Data science",value:20}}},{title:"UX Developer",tags:["html5","Balsamiq","Fireworks","Sass","Cucumber"],organisation:{name:"Uber",image_url:null},time_load:{d0:{id:0,name:"Analysis",value:10},d1:{id:1,name:"Architecture",value:1},d2:{id:2,name:"Operations",value:20},d3:{id:3,name:"Back-end",value:25},d4:{id:4,name:"Front-end",value:35},d5:{id:5,name:"UI/UX",value:4},d6:{id:6,name:"Testing",value:2},d7:{id:7,name:"Sys. admin",value:1},d8:{id:8,name:"Documentation",value:1},d9:{id:9,name:"Data science",value:1}}},{title:"Java Developer",tags:["Hadoop","Java","Mahout","Hibernate","Struts"],organisation:{name:"Uber",image_url:null},time_load:{d0:{id:0,name:"Analysis",value:10},d1:{id:1,name:"Architecture",value:50},d2:{id:2,name:"Operations",value:1},d3:{id:3,name:"Back-end",value:5},d4:{id:4,name:"Front-end",value:5},d5:{id:5,name:"UI/UX",value:20},d6:{id:6,name:"Testing",value:2},d7:{id:7,name:"Code review",value:2},d8:{id:8,name:"Documentation",value:2},d9:{id:9,name:"Data science",value:3}}},{title:"Development Manager",tags:["HTML5","JavaScript","CSS","PHP","Postgres"],organisation:{name:"Google",image_url:null},time_load:{d0:{id:0,name:"Analysis",value:5},d1:{id:1,name:"Architecture",value:5},d2:{id:2,name:"Operations",value:5},d3:{id:3,name:"Back-end",value:5},d4:{id:4,name:"Front-end",value:15},d5:{id:5,name:"UI/UX",value:15},d6:{id:6,name:"Testing",value:20},d7:{id:7,name:"Code review",value:5},d8:{id:8,name:"Documentation",value:5},d9:{id:9,name:"Data science",value:20}}},{title:"Senior Architect",tags:["PHP","MySQL","Nginx","Shell"],organisation:{name:"Uber",image_url:null},time_load:{d0:{id:0,name:"Analysis",value:5},d1:{id:1,name:"Architecture",value:5},d2:{id:2,name:"Operations",value:5},d3:{id:3,name:"Back-end",value:10},d4:{id:4,name:"Front-end",value:20},d5:{id:5,name:"UI/UX",value:10},d6:{id:6,name:"Testing",value:15},d7:{id:7,name:"Code review",value:5},d8:{id:8,name:"Documentation",value:5},d9:{id:9,name:"Data science",value:20}}},{title:"UX Developer",tags:["html5","Balsamiq","Fireworks","Sass","Cucumber"],organisation:{name:"Uber",image_url:null},time_load:{d0:{id:0,name:"Analysis",value:10},d1:{id:1,name:"Architecture",value:1},d2:{id:2,name:"Operations",value:20},d3:{id:3,name:"Back-end",value:25},d4:{id:4,name:"Front-end",value:35},d5:{id:5,name:"UI/UX",value:4},d6:{id:6,name:"Testing",value:2},d7:{id:7,name:"Sys. admin",value:1},d8:{id:8,name:"Documentation",value:1},d9:{id:9,name:"Data science",value:1}}},{title:"Java Developer",tags:["Hadoop","Java","Mahout","Hibernate","Struts"],organisation:{name:"Uber",image_url:null},time_load:{d0:{id:0,name:"Analysis",value:10},d1:{id:1,name:"Architecture",value:50},d2:{id:2,name:"Operations",value:1},d3:{id:3,name:"Back-end",value:5},d4:{id:4,name:"Front-end",value:5},d5:{id:5,name:"UI/UX",value:20},d6:{id:6,name:"Testing",value:2},d7:{id:7,name:"Code review",value:2},d8:{id:8,name:"Documentation",value:2},d9:{id:9,name:"Data science",value:3}}}];return size=size||sample.length,sample.slice(offset,size)},getDefault:function(){return{title:"Show us how you want to spend your time...",tags:[],organisation:{name:"Your next employer",image_url:null},time_load:{d0:{id:0,name:"Analysis",value:.1},d1:{id:1,name:"Architecture",value:.1},d2:{id:2,name:"Operations",value:.1},d3:{id:3,name:"Back-end",value:.1},d4:{id:4,name:"Front-end",value:.1},d5:{id:5,name:"UI/UX",value:.1},d6:{id:6,name:"Testing",value:.1},d7:{id:7,name:"Code review",value:.1},d8:{id:8,name:"Documentation",value:.1},d9:{id:9,name:"Data science",value:.1}}}}}})},{"../app":1}],186:[function(require,module,exports){function Session($http,$location,$window,$q,$rootScope){function getStoredSession(){var sessString=$window.sessionStorage.getItem("session");return sessString?JSON.parse(sessString):_defaultDataStore}function setStoredSession(session){$rootScope.session=session,$window.sessionStorage.setItem("session",JSON.stringify(session))}function signin(email,password,token){var payload={email:email,password:password},method="post";return token&&($http.defaults.headers.common["x-workshape-token"]=token,payload=null,method="get"),$http[method](base,payload).then(function(response){return $window.localStorage.setItem("workshape-token",response.data.secret),$http.defaults.headers.common["x-workshape-token"]=response.data.secret,refresh().then(function(session){return session.status="success",session})},failedSignin)}function signout(){return $http["delete"](base).then(function(){setStoredSession(_defaultDataStore),$window.localStorage.removeItem("workshape-token"),$http.defaults.headers.common["x-workshape-token"]=null})}function refresh(){var queryToken=$location.search().token||null,token=queryToken||$window.localStorage.getItem("workshape-token")||null;return queryToken&&($window.localStorage.setItem("workshape-token",queryToken),$location.$$search={}),token?$http.defaults.headers.common["x-workshape-token"]=token:debug.log("No Local Storage workshape token set"),$http.get(base).then(successfulSignin,failedSignin)}function data(){var deferred=$q.defer(),queryToken=$location.search().token||null,token=queryToken||$window.localStorage.getItem("workshape-token")||null,sess=getStoredSession();if(dataAccessCount+=1,token){if(!sess||!sess.loggedIn)return refresh();setStoredSession(updateStateParams(sess)),deferred.resolve(getStoredSession())}else deferred.resolve(_defaultDataStore);return deferred.promise}function updateStateParams(session){return session.loggedIn=!0,session.onProfile="/profile"===$location.path().substring(0,8),session.onOwnProfile="/info"===$location.path()||"/shape"===$location.path().substring(0,6)||"/preview"===$location.path().substring(0,8),session}function successfulSignin(response){if(response.status<400){var sess=updateStateParams(response.data);return window.analytics&&window.analytics.identify(sess.id,{name:sess.person?sess.person.first_name+" "+sess.person.last_name:sess.organisation.name+" account",email:sess.email}),setStoredSession(sess),sess}return setStoredSession(_defaultDataStore),!1}function failedSignin(response){return setStoredSession(_defaultDataStore),{status:"error",error:response.data.error}}var _defaultDataStore={loggedIn:!1,onProfile:!1,onOwnProfile:!1},base="/api/1/session",dataAccessCount=0;return{refresh:refresh,data:data,dataAccessCount:dataAccessCount,signin:signin,signout:signout,getToken:function(){return $window.localStorage.getItem("workshape-token")}}}var debug=require("../core/debug"),app=require("../app");app.factory("Session",Session),Session.$inject=["$http","$location","$window","$q","$rootScope"]},{"../app":1,"../core/debug":87}],187:[function(require,module,exports){function Sharing($q,Slug){function twitterShare(options){var deferred=$q.defer(),url=tweetUrlBuilder(options||{});window.open(url,"Tweet","height=500,width=700");var callback=function(e){if(e&&e.data&&"__ready__"!==e.data){var data;try{data=JSON.parse(e.data)}catch(e){deferred.reject(e.data)}data&&data.params&&data.params.indexOf("tweet")>-1?deferred.resolve(e.data):deferred.reject(e)}};return window.addEventListener?window.addEventListener("message",callback,!1):window.attachEvent("onmessage",callback),deferred.promise}function tweetUrlBuilder(options){return["https://twitter.com/intent/tweet?tw_p=tweetbutton&hashtags=workshape"+(options.tags?","+options.tags.join(","):""),"&url=",options.url?encodeURI(options.url):location.href,"&text=",options.text||"Workshape.io - Talent matching for tech startups"].join("")}function facebookShare(url){var deferred=$q.defer();return window.FB.ui({method:"share",href:url},function(res){res&&res.post_id?deferred.resolve(res):deferred.reject(res)}),deferred.pomise}return{share:{facebook:facebookShare,twitter:twitterShare},position:{twitter:function(position){var address=position.location.formatted_address,organisation=position.organisation,tweeter=organisation.twitter?". @"+organisation.twitter:organisation.name;return twitterShare({url:"http://www.workshape.io/p/"+Slug.organisation(organisation)+"/"+position.id,text:tweeter+" is hiring a "+position.title+" in "+address+"!"})},facebook:function(position){var organisation=position.organisation;return facebookShare("http://www.workshape.io/p/"+Slug.organisation(organisation)+"/"+position.id)}}}}var app=require("../app");app.factory("Sharing",Sharing),Sharing.$inject=["$q","Slug"]},{"../app":1}],188:[function(require,module,exports){function Signup($location,$window){return{github:function(){var url="//"+$location.host()+":"+$location.port()+"/api/1/connect/github";$window.location=url+"?redirect=/person/shape"}}}require("../app").factory("Signup",Signup),Signup.$inject=["$location","$window"]},{"../app":1}],189:[function(require,module,exports){require("../app").factory("Skill",function($resource){return $resource("/api/1/skills/:id",{id:"@id"},{promoted:{method:"GET",url:"/api/1/skills/_promoted",isArray:!0},count:{method:"GET",url:"/api/1/skills/_count",isArray:!1},merge:{method:"POST",url:"/api/1/skills/:baseId/merge/:mergeId",params:{baseId:"@baseId",mergeId:"@mergeId"},isArray:!1}})})},{"../app":1}],190:[function(require,module,exports){function slug(str){return str.trim().replace(" ","-").replace(".","-").toLowerCase()}require("../app").factory("Slug",function(){return slug}),slug.organisation=function(organisation){return slug(organisation.name)}},{"../app":1}],191:[function(require,module,exports){function MySocket(socketFactory){var sf=socketFactory();return sf}require("../app").factory("mySocket",MySocket),MySocket.$inject=["socketFactory"]},{"../app":1}],192:[function(require,module,exports){require("../app").factory("Step",function($http,$location,$window,$log){function updateStep(step){return $http.post(base+step).then(function(response){return response},function(error){return $log.log("Something went wrong"),$log.log(error),error})}var base="/api/1/session/step/";return{updateStep:updateStep}})},{"../app":1}],193:[function(require,module,exports){require("../app").factory("Subscription",function($resource){return $resource("/api/1/subscriptions/:id",{id:"@id"},{getForOrganisation:{method:"GET",isArray:!1,cache:!1,url:"/api/1/organisations/:id/subscription"}})}).factory("SubscriptionPlan",function($resource){return $resource("/api/1/subscription-plans/:id",{id:"@id"})}).factory("SubscriptionCoupon",function($resource){return $resource("/api/1/subscription-coupons/:id",{id:"@id"},{getLiveCoupons:{method:"GET",isArray:!0,cache:!1,url:"/api/1/live-subscription-coupons"}})})},{"../app":1}],194:[function(require,module,exports){require("../app").factory("Time",function(){return{getCurrentTime:function(){var currentTime,hour,minute,second;return currentTime=new Date,second=currentTime.getSeconds(),minute=currentTime.getMinutes(),hour=currentTime.getHours()+minute/60,[{unit:"seconds",numeric:second},{unit:"minutes",numeric:minute},{unit:"hours",numeric:hour}]}}})},{"../app":1}],195:[function(require,module,exports){function Tour($location,$window){function getTour(){function onStepComplete(){$window.localStorage.setItem(key,tour.step)}if(!config.MOBILE){var key=getKey($location.path()),tour={step:parseInt($window.localStorage.getItem(key),10)||1,onStepComplete:onStepComplete};return debug.log("Tour for "+key+". Value = "+tour.step+" "+typeof tour.step),tour}}function getKey(path){var parts=path.split("?"),url=parts[0],urlParts=url.split("/"),cleanParts=[];return urlParts.forEach(function(part){/([\d]+)/g.test(part)||cleanParts.push(part)}),cleanParts.join("/")}return{getTour:getTour}}var debug=require("../core/debug"),app=require("../app"),config=require("../config");app.factory("Tour",Tour),Tour.$inject=["$location","$window"]},{"../app":1,"../config":2,"../core/debug":87}],196:[function(require,module,exports){function Verify($http){function verify(id,key){return $http.post(base+id+"/verify/"+key).then(success,fail)}function getStatus(){return{verified:verified,message:message}}function success(response){return 200===response.status?(message=response.data.status,verified=!0,getStatus()):(message=response.data.status,verified=!1,getStatus())}function fail(error){return debug.error(error),getStatus()}var base="/api/1/accounts/",verified=null,message=null;return{verify:verify,getStatus:getStatus}}var debug=require("../core/debug"),app=require("../app");app.factory("Verify",Verify),Verify.$inject=["$http"]},{"../app":1,"../core/debug":87}],197:[function(require,module,exports){require("../app").value("version","1")},{"../app":1}],198:[function(require,module,exports){exports.drawBarChart=function(title,data,target,height){height=300|height,MG.data_graphic({title:title,data:data,x_accessor:"count",y_accessor:"name",chart_type:"bar",width:400,height:height,right:0,target:target,animate_on_load:!0})},exports.bucketLevels=function(data){var buckets=["Junior","Mid","Senior","Lead"].map(function(dim){return{name:dim,count:0}});return data.records.forEach(function(row){buckets[row.level.id-1].count+=1}),buckets},exports.bucketLocations=function(data){var labels={ny:"New York",sf:"San Francisco",lo:"London",be:"Berlin"},buckets=[];for(var key in data)buckets.push({name:labels[key],count:data[key]});return buckets.sort(function(a,b){return b.count-a.count}),buckets}},{}],199:[function(require,module,exports){exports.isIeEqualOrBelow=function(version){var v;return v=-1===navigator.userAgent.indexOf("MSIE")||void 0===window.ActiveXObject?null:document.querySelector?document.addEventListener?window.atob?document.__proto__?11:10:9:8:7,v&&version>=v},exports.isOperaMini=function(){return-1!==navigator.userAgent.indexOf("Opera Mini")}},{}],200:[function(require,module,exports){function getAlignmentString(diffs,base,match,matchType){function getAlignSet(maxDiff){var matches=[];for(var x in diffs)diffs[x].absValue<=maxDiff&&base.time_load[diffs[x].key].value>1&&match[matchType].time_load[diffs[x].key].value>1&&-1===all.indexOf(diffs[x].name)&&matches.push(diffs[x]);return matches}var key,set,i,all=[],output="";for(key in ASPECT_ALIGN)if(set=getAlignSet(ASPECT_ALIGN[key].value),set.length>0){for(output+=" There is "+ASPECT_ALIGN[key].output+" alignment on "+set.map(function(r){return r.name}).join(", ")+".",i=0;i<set.length;i+=1)all.push(set[i].name);if(all.length>1)break}return andify(output)}function andify(sentence){var index=sentence.lastIndexOf(",");return index>-1?sentence.substring(0,index)+" and"+sentence.substring(index+1):sentence}function getMostDifferent(diffs,size){return diffs.slice(diffs.length-size)}function getMostDifferentString(diffs,matchType){var set=getMostDifferent(diffs,1),intent="position"===matchType?"they would want you to":"they want to",indicator=set[0].value<0?"more":"less";return" The biggest difference lies in "+set[0].name+" where "+intent+" spend "+indicator+" time."}function getDiffs(base,match,matchType){var diffs=[];for(var x in base.time_load)diffs.push({key:x,name:base.time_load[x].name,value:base.time_load[x].value-match[matchType].time_load[x].value,absValue:Math.abs(base.time_load[x].value-match[matchType].time_load[x].value)});return diffs.sort(function(a,b){return a.absValue-b.absValue}),diffs}function getStrengthString(match){for(var key in WORKSHAPE_ALIGN)if(WORKSHAPE_ALIGN[key].value<=match.score)return WORKSHAPE_ALIGN[key].output}var WORKSHAPE_ALIGN={PERFECT:{value:100,output:"a perfect"},STRONG:{value:75,output:"a strong"},GOOD:{value:50,output:"a good"},OK:{value:30,output:"an OK"}},ASPECT_ALIGN={PERFECT:{value:0,output:"a perfect"},STRONG:{value:2,output:"a strong"},GOOD:{value:5,output:"a good"},OK:{value:8,output:"an OK"}};exports.get=function(base,match){var commentary,diffs,matchType,strength=getStrengthString(match);return"undefined"==typeof match.position?(matchType="future",commentary=match.future.person.first_name+" is "+strength+" match for your "+base.title+" role."):(matchType="position",
commentary=match.position.organisation.name+"'s "+match.position.title+" role is "+strength+" match for you."),diffs=getDiffs(base,match,matchType),100===match.score?commentary:commentary+getAlignmentString(diffs,base,match,matchType)+getMostDifferentString(diffs,matchType)}},{}],201:[function(require,module,exports){var BANNED_DOMAINS=["gmail.com","hotmail.com","live.com","outlook.com","mac.com","me.com","aol.com","btinternet.com","virgin.net","sky.com","ymail.com","googlemail.com","yahoo.com","mail.ru","msn.com"];exports.isBanned=function(email){var parts=email.trim().toLowerCase().split("@");return 2!==parts.length||BANNED_DOMAINS.indexOf(parts[1])>-1}},{}],202:[function(require,module,exports){function spawnInput(){var input=document.createElement("input");return input.type="file",input.style.display="none",document.body.appendChild(input),input}function triggerClick(element){if(document.createEvent){var clickEvent=document.createEvent("MouseEvents");return clickEvent.initMouseEvent.apply(clickEvent,CLICK_EVENT_MOCK_PARAMS),element.dispatchEvent(clickEvent)}element.fireEvent("onclick")}var CLICK_EVENT_MOCK_PARAMS=["click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null];exports.selectFile=function(callback){var input=spawnInput();input.onchange=function(e){var file=e.target.files[0];callback(file),document.body.removeChild(input)},triggerClick(input)}},{}],203:[function(require,module,exports){function getValueBuckets(){return[{value:0,count:0},{value:5,count:0},{value:10,count:0},{value:15,count:0},{value:20,count:0},{value:25,count:0},{value:30,count:0},{value:35,count:0},{value:40,count:0},{value:45,count:0},{value:50,count:0},{value:55,count:0},{value:60,count:0},{value:65,count:0},{value:70,count:0},{value:75,count:0},{value:80,count:0},{value:85,count:0},{value:90,count:0},{value:95,count:0}]}exports.drawHistogram=function(data,key,target){MG.data_graphic({title:key,data:data,binned:!0,linked:!0,chart_type:"histogram",width:350,height:150,right:0,target:target,x_accessor:"value",y_accessor:"count",mouseover:function(d){var v=d3.round(d.x,2);$(target+" svg .mg-active-datapoint").text("Range: "+v+" - "+(v+5)+"%  Count: "+d.y)}})},exports.bucketData=function(group){var val,x,id,buckets=["Analysis","Architecture","Operations","Back-end","Front-end","UI/UX","Testing","Code review","Documentation","Data science"].map(function(dim){return{name:dim,histo:getValueBuckets()}});return group.records.forEach(function(rec){x=0;for(var key in rec.time_load)val=5*Math.floor(rec.time_load[key].value/5),id=Math.floor(val/5),id>=buckets[x].histo.length&&(id=buckets[x].histo.length-1),buckets[x].histo[id].count+=1,x+=1}),buckets}},{}],204:[function(require,module,exports){var states={ALL:0,UNREVIEWED:1,INTERESTED:2,CONTACTED:3,REJECTED:4,NOT_INTERESTED:5},labels=["All","Unreviewed","Interested","Contacted","Rejected","Not Interested"],explain=["All unrejected matches","Matches that have not been contacted or rejected","Matches that signaled interest in your position","Matches you messaged","Matches you rejected","Matches that rejected the position (Not visible)"];module.exports={states:states,labels:labels,tabs:Object.keys(states).map(function(key,i){return{state:states[key],label:labels[i],key:key,index:i,explain:explain[i]}})}},{}],205:[function(require,module,exports){var scrollToY=require("scroll-to-y");exports.reveal=function(){setTimeout(function(){var messaging=document.getElementById("messaging"),top=messaging?messaging.offsetTop:null;scrollToY(top,1e3,"easeInOutQuint")})}},{"scroll-to-y":260}],206:[function(require,module,exports){exports.zeroPad=function(n,width,z){return z=z||"0",n+="",n.length>=width?n:new Array(width-n.length+1).join(z)+n}},{}],207:[function(require,module,exports){var moment=require("moment"),numberUtil=require("../utils/number");exports.getRemaining=function(position){if(!position.expiry)return null;var now=new Date,expiry=new Date(position.expiry),timeDiff=expiry.getTime()-now.getTime(),output=Math.ceil(timeDiff/864e5);return output===-0?0:output},exports.getCountdown=function(position){var expiry=new Date(position.expiry),now=new Date,duration=moment.duration(expiry-now,"milliseconds"),days=Math.floor(duration.asDays()),d=days>0?days+(days>1?" days ":" day "):"",h=numberUtil.zeroPad(duration.hours(),2),m=numberUtil.zeroPad(duration.minutes(),2),s=numberUtil.zeroPad(duration.seconds(),2);return d+h+":"+m+":"+s}},{"../utils/number":206,moment:259}],208:[function(require,module,exports){var _=require("lodash"),DEFAULTS={site_name:"Workshape.io",title:"Talent matching for tech startups",description:"How do you want to spend your time in your next role?",image:"http://www.workshape.io/images/assets/og-big.jpg",keywords:"tech job, tech, startup tech, startup job, js jobs, javascript job, tech job london, tech job sf, tech job nyc, front end role, front end job, recruitment, engineer, workshape, career, job, job matching, job search, talent matching, talent matching for tech, startups, talent, shape, future, no cvs, no recruiters, startup jobs, angularjs jobs, react jobs, startup jobs london, startup jobs san francisco",url:"http://workshape.io"};exports.newPage=function(options){options=_.extend({},DEFAULTS,options||{},!0),exports.set(options)},exports.set=function(options){var key,meta,ogmeta;(options.site_name||options.title)&&(document.title=(options.site_name||DEFAULTS.site_name)+" - "+options.title);for(key in options)options.hasOwnProperty(key)&&(meta=document.querySelector('meta[name="'+key+'"]'),ogmeta=document.querySelector('meta[property="og:'+key+'"]'),meta&&meta.setAttribute("content",options[key]),ogmeta&&ogmeta.setAttribute("content",options[key]))}},{lodash:256}],209:[function(require,module,exports){"use strict";function tweetUriBuilder(o){return o.tags||(o.tags=[]),["https://twitter.com/intent/tweet?tw_p=tweetbutton&hashtags=workshape"+o.tags.join(","),"&url=",encodeURI(o.url),"&text=",o.text].join("")}exports.twitterShare=function(path,text,tags){var url=tweetUriBuilder({url:"http://www.workshape.io/"+path,text:text,tags:tags});window.open(url,"Tweet","height=500,width=700");var callback=function(e){if(e&&e.data){var data;try{data=JSON.parse(e.data)}catch(e){}data&&data.params&&data.params.indexOf("tweet")>-1}};window.addEventListener?window.addEventListener("message",callback,!1):window.attachEvent("onmessage",callback)},exports.facebookShare=function(url){FB.ui({method:"share",href:"http://www.workshape.io/"+url},function(response){response&&response.post_id})}},{}],210:[function(require,module,exports){var FEATURES=["Analysis","Architecture","Operations","Back-end","Front-end","UI/UX","Testing","Code review","Documentation","Data science"];exports.getDefault=function(){var i,time_load={},avg=100/FEATURES.length;for(avg=.1,i=0;i<FEATURES.length;i+=1)time_load["d"+i]={id:i,name:FEATURES[i],value:avg};return time_load},exports.getBlank=function(value){return value="number"==typeof value?value:0,{d0:{id:0,name:"Analysis",value:value},d1:{id:1,name:"Architecture",value:value},d2:{id:2,name:"Operations",value:value},d3:{id:3,name:"Back-end",value:value},d4:{id:4,name:"Front-end",value:value},d5:{id:5,name:"UI/UX",value:value},d6:{id:6,name:"Testing",value:value},d7:{id:7,name:"Code review",value:value},d8:{id:8,name:"Documentation",value:value},d9:{id:9,name:"Data science",value:value}}},exports.getAverage=function(timeloads){var values={},out={};return timeloads.forEach(function(timeload){Object.keys(timeload).forEach(function(key){values[key]||(values[key]=[]),values[key].push(timeload[key])})}),Object.keys(values).forEach(function(key){var total=0;values[key].forEach(function(point){total+=point.value}),out[key]={id:values[key][0].id,name:values[key][0].name,value:total/values[key].length}}),out},exports.normalise=function(timeload){var altered={},sum=0;for(var x in timeload)timeload[x].value=parseFloat(timeload[x].value,10),sum+=timeload[x].value;if(100!==sum){for(var y in timeload)altered[y]=timeload[y],altered[y].value=100/sum*timeload[y].value;timeload=altered}return timeload},exports.total=function(timeload){var sum=0;if("undefined"==typeof timeload)return 0;for(var x in timeload)timeload[x].value=parseFloat(timeload[x].value,10),sum+=timeload[x].value;return sum}},{}],211:[function(require,module,exports){function createKey(_keys_,currentKey){var formKey,keys=_.cloneDeep(_keys_);return keys.push(currentKey),formKey=keys.shift(),keys.length&&(formKey+="["+keys.join("][")+"]"),formKey}function addToFd(fd,object,keys){var key,value,formKey,file,i;for(key in object)if(object.hasOwnProperty(key))if(value=object[key],formKey=createKey(keys,key),value instanceof File)fd.append(formKey,value);else if(value instanceof FileList)if(1===value.length)fd.append(formKey,value[0]);else for(i=0;i<value.length;i++)file=value[i],fd.append(formKey+"["+i+"]",file);else if(value&&("object"==typeof value||value instanceof Array)){var _keys=_.cloneDeep(keys);_keys.push(key),addToFd(fd,value,_keys)}else fd.append(formKey,value)}var _=require("lodash");exports.multipart=function(data,getHeaders){var headers=getHeaders(),fd=new FormData;return headers["Content-Type"]=void 0,data?(addToFd(fd,data,[]),fd):data}},{lodash:256}],212:[function(require,module,exports){module.exports={"":{$:1.56,"":1.4},$:{"":.64,"":.9},"":{"":.71,$:1.11}}},{}],213:[function(require,module,exports){module.exports=[{id:"sublime-text",label:"SublimeText"},{id:"vim",label:"Vim"},{id:"eclipse",label:"Eclipse"},{id:"emacs",label:"Emacs"},{id:"notepad",label:"Notepad++"},{id:"intellij",label:"IntelliJ"},{id:"visual-studio",label:"Visual Studio"},{id:"dreamweaver",label:"Dreamweaver"},{id:"netbeans",label:"NetBeans"},{id:"brackets",label:"Brackets"},{id:"phpstorm",label:"PhpStorm"},{id:"xcode",label:"Xcode"},{id:"atom",label:"Atom"},{id:"coda",label:"Coda"}]},{}],214:[function(require,module,exports){module.exports=["Austria","Belgium","Bulgaria","Croatia","Cyprus","Czech Republic","Denmark","Estonia","Finland","France","Germany","Greece","Hungary","Ireland","Italy","Latvia","Lithuania","Luxembourg","Malta","Netherlands","Poland","Portugal","Romania","Slovakia","Slovenia","Spain","Sweden","Monaco","Andorra","San Marino","Vatican City"]},{}],215:[function(require,module,exports){module.exports=["Austria","Belgium","Bulgaria","Croatia","Cyprus","Czech Republic","Denmark","Estonia","Finland","France","Germany","Greece","Hungary","Iceland","Ireland","Italy","Latvia","Lithuania","Luxembourg","Malta","Netherlands","Norway","Poland","Portugal","Romania","Slovakia","Slovenia","Spain","Sweden","Switzerland","United Kingdom","Liechenstein","Monaco","Andorra","San Marino","Vatican City"]},{}],216:[function(require,module,exports){module.exports={"ceo-interview":{type:"interview",name:"CEO Interview",icon:"conversation",tag:"ceo",description:"1-2-1 interview with the leader of the business. If it is part of the process, the CEO Interview is typically the most important single event in that process, with the successful outcome usually resulting in an offer to join the business. In traditional hiring process, the CEO interview is the last event in the hiring process, typically after several rounds of assessment by subordinate members of the team."},"manager-interview":{type:"interview",name:"Hiring Manager Interview",icon:"conversation",tag:"Manager",description:"1-2-1 interview with the manager who made the requisition for the hire. The Hiring Manager is usually the budget holder, key executive decision maker and post hire performance manager. Comparable to to CEO Interview in terms of importance. Typically covers job knowledge, functional competence and interpersonal rapport."},"peer-interview":{type:"interview",name:"Peer Interview",icon:"conversation",tag:null,description:"Either 1-2-1 interview, a sequence of 1-2-1 interviews with or a panel interview with several members of the team. The peer interview usually takes places when teamwork & team fit are considered important and when endorsement of present team members important for the success of the future hire. Usually covers job knowledge, functional competence and interpersonal rapport."},"hr-interview":{type:"interview",name:"HR / Recruiter Interview",icon:"conversation",tag:"HR",description:"1-2-1 interview with the HR / Recruiter. Usually the first interview conducted if the HR / Recruiter has candidate management responsibilities but may be the last one if the Hiring Manager has those responsibilities. Usually covers communication of hiring process, assessment criteria and employer branding. May involve some assessment, especially if recruiter has training in competency, scenario or personality based interview techniques."},"360-interview":{type:"interview",name:"360 Degree Interview",icon:"conversation",tag:null,description:"Interview by members of the existing team that have relationships to the future hires beyond being team member or manager. These might be interviews by future direct reports (subordinates) or by members of different teams or by managers of different teams. Usual format are a number of sequential interviews by different stakeholders."},"panel-interview":{type:"interview",name:"Panel Interview",icon:"conversation",tag:null,description:"1-2-many interview where candidate meets several interviewers in a single interview event. Interviewers will often represent different interests or have different areas of interview to cover, or play roles of actor vs observer."},"group-interview":{type:"interview",name:"Group Interview",icon:"users",tag:null,description:"Many-2-1 or Many-2-Many where multiple candidates are present at a single interview event. Usually a precursor or wash-up from team exercise or assessment centre. Often used as an efficiency measure, most typically for graduate or entry level roles, where there are multiple candidates and multiple opportunities of the same type."},"telephone-prescreen":{type:"interview",name:"Panel Interview",icon:"phone",tag:null,description:"1-2-1 conversation via telephone, usually conducted by Hiring Manager or HR/Recruiter. Used to confirm assumptions of candidate interest & job criteria, and to remove ambiguity for both sides. Occasionally used to assess Job Knowledge / Interpersonal rapport."},"video-interview":{type:"interview",name:"Video Interview",icon:"webcam",tag:null,description:"1-2-1 or 1-2-many interview via video conference, usually conducted by Hiring Manager or HR / Recruiter. An alternative medium to telephone interview, that nonetheless fulfills a similar purpose - confirming basic assumptions, removing areas of ambiguity, and occasionally used to assess Job Knowledge / Interpersonal rapport."},"meal-interview":{type:"interview",name:"Coffee / Food Interview",icon:"food",tag:null,description:"Interview over lunch, dinner or coffee. Can be in a 1-2-1 or in group setting. Usually takes place as a final exercise for candidates who have advanced far into the interview process, and used as a method of either selecting between suitable candidates, or as the beginning of a negotiation for an offer or role."},"portfolio-interview":{type:"interview",name:"Portfolio Interview",icon:"document",tag:null,description:"1-2-1 or Panel interview where the focus of the discussion is on the candidates previous work. The aim is to understand the candidates design philosophy, using real life examples to illustrate. Common in all creative professions such as Interior Design, Graphic Design and Architecture etc."},"cv-review":{type:"assessment",name:"CV / Portfolio review",icon:"document",tag:null,description:"Candidate is asked to submit a resume or summary of past history of work, which will be assessed for job knowledge / functional competence by team members, Hiring Manager or HR / Recruiter. Still a standard part of almost all white collar hiring processes, the submission of a CV is still taken as a signal of interest and the activation of a candidate."},"tech-test-offsite":{type:"assessment",name:"Remote Tech Test",icon:"code-file",tag:null,description:"Coding exercise to be completed by the candidate off site. Can be proprietary coding test or one provided by the 3rd party supplier. Candidate is typically sent instructions and must respond with a completed exercise within a given time frame. The coding challenge is usually a pass / fail exercise."},"tech-test-onsite":{type:"assessment",name:"On-Site Tech Test",icon:"code-file",tag:null,description:"Coding exercise to be completed by the candidate on site, typically in conjunction with an existing team member or Hiring Manager. The exercise may be a fabricated problem or a real world programming task. The aim is to understand the candidates coding approach, communication skills and ability to problem solve on the fly."},"code-sample-review":{type:"assessment",name:"Code Sample Review",icon:"code-review",tag:null,description:"Candidate submits a sample of code for technical team to review."},whiteboard:{type:"assessment",name:"Whiteboard",icon:"board",tag:null,description:"Classic technical assessment exercise - a whiteboard session with technical team. Candidate will be asked to explain his method in tackling a problem, thinking on the fly whilst questions come in from the team."},"technical-interview":{type:"assessment",name:"Technical Interview",icon:"gear",tag:null,description:"Structured interview where candidates job knowledge / functional competence is assessed according the answers he provides to the interviewer. Similar to logical reasoning questions, this format is falling out of favour compared to coding challenges."},"code-sample-review":{type:"assessment",name:"Code Sample Review",icon:"code-review",tag:null,description:"Candidate submits a sample of code for technical team to review."},"coding-competition":{type:"assessment",name:"Coding Competition",icon:"activities",tag:null,description:"Job knowledge / functional competence is assessed through open competition on a coding exercise. Multiple competitors can be involved in solving a problem with high performing candidates being adjudged to have passed the technical assessment."},hackaton:{type:"assessment",name:"Hackaton",icon:"hackday",tag:null,description:"Technical assessment is conducted informally through the candidates behaviour and contributions in a hackathon. Multiple candidates and multiple assessors from the existing team are usually involved."},"paid-day":{type:"assessment",name:"Paid Day",icon:"credit",tag:null,description:"Candidate performs one day of paid work in his prospective job role, typically in the team he will be joining, on work he will be doing. The aim to bring the assessment as to close to the real world as possible and make technical assessments in its most natural setting. Requires significant commitment from both parties and so usually only takes place after all other considerations have already been affirmed."},"psychometric-test":{type:"assessment",name:"Psychometric Test",icon:"psychology",tag:null,description:"Multiple choice questionnaire following one of the accepted paradigms of psychometric assessment, the aim of which is to reveal the personality type of the assessed candidate. There is rarely a pass / fail outcome but the data is used as a material for further assessment or future performance management."},"numerical-reasoning":{type:"assessment",name:"Coding Competition",icon:"math",tag:null,description:"Timed, multiple choice questionnaire targeting the candidates numeracy and facility with calculation. Most typically used in graduate assessments, especially for top tier oversubscribed employers."},"verbal-reasoning":{type:"assessment",name:"Verbal Reasoning",icon:"puzzle",tag:null,description:"Timed, multiple choice questionnaire targeting the candidates facility with language. Most typically used in graduate assessments, especially for top tier oversubscribed employers."},"logical-puzzles":{type:"assessment",name:"Logical Puzzles",icon:"puzzle",tag:null,description:"Timed, single answer exercise, targeting the ability of the candidate to size the problem, use approximations and provide solutions. Most typically used in graduate assessments, especially for top tier oversubscribed employers."},"team-exercise":{type:"assessment",name:"Team Exercise",icon:"users",tag:null,description:"Multiple candidates assemble into competitive teams in order to solve a particular challenge. Usually disguised as a problem solving assessment, in reality it is an assessment of candidates behaviour in a team - who leads, who follows, who dominates, who acquiesces."},"reference-check-overt":{type:"assessment",name:"Reference Check (Overt)",icon:"certificate",tag:null,description:"Post offer conversation with previous employers, team members or managers nominated by the offered candidate. Usually taken over telephone, though occasionally written testimonials are requested."},"reference-check-covert":{type:"assessment",name:"Reference Check (Covert)",icon:"certificate",tag:null,description:"Conversation with previous employers, team members or managers, conducted without the consent or awareness of the candidate. Can take place before offer and usually handled in an informal manner, almost always by telephone call."},"yes-no":{type:"decision-making",name:"Yes / No",icon:"choice",tag:null,description:"Candidate is assessed on a yes or no after the assessment event"},grade:{type:"decision-making",name:"Grade",icon:"bars-level-2",tag:null,description:"Candidate is given a grade on an internal scale, with the decision to deferred until all assessments are completed"},percentile:{type:"decision-making",name:"Percentile",icon:"percent",tag:null,description:"Candidate is given a grade on an internal scale, with the decision to deferred until all assessments are completed and all candidates are scored. Highest percentile of candidates above the grade get offered"}}},{}],217:[function(require,module,exports){function getInfo(location){if(!location||!location.address_components)return"";var info={locality:null,level:null,country:null};return location.address_components.forEach(function(x){x.types&&x.types.indexOf("locality")>-1&&(info.locality=x.long_name),x.types&&x.types.indexOf("administrative_area_level_1")>-1&&(info.level=x.long_name),x.types&&x.types.indexOf("country")>-1&&(info.country=x.long_name)}),info}var EU_SINGLE_MARKET_COUNTRIES=require("./eu-market-countries.json"),EU_CURRENCY_COUNTRIES=require("./eu-currency-countries.json");exports.getInfo=getInfo,exports.isInEUSingleMarket=function(location){var info=getInfo(location);return info.country?EU_SINGLE_MARKET_COUNTRIES.indexOf(info.country)>-1:!1},exports.isInEUCurrency=function(location){var info=getInfo(location);return info.country?EU_CURRENCY_COUNTRIES.indexOf(info.country)>-1:!1},exports.isInUK=function(location){var info=getInfo(location);return info.country?"United Kingdom"===info.country:!1},exports.isInUS=function(location){var info=getInfo(location);return info.country?"United States"===info.country:!1},exports.getCityAndCountry=function(location){var info=getInfo(location);return info.locality&&info.country?info.locality+", "+info.country:info.level&&info.country?info.level+", "+info.country:info.locality?info.locality:info.level?info.level:info.country?info.country:"N/A"}},{"./eu-currency-countries.json":214,"./eu-market-countries.json":215}],218:[function(require,module,exports){module.exports={equity:{label:"Equity",color:"#c77e64",icon:"pie-chart",description:"The company provides equity (Shares or options) to its employees"},"flat-organisation":{label:"Flat Organisation",color:"#f0bb8c",icon:"flat-structure",description:"The company doesn't follow a traditional vertical hierarchical structure"},"learn-develop":{label:"L&D Budget",color:"#6acbdd",icon:"learning",description:"Employees receive a Learn & Develop budget for conferences, seminars, classes to keep staff learning"},bonuses:{label:"Bonuses",color:"#f4b72e",icon:"bonus",description:"Employees receive performance-based bonuses"},healthcare:{label:"Healthcare",color:"#f07251",icon:"healthcare",description:"Healthcare packages for employees"},"pension-plans":{label:"Pension Plans",color:"#b0796a",icon:"elder",description:"Looking out for employees in the long-term"},"open-source":{label:"Open Source",color:"#495d78",icon:"repository",description:"The company produces open-source code"},"flexible-hours":{label:"Flexible Hours",color:"#e1c169",icon:"flexible-time",description:"Pushing for good results, with an indipendent time-management approach"},"work-from-home":{label:"Work From Home",color:"#c37038",icon:"house",description:"The company allows a certain deal of flexibility working from home"},hackdays:{label:"Hack Days",color:"#66c7c5",icon:"hackdays",description:"Periodical hack-days - The best ideas come from creative people"},retrospectives:{label:"Retrospectives",color:"#77c8a7",icon:"retrospective",description:"The team has a chance to review and change the working process on a weekly basis"},"code-reviews":{label:"Code Reviews",color:"#97cf94",icon:"code-review",description:"Periodically enforced code reviews to help people develop their skills"},activities:{label:"Team Activities",color:"#e7cc4b",icon:"activities",description:"Team building activities, organised events to boost morale."},events:{label:"Events",color:"#f05c23",icon:"event",description:"Events, conferences, meetups organised by the company - Involvement in the community is important!"},"expenses-card":{label:"Expenses Card",color:"#8c4121",icon:"credit-card",description:"A small personal budget at company's expenses"},"city-center":{label:"City Center",color:"#3671a5",icon:"pin",description:"Uptown office - easy commute, great view!"},"hi-tech":{label:"Hi-Tech",color:"#56c2b6",icon:"workstation",description:"A solid budget to build your perfect workstation."},travelling:{label:"Travelling",color:"#71cdef",icon:"flight",description:"Travel / relocation options."},"standing-desks":{label:"Standing Desks",color:"#f38297",icon:"standing-desk",description:"Healthier workstations!"},classes:{label:"Classes",color:"#86c984",icon:"yoga",description:"E.g. Yoga classes or other activities organised by the company."},"chill-out":{label:"Chill Out",color:"#8ad0c1",icon:"sofa",description:"Games / chill out space in the office."},"meal-deals":{label:"Meal Deals",color:"#f4b35f",icon:"food",description:"Company lunches / Local restaurant deals / Food provided."},"coffee-machine":{label:"Coffee Machine",color:"#b55f40",icon:"coffee",description:"No wasting money and time for quality coffee - key to productive engineering!"},"table-tennis":{label:"Table Tennis",color:"#da664a",icon:"table-tennis",description:"Wiff-waff table / tournaments in the office - Nothing better to relax!"},"pool-table":{label:"Pool Table",color:"#c19c7e",icon:"8-ball",description:"Pool table / tournaments in the office - Feeling competitive?"},foosball:{label:"Foosball",color:"#e84c2b",icon:"foosball",description:"Foosball table / tournaments on the office - Sharpen your game!"},drinks:{label:"Free Drinks",color:"#e97ba2",icon:"drink",description:"Company is on the rounds / delivery of beverages"},swag:{label:"Swag",color:"#faa447",icon:"swag",description:"Gadgets / clothing to show off"},talks:{label:"Company Talks",color:"#4aa3c9",icon:"microphone",description:"In-house talks to train employees to public speaking and inspire staff"},"paid-commute":{label:"Paid Commute",color:"#f2a977",icon:"transports",description:"Commuting is expensive! Unless the company pays, of course.."},gym:{label:"Gym Deals",color:"#9d7e69",icon:"weight",description:"Discounts or even covered subscription to a gym - Keep staff fit!"},"nerf-guns":{label:"Nerf Guns",color:"#f3c460",icon:"nerf-gun",description:"Office Nerf Guns (For protection only, of course..)"}}},{}],219:[function(require,module,exports){module.exports={windows:{content:"\\e800",aliases:[]},django:{content:"\\e63a",aliases:[]},powershell:{content:"\\e63f",aliases:["windowspowershell","windowsshell"]},asp:{content:"\\e63c",aliases:["aspnet"]},websockets:{content:"\\e63e",aliases:["sockets","websocket"]},expressjs:{content:"\\e63d",aliases:["express"]},unity:{content:"\\e641",aliases:["unity3d","unity2d","unity5"]},ux:{content:"\\e638",aliases:["ui","uiux","uxui","userinterface"]},design:{content:"\\e639",aliases:["graphicdesign","digitaldesign"]},python:{content:"\\e637",aliases:[]},stylus:{content:"\\e600",aliases:["styluscss"]},swift:{content:"\\e601",aliases:[]},svg:{content:"\\e602",aliases:[]},codeigniter:{content:"\\e603",aliases:[]},gulp:{content:"\\e604",aliases:["gulpjs"]},postgres:{content:"\\e605",aliases:["postgresql"]},inkscape:{content:"\\e606",aliases:[]},illustrator:{content:"\\e607",aliases:["adobeillustrator","adobephotoshopcc","illustratorcs6","illustratorcs5","illustratorcs4","illustratorcs"]},photoshop:{content:"\\e608",aliases:["adobephotoshop","adobephotoshopcc","photoshopcs6","photoshopcs5","photoshopcs4","photoshopcs"]},ios:{content:"\\e609",aliases:["cocoa","objectivec","objc","cobj"]},net:{content:"\\e60a",aliases:["microsoftnet"]},linux:{content:"\\e60b",aliases:["unix"]},zend:{content:"\\e60c",aliases:["zendframework"]},less:{content:"\\e60d",aliases:["lesscss"]},symphony:{content:"\\e60e",aliases:[]},drupal:{content:"\\e60f",aliases:["drupalcms"]},android:{content:"\\e610",aliases:[]},grunt:{content:"\\e611",aliases:["gruntjs"]},travis:{content:"\\e612",aliases:["travisci"]},d3:{content:"\\e613",aliases:["d3js"]},mustache:{content:"\\e614",aliases:[]},angular:{content:"\\e615",aliases:["angularjs"]},backbone:{content:"\\e616",aliases:["backbonejs"]},handlebars:{content:"\\e617",aliases:["handlebarsjs"]},react:{content:"\\e618",aliases:["reactjs"]},java:{content:"\\e619",aliases:["j2se","j2ee","j2me"]},mongo:{content:"\\e61a",aliases:["mongodb"]},redis:{content:"\\e61b",aliases:["hiredis"]},heroku:{content:"\\e61c",aliases:[]},rails:{content:"\\e61d",aliases:["rubyonrails"]},sass:{content:"\\e61e",aliases:["scss","sasscss","scsscss"]},haskell:{content:"\\e61f",aliases:[]},scala:{content:"\\e620",aliases:[]},aws:{content:"\\e621",aliases:["amazonwebservices"]},perl:{content:"\\e622",aliases:[]},chef:{content:"\\e623",aliases:[]},puppet:{content:"\\e624",aliases:[]},clojure:{content:"\\e625",aliases:[]},erlang:{content:"\\e626",aliases:[]},lisp:{content:"\\e627",aliases:["commonlisp"]},csharp:{content:"\\e628",aliases:["c#"]},go:{content:"\\e629",aliases:["golang"]},coffeescript:{content:"\\e62a",aliases:["coffee"]},c:{content:"\\e62b",aliases:[]},cplusplus:{content:"\\e62c",aliases:["c++"]},jquery:{content:"\\e62d",aliases:[]},js:{content:"\\e62e",aliases:["javascript"]},nodejs:{content:"\\e62f",aliases:["node"]},php:{content:"\\e630",aliases:[]},ruby:{content:"\\e631",aliases:[]},git:{content:"\\e632",aliases:[]},shell:{content:"\\e633",aliases:["bash","terminal"]},html5:{content:"\\e634",aliases:[]},html:{content:"\\e635",aliases:[]},css3:{content:"\\e636",aliases:["css"]}}},{}],220:[function(require,module,exports){module.exports=["chevron-right","angellist","behance","bitbucket","blogger","crunchbase","deviantart","dribbble","facebook","flickr","github","googleplus","hackernews","klout","lanyrd","linkedin","meetup","mixcloud","pinterest","quora","reddit","soundcloud","stackoverflow","tumblr","twitter","typepad","vimeo","wordpress","xing","youtube","email"]},{}],221:[function(require,module,exports){module.exports='<div class="bar-chart"><div ng-repeat="segment in data" class="segment"><label title="{{ segment.label | humanize }}">{{ segment.label | humanize }}</label><div class="bar"><div ng-style="{ width: (segment.value * 100) / max + &quot;%&quot;, background: getColor(segment.value) }" class="fill"></div></div></div><div ng-if="ticks.length" class="segment ticks"><div ng-repeat="tick in ticks" ng-style="{ left: tick.percent + &quot;%&quot; }" class="tick"><span>{{ tick.value }}</span></div></div></div>'},{}],222:[function(require,module,exports){
module.exports='<div class="bar-split"><ul><li ng-repeat="bar in bars"><span ng-style="{ background: bar.color }" class="color"></span><span class="label">{{ bar.label }}</span><span class="display">{{ bar.display }}%</span></li></ul><div class="bar"><span ng-repeat="bar in bars" ng-style="{ width: bar.percent + &quot;%&quot;, background: bar.color }" class="bar-section"></span></div></div>'},{}],223:[function(require,module,exports){module.exports='<span tabindex="0" ng-class="{ editing: view.editorEnabled }" class="editable editable-editor"><a ng-show="!view.editorEnabled &amp;&amp; !forceEnabled" ng-click="enableEditor()" ng-enter="enableEditor()"><div ng-if="!value" class="placeholder">{{ placeholder || "Editor of choice" }}</div><div ng-if="value" class="trigger"><editor-icon editor="value"></editor-icon></div></a><div ng-show="view.editorEnabled || forceEnabled" class="choices trigger"><a ng-repeat="editor in editors" ng-click="setValue(editor.id)" ng-class="{ active: value === editor.id }" tabindex="0"><editor-icon editor="editor.id"></editor-icon></a></div></span>'},{}],224:[function(require,module,exports){module.exports='<span tabindex="0" class="editable"><a ng-show="!view.editorEnabled" ng-click="enableEditor()" ng-enter="enableEditor()" ng-class="{ placeholder: !value, trigger: value }" tabindex="0">{{ value || placeholder }}</a><input type="{{ type }}" placeholder="{{ placeholder }}" ng-show="view.editorEnabled" ng-model="view.editableValue" maxlength="{{ limit }}"/></span>'},{}],225:[function(require,module,exports){module.exports='<span tabindex="0" ng-class="{ editing: view.editorEnabled || forceEnabled }" class="editable editable-level"><a ng-show="!view.editorEnabled &amp;&amp; !forceEnabled" ng-click="enableEditor()" ng-enter="enableEditor()"><div ng-if="!level" class="placeholder">{{ placeholder }}</div><div ng-if="level" class="trigger"><span ng-class="className + &quot;-&quot; + level.id" class="work-tag">{{ level.name }}</span></div></a><div ng-show="view.editorEnabled || forceEnabled" class="levels trigger"><a ng-repeat="lvl in levels" ng-click="setLevel(lvl)" ng-class="[ level.id === lvl.id ? &quot;selected&quot; : null, className + &quot;-&quot; + lvl.id ]" data-id="{{ lvl.id }}" tabindex="0" class="work-tag small">{{ lvl.name }}</a></div></span>'},{}],226:[function(require,module,exports){module.exports='<span tabindex="0" class="editable location"><a ng-show="!view.editorEnabled &amp;&amp; !forceEnabled" ng-click="enableEditor()" ng-enter="enableEditor()" ng-class="{ placeholder: !value, trigger: value, large: size === &quot;large&quot;, small: size === &quot;small&quot; }" tabindex="0">{{ value || placeholder }}</a><input style="width: {{ width }}" type="{{ type }}" placeholder="{{ placeholder }}" ng-show="view.editorEnabled || forceEnabled" ng-model="view.editableValue" ng-class="{ large: size === &quot;large&quot;, small: size === &quot;small&quot; }" details="view.details" options="options" ng-autocomplete="ng-autocomplete"/></span>'},{}],227:[function(require,module,exports){module.exports='<span tabindex="0" ng-class="{ editing: view.editorEnabled }" class="editable editable-os"><a ng-show="!view.editorEnabled &amp;&amp; !forceEnabled" ng-click="enableEditor()" ng-enter="enableEditor()"><div ng-if="!value" class="placeholder">{{ placeholder || "OS of choice" }}</div><div ng-if="value" class="trigger"><div ng-class="&quot;os-icon-&quot; + value" class="os-icon"><div class="icon"></div><div class="label">{{ value | humanize }}</div></div></div></a><div ng-show="view.editorEnabled || forceEnabled" class="choices trigger"><a ng-click="setValue(&quot;osx&quot;)" tabindex="0" ng-class="{ active: value === &quot;osx&quot; }"><span class="os-icon os-icon-osx"><div class="icon"></div><div class="label">OSX</div></span></a><a ng-click="setValue(&quot;linux&quot;)" tabindex="0" ng-class="{ active: value === &quot;linux&quot; }"><span class="os-icon os-icon-linux"><div class="icon"></div><div class="label">Linux</div></span></a><a ng-click="setValue(&quot;windows&quot;)" tabindex="0" ng-class="{ active: value === &quot;windows&quot; }"><span class="os-icon os-icon-windows"><div class="icon"></div><div class="label">Windows</div></span></a></div></span>'},{}],228:[function(require,module,exports){module.exports='<a tabindex="0" class="editable editable-tag-list"><div ng-if="skills.length" class="skills trigger skill-selector"><skill-tag ng-if="skills.length" ng-repeat="skill in skills" skill="skill" count="skill.count" optional="optional"></skill-tag></div><div ng-if="!skills.length" class="placeholder">{{ placeholder || "Choose Skills" }}</div></a>'},{}],229:[function(require,module,exports){module.exports='<div tabindex="0" class="editable editable-list"><a ng-show="!view.editorEnabled &amp;&amp; !forceEnabled" ng-click="enableEditor()" ng-enter="enableEditor()" tabindex="0" class="clearfix"><div ng-if="tags.length" class="tags-display"><div ng-repeat="tag in tags" class="tag">{{ tag.name }}</div></div><span ng-show="!tags.length" class="placeholder">{{ placeholder }}</span></a><tag-manager ng-model="tags" ng-show="view.editorEnabled || forceEnabled" dp="false"></tag-manager></div>'},{}],230:[function(require,module,exports){module.exports='<span tabindex="0" class="editable"><a ng-show="!view.editorEnabled" ng-click="enableEditor()" ng-enter="enableEditor()" ng-class="{ placeholder: !value, trigger: value }" tabindex="0">{{ value || placeholder }}</a><textarea type="{{ type }}" placeholder="{{ placeholder }}" ng-show="view.editorEnabled" ng-model="view.editableValue" maxlength="{{ limit }}"></textarea></span>'},{}],231:[function(require,module,exports){module.exports='<span ng-class="&quot;editor-icon-&quot; + editor + &quot; &quot; + size" class="editor-icon"><div class="icon"></div><div class="label">{{ label }}</div></span>'},{}],232:[function(require,module,exports){module.exports='<section class="progressive-form"><div ng-if="!locationOnly" class="progress"><div ng-style="{ width: (completed * 100) / steps.length + &quot;%&quot; }" class="bar"></div></div><form ref="step" ng-submit="nextStep()" class="form-step center"><h3 class="light">What\'s your full name?</h3><input type="text" ng-model="full_name" placeholder="First and last name" autofocus="autofocus" class="block large center"/><button ng-disabled="!valid.name" type="submit" class="button-primary large">Next <i class="icon-chevron-right"></i></button></form><form ref="step" ng-submit="nextStep()" class="form-step center"><h3 class="light">What job title best describes what you do?</h3><input type="text" ng-model="future.title" placeholder="E.g. Front End Developer" autofocus="autofocus" class="block large center"/><a ng-click="previousStep()" class="button large"><i class="icon-chevron-left"> </i>Previous</a><button ng-disabled="!valid.title" type="submit" class="button-primary large">Next <i class="icon-chevron-right"></i></button></form><form ref="step" ng-submit="nextStep()" class="form-step center"><h3 class="light">Describe the work you want to do</h3><textarea ng-model="about" placeholder="In a few words" class="block large center"></textarea><a ng-click="previousStep()" class="button large"><i class="icon-chevron-left"> </i>Previous</a><button ng-disabled="!valid.about" type="submit" class="button-primary large">Next <i class="icon-chevron-right"></i></button></form><form ref="step" ng-submit="nextStep()" class="form-step center"><h3 class="light">What label best describes your current level of experience?</h3><editable-levels level="future.level" default-active="true"></editable-levels><a ng-click="previousStep()" class="button large"><i class="icon-chevron-left"> </i>Previous</a><button ng-disabled="!valid.level" type="submit" class="button-primary large">Next <i class="icon-chevron-right"></i></button></form><div ref="step" class="form-step center"><h3 class="light">What type of work are you most interested in?</h3><editable-contract-type level="future.contract_type" default-active="true"></editable-contract-type><a ng-click="previousStep()" class="button large"><i class="icon-chevron-left"> </i>Previous</a><button ng-disabled="!valid.contract" ng-click="nextStep()" class="button-primary large">Next <i class="icon-chevron-right"></i></button></div><div ref="step" class="form-step center"><h3 class="light">What tech stack do you want to use?</h3><editable-skills skills="future.skills" placeholder="&quot;Choose skills&quot;"></editable-skills><br/><a ng-click="previousStep()" class="button large"><i class="icon-chevron-left"> </i>Previous</a><button ng-disabled="!valid.skills" ng-click="nextStep()" class="button-primary large">Next<i class="icon-chevron-right"></i></button></div><div ref="step" class="form-step center"><h3 class="light">What OS do you prefer?</h3><editable-os value="os" placeholder="&quot;Choose OS&quot;" default-active="true"></editable-os><br/><a ng-click="previousStep()" class="button large"><i class="icon-chevron-left"> </i>Previous</a><button ng-click="nextStep()" class="button-primary large">{{ os ? "Next" : "Skip" }} <i class="icon-chevron-right"></i></button></div><div ref="step" class="form-step center"><h3 class="light">What\'s your editor of choice?</h3><editable-editor value="editor" default-active="true"></editable-editor><br/><a ng-click="previousStep()" class="button large"><i class="icon-chevron-left"> </i>Previous</a><button ng-click="nextStep()" class="button-primary large">{{ editor ? "Next" : "Skip" }} <i class="icon-chevron-right"></i></button></div><div ref="step" class="form-step center"><h3 class="light">Where do you live?</h3><editable-location value="fields.locationText" options="location.options" details="fields.location" placeholder="&quot;Where do you live?&quot;" size="&quot;large&quot;" default-active="!fields.locationText"></editable-location><a ng-if="!locationOnly" ng-click="previousStep()" class="button large"><i class="icon-chevron-left"> </i>Previous</a><button ng-disabled="!valid.location" ng-click="nextStep()" class="button-primary large">Next <i class="icon-chevron-right"></i></button></div><div ref="step" class="form-step center"><h3 class="light">Where would you like to work?</h3><div><editable-place-of-work level="future.place_of_work" default-active="true"></editable-place-of-work></div><a ng-click="previousStep()" class="button large"><i class="icon-chevron-left"> </i>Previous</a><button ng-if="future.place_of_work.id !== 3" ng-click="nextStep()" class="button-primary large">Next <i class="icon-chevron-right"></i></button><button ng-if="future.place_of_work.id === 3" ng-click="submit()" class="button-primary large"><i class="icon-tick"> </i>Done</button></div><div ref="step" class="form-step center step-location"><h3 class="light">Are you open to relocation?</h3><switch ng-model="future.relocation"></switch><div ng-if="future.relocation &amp;&amp; !(fields.location.info.country === &quot;United States&quot; || fields.location.info.country === &quot;United Kingdom&quot;)"><p class="large light">Would you consider relocating anywhere in {{ fields.location.info.country }} (and have a visa)?</p><switch ng-model="future.relocation_country"></switch></div><div ng-if="future.relocation &amp;&amp; (fields.location.info.country === &quot;United States&quot; || fields.location.info.country === &quot;United Kingdom&quot;)"><p class="large light">Would you consider relocating anywhere in the {{ fields.location.info.country }} (and have a visa)?</p><switch ng-model="future.relocation_country"></switch></div><div ng-if="future.relocation &amp;&amp; isInEU(fields.location)"><p class="large light">Would you consider relocating anywhere in the EU (and have a visa)?</p><switch ng-model="future.relocation_workzone"></switch></div><div ng-if="future.relocation"><p class="large light">Would you relocate anywhere for the ideal job?</p><switch ng-model="future.relocation_anywhere"></switch></div><div ng-if="future.relocation &amp;&amp; !future.relocation_anywhere" class="relocation-options"><p class="large light">Is there anywhere specific you\'d like to relocate to?</p><ul ng-if="fields.otherLocations.length"><li ng-repeat="other in fields.otherLocations track by $index"><editable-location value="fields.otherLocationText[$index]" options="location.options" details="fields.otherLocations[$index]" placeholder="&quot;e.g. United States or London&quot;"></editable-location><div class="visa-requirement"><span>Require a visa</span><switch ng-model="fields.otherLocations[$index].visa" small="true"></switch></div><a ng-click="removeOtherLocation($index)" class="remove">&times;</a></li></ul><editable-location ng-if="fields.otherLocations.length &lt; 3" value="fields.newOtherLocationText" options="location.options" details="fields.newOtherLocation" placeholder="&quot;e.g. Paris or London&quot;" size="&quot;large&quot;"></editable-location></div><br/><a ng-click="previousStep()" class="button large"><i class="icon-chevron-left"> </i>Previous</a><button ng-click="submit()" ng-disabled="(future.relocation &amp;&amp; !future.relocation_anywhere &amp;&amp; !future.relocation_country &amp;&amp; !future.relocation_workzone &amp;&amp; !fields.otherLocations.length)" class="large button-primary"><i class="icon-tick"> </i>Done</button></div><div ng-class="{ active: step === &quot;saving&quot; }" class="form-step center"><div class="light">Saving..</div><spinner></spinner></div></section>'},{}],233:[function(require,module,exports){module.exports='<div class="row globe"><div class="col-6 globe-nav"><div id="map" class="nav center"></div></div><div class="col-6 globe-stats"><div ng-show="currentCountry" class="current-country center"><h4>{{ currentCountry.name }} <span class="light">({{ currentCountry.count }})</span></h4><div ng-if="!currentCountry.count" class="box empty">There are no results for this country.</div><div ng-if="currentCountry.count"><bar-split values="contract_type"></bar-split><bar-split values="place_of_work"></bar-split><bar-split values="seniority"></bar-split><div ng-if="type === &quot;future&quot;"><bar-split values="visa"></bar-split></div><div class="skills"><skill-tag ng-repeat="skill in currentCountry.results.skills" skill="skill" count="skill.count"></skill-tag></div></div></div></div></div><div class="row"><div class="col-6 center"><a ng-href="{{ backUrl || &quot;#&quot; }}" ng-if="(backUrl || backFn) &amp;&amp; !position" ng-click="backFn ? backFn() : null" class="button large"><i class="icon-chevron-left"> </i>Back</a><a ng-href="/organisation/positions/{{ position.id }}/actions" ng-if="position" class="button massive button-primary">Next <i class="icon-chevron-right"></i></a></div></div>'},{}],234:[function(require,module,exports){module.exports='<div class="hiring-process"><ul ng-class="{ editable: editable }" class="hiring-steps"><li ng-repeat="id in process track by $index"><hiring-step id="id"></hiring-step><a ng-if="editable &amp;&amp; $index &gt; 0" ng-click="moveStep($index, $index - 1)" class="action action-move-left"><i class="icon-chevron-left"></i><div class="hover-tooltip">Move left</div></a><a ng-if="editable &amp;&amp; $index &lt; process.length - 1" ng-click="moveStep($index, $index + 1)" class="action action-move-right"><i class="icon-chevron-right"></i><div class="hover-tooltip">Move right</div></a><a ng-if="editable &amp;&amp; $index === 0" ng-click="addStep($index)" class="action action-before"><i class="icon-plus"></i><div class="hover-tooltip">Add step</div></a><a ng-if="editable" ng-click="addStep($index + 1)" class="action action-after"><i class="icon-plus"></i><div class="hover-tooltip">Add step</div></a><a ng-if="editable" ng-click="removeStep($index)" class="action action-delete"><i class="icon-cross"></i><div class="hover-tooltip">Remove step</div></a></li><li ng-if="editable &amp;&amp; !process.length"><a ng-click="addStep()" class="hiring-step add"><span><i class="icon-plus"></i></span><div class="label">Add Step</div></a></li></ul></div>'},{}],235:[function(require,module,exports){module.exports='<div class="hiring-step"><span><i ng-class="&quot;icon-&quot; + step.icon"></i></span><div class="label">{{ step.name }}</div><div class="hover-tooltip large">{{ step.description }}</div></div>'},{}],236:[function(require,module,exports){module.exports='<div class="history-form"><div class="row center plot-editor"><div class="col-6 profile-info"><h3 class="name"><editable-input value="job.title" placeholder="&quot;Job Title&quot;" type="text"></editable-input></h3><h4 class="title"><editable-input value="job.employer" placeholder="&quot;Company Name&quot;" type="text"></editable-input></h4><div class="detail"><p class="bio"><editable-textarea value="job.description" placeholder="&quot;Short Description&quot;"></editable-textarea></p></div><editable-skills skills="job.skills"></editable-skills><editable-levels level="job.level" placeholder="&quot;Seniority Level&quot;"></editable-levels><editable-place-of-work level="job.place_of_work" placeholder="&quot;Contract Type&quot;" either="true"></editable-place-of-work><editable-contract-type level="job.contract_type" placeholder="&quot;Type of employment&quot;" either="true"></editable-contract-type><br/><month-range-picker value="job.range" ng-if="job.range"></month-range-picker></div><div class="col-6 plot"><radial-plot dsn="job.time_load" point-radius="1.5" labelled="true" scale="log" editable="true"></radial-plot><div class="button-group center"><button ng-if="cancel" ng-click="cancel()" class="large center"><span>Cancel</span></button><button ng-class="{ disabled: !validate() }" ng-click="submit()" class="large button-primary center"><span>Save</span></button></div></div></div><div ng-if="errors.length" ng-repeat="error in errors" class="box box-danger center">{{ error }}</div></div>'},{}],237:[function(require,module,exports){module.exports='<div class="link-copy-input"><div class="input-wrap"><input type="text" ng-model="value" class="block"/></div><button ng-click="copy()">Copy</button></div>'},{}],238:[function(require,module,exports){module.exports='<div ng-class="{ disabled: !item.relocation, small: size === &quot;small&quot; }" class="work-tag relocate">{{ item.relocation ? "Will relocate" : "Won\'t Relocate" }}<span ng-if="item.relocation" class="info">?</span><div ng-if="item.relocation" class="hover-tooltip"><div ng-if="item.relocation_country" class="small">Anywhere in Country</div><div ng-if="item.relocation_workzone" class="small">Anywhere in EU</div><div ng-if="item.relocation_anywhere" class="small">Anywhere</div><div ng-if="!item.relocation_anywhere &amp;&amp; item.other_locations.length" ng-repeat="location in item.other_locations" class="small">{{ location.formatted_address }} <span ng-if="location.visa">(Visa required)</span></div></div></div>'},{}],239:[function(require,module,exports){module.exports='<div class="messaging"><div class="message self"><div class="avatar-wrap"><div ng-style="{ &quot;background-image&quot;: &quot;url(&quot; + avatar +&quot;)&quot; }" class="avatar"></div></div><div ng-class="{ disabled: disabled }" class="bubble bubble-compose"><textarea ng-model="message" placeholder="{{ placeholder || &quot;Write a message&quot; }}" required="required" elastic="elastic" ng-disabled="disabled"></textarea><button ng-disabled="!message" ng-class="{ &quot;button-primary&quot;: message &amp;&amp; !loading }" ng-click="sendMessage()"> Send</button></div></div><div ng-if="error" class="box box-danger"><strong>Error: </strong>{{ error }}</div><div class="center"><spinner ng-if="loading"></spinner></div><div ng-repeat="message in conversation.messages | orderBy: &quot;-created&quot;" ng-class="{ self: message.self, auto: message.auto, unread: !message.read }" class="message"><div ng-if="message.type !== &quot;match&quot; &amp;&amp; message.type !== &quot;interest&quot;" class="avatar-wrap"><div ng-style="{ &quot;background-image&quot;: &quot;url(&quot; + message.avatar + &quot;)&quot; }" class="avatar"></div></div><div ng-if="message.auto &amp;&amp; message.type === &quot;interest&quot; &amp;&amp; session.type !== &quot;person&quot;" class="bubble bubble-interest"><div class="content"><p>Has shown interest!</p></div><div class="when">Sent {{ message.created | moment }}</div></div><div ng-if="message.auto &amp;&amp; message.type === &quot;match&quot;" class="bubble bubble-match"><div class="content"><p>Match generated!</p></div><div class="when">sent {{ message.created | moment }}</div></div><div ng-if="!message.auto" class="bubble bubble-message"><div btf-markdown="message.message" ng-if="!message.sending" class="content"></div><div ng-if="!message.sending" class="when">Sent {{ message.created | moment }}</div></div></div></div>'},{}],240:[function(require,module,exports){module.exports='<div class="month-range-picker"><div class="from"><select ng-model="from.month" ng-options="months.indexOf(month) as month for month in months" ng-change="updateModel()"></select><input ng-model="from.year" type="number" placeholder="YYYY" ng-change="updateModel()"/></div><div ng-class="{ disabled: voidTo }" class="to"><select ng-model="to.month" ng-options="months.indexOf(month) as month for month in months" ng-disabled="voidTo" ng-change="updateModel()"></select><input ng-model="to.year" type="number" placeholder="YYYY" ng-disabled="voidTo" ng-change="updateModel()"/></div><div class="deactivate-field"><input type="checkbox" ng-model="voidTo"/><span>Current position</span></div></div>'},{}],241:[function(require,module,exports){module.exports='<section ng-class="{ &quot;has-cover&quot;: organisation.cover }" ng-style="organisation.cover ? { height: coverOptions.height + &quot;px&quot; } : null" class="section-heading-dark organisation-cover"><div ng-if="organisation.cover" ng-style="getCoverStyle()" class="heading-photo"></div><div ng-if="editable" ng-class="{ sticky: !organisation.cover }" class="cover-controls"><a ng-click="changeCover()" ng-disabled="loading" ng-if="!organisation.cover" class="button button-primary"><i class="icon-plus"> </i>Add cover image</a><div ng-if="organisation.cover" class="button-group"><a ng-click="removeCover()" ng-disabled="loading" title="Remove" class="button button-danger"><i class="icon-trash"></i></a><a ng-click="changeCover()" ng-disabled="loading" title="Upload new" class="button button-secondary"><i class="icon-edit"></i><div class="hover-tooltip">Upload new</div></a></div><div ng-if="organisation.cover" class="field"><label>Blur: </label><slider ng-model="coverOptions.blur" min="0" max="20" size="&quot;small&quot;"></slider></div><div ng-if="organisation.cover" class="field"><label>Scale: </label><slider ng-model="coverOptions.scale" min="1" max="3" size="&quot;small&quot;"></slider></div><div ng-if="organisation.cover" class="field"><label>Size: </label><slider ng-model="coverOptions.height" min="100" max="500" size="&quot;small&quot;"></slider></div><a ng-click="saveCoverOptions()" ng-if="organisation.cover" ng-disabled="loading" ng-class="{ disabled: !changed }" class="button button-primary"><i class="icon-tick"> </i>Save</a></div></section>'},{}],242:[function(require,module,exports){module.exports='<div class="perk-badge"><div ng-class="&quot;perk-icon-&quot; + perk + (disabled ? &quot; disabled&quot; : &quot;&quot;) + (active ? &quot; active&quot; : &quot;&quot;) + &quot; &quot; + size" class="perk-icon"></div><div ng-if="label" class="label">{{ meta.label }}</div><div class="hover-tooltip large"><h4>{{ meta.label }}</h4><p>{{ meta.description }}</p></div></div>'},{}],243:[function(require,module,exports){module.exports='<div class="perks-selection"><perk-badge ng-repeat="(key, value) in perksList" perk="key" disabled="!hasPerk(key)" active="hasPerk(key)" ng-click="toggle(key)"></perk-badge></div>'},{}],244:[function(require,module,exports){module.exports='<div class="person-repositories"><ul><li ng-repeat="repo in repositories | orderBy : &quot;stars&quot; : 1 | limitTo: showAllRepos ? 999 : 6"><div class="box box-alternate"><div class="inner"><h4><a ng-href="{{ getRepoUrl(repo) }}" target="_blank"><i class="icon-repository"></i>{{ repo.name }}</a></h4><p ng-if="repo.description">{{ repo.description }}</p><p ng-if="!repo.description" class="empty">No description</p><div class="stats"><span><i class="icon-stars-level-1"></i>{{ repo.stars }} star{{ repo.stars === 1 ? \'\' : \'s\' }}</span><span><i class="icon-fork"></i>{{ repo.forks }} fork{{ repo.forks === 1 ? \'\' : \'s\' }}</span></div></div><div class="languages small"><div ng-if="repo.languages.length" class="tags"><skill-tag ng-repeat="skill in repo.languages | limitTo:4" skill="skill"></skill-tag></div><div ng-if="!repo.languages.length" class="empty">Languages not detected</div></div></div></li></ul><div ng-if="!showAllRepos &amp;&amp; repositories.length &gt; 6" class="center show-more"><a ng-click="showAll()" class="light"><i class="icon-chevron-down small"> </i>Show all</a></div></div>'},{}],245:[function(require,module,exports){module.exports='<div class="timeline-display"><div ng-if="!history.length" class="empty"><p>You have no Jobs in your Job History</p><a ng-click="addJob()" class="button button-primary large"><i class="icon-plus"> </i>Add Job</a></div><br/><ul ng-if="history.length || job.creating"><li ng-repeat="job in history" ng-class="{ form: job.editing === job.id }"><history-form ng-if="job.editing === job.id" job="job" done="jobSaved" cancel="closeJob"></history-form><div ng-if="job.editing !== job.id"><div ng-attr-id="job-{{ job.id }}" class="anchor"></div><div class="stop"><i class="icon-suitcase"></i></div><div class="box job-wrap"><div class="inner"><div ng-if="job.time_load" class="plot"><radial-plot dsn="job.time_load" point-radius="1.5" editable="false" visible-points="false" scale="log"></radial-plot></div><h4>{{ job.title }}</h4><h5>{{ job.employer }}</h5><div ng-bind-html="job.description | markdown" class="description"></div><br/><div class="small"><div class="skills"><skill-tag ng-repeat="skill in job.skills" skill="skill"></skill-tag></div><work-tags item="job" type="&quot;future&quot;"></work-tags></div><div ng-if="editable &amp;&amp; !job.creating &amp;&amp; !job.editing" class="job-actions button-group"><a ng-click="job.editing = job.id" class="button small"><i class="icon-edit"> </i>Edit</a><a ng-click="deleteJob(job)" class="button button-danger small"><i class="icon-trash"> </i>Delete</a></div></div><div class="label">{{ job.from_date | monthAndYear }} <span ng-if="job.to_date">- {{ job.to_date | monthAndYear }}</span></div></div></div></li><li ng-if="editable &amp;&amp; !job.editing &amp;&amp; !job.creating" class="add"><a ng-click="addJob()" class="stop"><i class="icon-plus"></i></a></li><li ng-if="editable &amp;&amp; job.creating" class="form"><history-form done="jobSaved" cancel="closeJob"></history-form></li></ul></div>'},{}],246:[function(require,module,exports){module.exports='<div ng-class="{ &quot;has-active&quot;: active !== null }" class="pie-chart"><div ref="chart" class="chart"></div><ul class="chart-legend interactive"><li ng-repeat="point in data" ng-if="data.length" ng-class="{ active: active === $index }" ng-mouseover="setActive($index)" ng-mouseout="setActive(null)"><span ng-style="{ background: getColor($index) }" class="color"></span><span class="label">{{ point.label }}</span></li></ul></div>'},{}],247:[function(require,module,exports){module.exports='<div ng-class="{ open: tagoptions.length }" class="tagmanager"><div class="inner"><ul class="tags-list tags"><li ng-repeat="tag in tags" class="tag">{{ tag.name }} <a ng-click="removeTag(tag)" alt="Remove tag">&times;</a></li><li class="input-wrap"><input ng-class="{ large: size === &quot;large&quot; }" type="text" ng-model="tagField" ng-change="ngChange" class="large"/><ul ng-if="tagoptions.length" class="autocomplete"><li ng-repeat="tag in tagoptions" ng-class="{ active: $index === highlighted }" ng-click="addTag(tag)" data-id="{{ tag.id }}">{{ tag.name }}</li></ul></li></ul></div><div ng-if="error" class="box box-danger center">{{ error }}</div></div>'},{}],248:[function(require,module,exports){module.exports='<ul class="team-members-list"><li ng-repeat="member in team | orderBy: &quot;-level.id&quot;" ng-click="showMember(member)" ng-class="{ first: $index % 3 === 0 }" data-500-center="opacity: 0; left: 100px;" data-150-center="opacity: 1; left: 0px;"><div class="profile-info"><div class="logo-wrap"><div ng-style="{ &quot;background-image&quot;: &quot;url(&quot; + (member.person.avatar || &quot;/images/assets/anonymous.png&quot;) + &quot;)&quot; }" class="avatar"></div></div><h3 class="name light">{{ member.person.first_name }} {{ member.person.last_name }} </h3><h4 class="title highlight">{{ member.title }}</h4><p ng-bind-html="member.person.about | markdown" class="capped light"></p></div></li></ul>'},{}],249:[function(require,module,exports){module.exports='<span ng-if="item"><span ng-if="item.level" ng-class="&quot;level-&quot; + item.level.id + &quot; &quot; + (size || &quot;&quot;)" class="work-tag">{{ shortDisplay(item.level.name) }}</span><span ng-if="item.contract_type" ng-class="&quot;contract-type-&quot; + item.contract_type.id + &quot; &quot; + (size || &quot;&quot;)" class="work-tag">{{ shortDisplay(item.contract_type.name) }}</span><span ng-if="item.place_of_work" ng-class="&quot;place-of-work-&quot; + item.place_of_work.id + &quot; &quot; + (size || &quot;&quot;)" class="work-tag">{{ shortDisplay(item.place_of_work.name) }}</span><span ng-if="item.visa &amp;&amp; type === &quot;position&quot;" ng-class="size" class="work-tag visa">Sponsors Visa</span><span ng-if="item.visa &amp;&amp; type === &quot;future&quot;" ng-class="size" class="work-tag visa">Needs Visa</span><location-tag-display item="item" ng-if="item.relocation" size="size"></location-tag-display></span>'},{}],250:[function(require,module,exports){var convert=require("color-convert"),string=require("color-string"),Color=function(obj){if(obj instanceof Color)return obj;if(!(this instanceof Color))return new Color(obj);if(this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},"string"==typeof obj){var vals=string.getRgba(obj);if(vals)this.setValues("rgb",vals);else if(vals=string.getHsla(obj))this.setValues("hsl",vals);else{if(!(vals=string.getHwb(obj)))throw new Error('Unable to parse color from string "'+obj+'"');this.setValues("hwb",vals)}}else if("object"==typeof obj){var vals=obj;if(void 0!==vals.r||void 0!==vals.red)this.setValues("rgb",vals);else if(void 0!==vals.l||void 0!==vals.lightness)this.setValues("hsl",vals);else if(void 0!==vals.v||void 0!==vals.value)this.setValues("hsv",vals);else if(void 0!==vals.w||void 0!==vals.whiteness)this.setValues("hwb",vals);else{if(void 0===vals.c&&void 0===vals.cyan)throw new Error("Unable to parse color from object "+JSON.stringify(obj));this.setValues("cmyk",vals)}}};Color.prototype={rgb:function(vals){return this.setSpace("rgb",arguments)},hsl:function(vals){return this.setSpace("hsl",arguments)},hsv:function(vals){return this.setSpace("hsv",arguments)},hwb:function(vals){return this.setSpace("hwb",arguments)},cmyk:function(vals){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){return 1!==this.values.alpha?this.values.hwb.concat([this.values.alpha]):this.values.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var rgb=this.values.rgb;return rgb.concat([this.values.alpha])},hslaArray:function(){var hsl=this.values.hsl;return hsl.concat([this.values.alpha])},alpha:function(val){return void 0===val?this.values.alpha:(this.setValues("alpha",val),this)},red:function(val){return this.setChannel("rgb",0,val)},green:function(val){return this.setChannel("rgb",1,val)},blue:function(val){return this.setChannel("rgb",2,val)},hue:function(val){
return this.setChannel("hsl",0,val)},saturation:function(val){return this.setChannel("hsl",1,val)},lightness:function(val){return this.setChannel("hsl",2,val)},saturationv:function(val){return this.setChannel("hsv",1,val)},whiteness:function(val){return this.setChannel("hwb",1,val)},blackness:function(val){return this.setChannel("hwb",2,val)},value:function(val){return this.setChannel("hsv",2,val)},cyan:function(val){return this.setChannel("cmyk",0,val)},magenta:function(val){return this.setChannel("cmyk",1,val)},yellow:function(val){return this.setChannel("cmyk",2,val)},black:function(val){return this.setChannel("cmyk",3,val)},hexString:function(){return string.hexString(this.values.rgb)},rgbString:function(){return string.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return string.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return string.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return string.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return string.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return string.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return string.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){return this.values.rgb[0]<<16|this.values.rgb[1]<<8|this.values.rgb[2]},luminosity:function(){for(var rgb=this.values.rgb,lum=[],i=0;i<rgb.length;i++){var chan=rgb[i]/255;lum[i]=.03928>=chan?chan/12.92:Math.pow((chan+.055)/1.055,2.4)}return.2126*lum[0]+.7152*lum[1]+.0722*lum[2]},contrast:function(color2){var lum1=this.luminosity(),lum2=color2.luminosity();return lum1>lum2?(lum1+.05)/(lum2+.05):(lum2+.05)/(lum1+.05)},level:function(color2){var contrastRatio=this.contrast(color2);return contrastRatio>=7.1?"AAA":contrastRatio>=4.5?"AA":""},dark:function(){var rgb=this.values.rgb,yiq=(299*rgb[0]+587*rgb[1]+114*rgb[2])/1e3;return 128>yiq},light:function(){return!this.dark()},negate:function(){for(var rgb=[],i=0;3>i;i++)rgb[i]=255-this.values.rgb[i];return this.setValues("rgb",rgb),this},lighten:function(ratio){return this.values.hsl[2]+=this.values.hsl[2]*ratio,this.setValues("hsl",this.values.hsl),this},darken:function(ratio){return this.values.hsl[2]-=this.values.hsl[2]*ratio,this.setValues("hsl",this.values.hsl),this},saturate:function(ratio){return this.values.hsl[1]+=this.values.hsl[1]*ratio,this.setValues("hsl",this.values.hsl),this},desaturate:function(ratio){return this.values.hsl[1]-=this.values.hsl[1]*ratio,this.setValues("hsl",this.values.hsl),this},whiten:function(ratio){return this.values.hwb[1]+=this.values.hwb[1]*ratio,this.setValues("hwb",this.values.hwb),this},blacken:function(ratio){return this.values.hwb[2]+=this.values.hwb[2]*ratio,this.setValues("hwb",this.values.hwb),this},greyscale:function(){var rgb=this.values.rgb,val=.3*rgb[0]+.59*rgb[1]+.11*rgb[2];return this.setValues("rgb",[val,val,val]),this},clearer:function(ratio){return this.setValues("alpha",this.values.alpha-this.values.alpha*ratio),this},opaquer:function(ratio){return this.setValues("alpha",this.values.alpha+this.values.alpha*ratio),this},rotate:function(degrees){var hue=this.values.hsl[0];return hue=(hue+degrees)%360,hue=0>hue?360+hue:hue,this.values.hsl[0]=hue,this.setValues("hsl",this.values.hsl),this},mix:function(mixinColor,weight){var color1=this,color2=mixinColor,p=void 0!==weight?weight:.5,w=2*p-1,a=color1.alpha()-color2.alpha(),w1=((w*a==-1?w:(w+a)/(1+w*a))+1)/2,w2=1-w1;return this.rgb(w1*color1.red()+w2*color2.red(),w1*color1.green()+w2*color2.green(),w1*color1.blue()+w2*color2.blue()).alpha(color1.alpha()*p+color2.alpha()*(1-p))},toJSON:function(){return this.rgb()},clone:function(){return new Color(this.rgb())}},Color.prototype.getValues=function(space){for(var vals={},i=0;i<space.length;i++)vals[space.charAt(i)]=this.values[space][i];return 1!=this.values.alpha&&(vals.a=this.values.alpha),vals},Color.prototype.setValues=function(space,vals){var spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},alpha=1;if("alpha"==space)alpha=vals;else if(vals.length)this.values[space]=vals.slice(0,space.length),alpha=vals[space.length];else if(void 0!==vals[space.charAt(0)]){for(var i=0;i<space.length;i++)this.values[space][i]=vals[space.charAt(i)];alpha=vals.a}else if(void 0!==vals[spaces[space][0]]){for(var chans=spaces[space],i=0;i<space.length;i++)this.values[space][i]=vals[chans[i]];alpha=vals.alpha}if(this.values.alpha=Math.max(0,Math.min(1,void 0!==alpha?alpha:this.values.alpha)),"alpha"!=space){for(var i=0;i<space.length;i++){var capped=Math.max(0,Math.min(maxes[space][i],this.values[space][i]));this.values[space][i]=Math.round(capped)}for(var sname in spaces){sname!=space&&(this.values[sname]=convert[space][sname](this.values[space]));for(var i=0;i<sname.length;i++){var capped=Math.max(0,Math.min(maxes[sname][i],this.values[sname][i]));this.values[sname][i]=Math.round(capped)}}return!0}},Color.prototype.setSpace=function(space,args){var vals=args[0];return void 0===vals?this.getValues(space):("number"==typeof vals&&(vals=Array.prototype.slice.call(args)),this.setValues(space,vals),this)},Color.prototype.setChannel=function(space,index,val){return void 0===val?this.values[space][index]:(this.values[space][index]=val,this.setValues(space,this.values[space]),this)},module.exports=Color},{"color-convert":252,"color-string":253}],251:[function(require,module,exports){function rgb2hsl(rgb){var h,s,l,r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255,min=Math.min(r,g,b),max=Math.max(r,g,b),delta=max-min;return max==min?h=0:r==max?h=(g-b)/delta:g==max?h=2+(b-r)/delta:b==max&&(h=4+(r-g)/delta),h=Math.min(60*h,360),0>h&&(h+=360),l=(min+max)/2,s=max==min?0:.5>=l?delta/(max+min):delta/(2-max-min),[h,100*s,100*l]}function rgb2hsv(rgb){var h,s,v,r=rgb[0],g=rgb[1],b=rgb[2],min=Math.min(r,g,b),max=Math.max(r,g,b),delta=max-min;return s=0==max?0:delta/max*1e3/10,max==min?h=0:r==max?h=(g-b)/delta:g==max?h=2+(b-r)/delta:b==max&&(h=4+(r-g)/delta),h=Math.min(60*h,360),0>h&&(h+=360),v=max/255*1e3/10,[h,s,v]}function rgb2hwb(rgb){var r=rgb[0],g=rgb[1],b=rgb[2],h=rgb2hsl(rgb)[0],w=1/255*Math.min(r,Math.min(g,b)),b=1-1/255*Math.max(r,Math.max(g,b));return[h,100*w,100*b]}function rgb2cmyk(rgb){var c,m,y,k,r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255;return k=Math.min(1-r,1-g,1-b),c=(1-r-k)/(1-k)||0,m=(1-g-k)/(1-k)||0,y=(1-b-k)/(1-k)||0,[100*c,100*m,100*y,100*k]}function rgb2keyword(rgb){return reverseKeywords[JSON.stringify(rgb)]}function rgb2xyz(rgb){var r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255;r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,g=g>.04045?Math.pow((g+.055)/1.055,2.4):g/12.92,b=b>.04045?Math.pow((b+.055)/1.055,2.4):b/12.92;var x=.4124*r+.3576*g+.1805*b,y=.2126*r+.7152*g+.0722*b,z=.0193*r+.1192*g+.9505*b;return[100*x,100*y,100*z]}function rgb2lab(rgb){var l,a,b,xyz=rgb2xyz(rgb),x=xyz[0],y=xyz[1],z=xyz[2];return x/=95.047,y/=100,z/=108.883,x=x>.008856?Math.pow(x,1/3):7.787*x+16/116,y=y>.008856?Math.pow(y,1/3):7.787*y+16/116,z=z>.008856?Math.pow(z,1/3):7.787*z+16/116,l=116*y-16,a=500*(x-y),b=200*(y-z),[l,a,b]}function rgb2lch(args){return lab2lch(rgb2lab(args))}function hsl2rgb(hsl){var t1,t2,t3,rgb,val,h=hsl[0]/360,s=hsl[1]/100,l=hsl[2]/100;if(0==s)return val=255*l,[val,val,val];t2=.5>l?l*(1+s):l+s-l*s,t1=2*l-t2,rgb=[0,0,0];for(var i=0;3>i;i++)t3=h+1/3*-(i-1),0>t3&&t3++,t3>1&&t3--,val=1>6*t3?t1+6*(t2-t1)*t3:1>2*t3?t2:2>3*t3?t1+(t2-t1)*(2/3-t3)*6:t1,rgb[i]=255*val;return rgb}function hsl2hsv(hsl){var sv,v,h=hsl[0],s=hsl[1]/100,l=hsl[2]/100;return 0===l?[0,0,0]:(l*=2,s*=1>=l?l:2-l,v=(l+s)/2,sv=2*s/(l+s),[h,100*sv,100*v])}function hsl2hwb(args){return rgb2hwb(hsl2rgb(args))}function hsl2cmyk(args){return rgb2cmyk(hsl2rgb(args))}function hsl2keyword(args){return rgb2keyword(hsl2rgb(args))}function hsv2rgb(hsv){var h=hsv[0]/60,s=hsv[1]/100,v=hsv[2]/100,hi=Math.floor(h)%6,f=h-Math.floor(h),p=255*v*(1-s),q=255*v*(1-s*f),t=255*v*(1-s*(1-f)),v=255*v;switch(hi){case 0:return[v,t,p];case 1:return[q,v,p];case 2:return[p,v,t];case 3:return[p,q,v];case 4:return[t,p,v];case 5:return[v,p,q]}}function hsv2hsl(hsv){var sl,l,h=hsv[0],s=hsv[1]/100,v=hsv[2]/100;return l=(2-s)*v,sl=s*v,sl/=1>=l?l:2-l,sl=sl||0,l/=2,[h,100*sl,100*l]}function hsv2hwb(args){return rgb2hwb(hsv2rgb(args))}function hsv2cmyk(args){return rgb2cmyk(hsv2rgb(args))}function hsv2keyword(args){return rgb2keyword(hsv2rgb(args))}function hwb2rgb(hwb){var i,v,f,n,h=hwb[0]/360,wh=hwb[1]/100,bl=hwb[2]/100,ratio=wh+bl;switch(ratio>1&&(wh/=ratio,bl/=ratio),i=Math.floor(6*h),v=1-bl,f=6*h-i,0!=(1&i)&&(f=1-f),n=wh+f*(v-wh),i){default:case 6:case 0:r=v,g=n,b=wh;break;case 1:r=n,g=v,b=wh;break;case 2:r=wh,g=v,b=n;break;case 3:r=wh,g=n,b=v;break;case 4:r=n,g=wh,b=v;break;case 5:r=v,g=wh,b=n}return[255*r,255*g,255*b]}function hwb2hsl(args){return rgb2hsl(hwb2rgb(args))}function hwb2hsv(args){return rgb2hsv(hwb2rgb(args))}function hwb2cmyk(args){return rgb2cmyk(hwb2rgb(args))}function hwb2keyword(args){return rgb2keyword(hwb2rgb(args))}function cmyk2rgb(cmyk){var r,g,b,c=cmyk[0]/100,m=cmyk[1]/100,y=cmyk[2]/100,k=cmyk[3]/100;return r=1-Math.min(1,c*(1-k)+k),g=1-Math.min(1,m*(1-k)+k),b=1-Math.min(1,y*(1-k)+k),[255*r,255*g,255*b]}function cmyk2hsl(args){return rgb2hsl(cmyk2rgb(args))}function cmyk2hsv(args){return rgb2hsv(cmyk2rgb(args))}function cmyk2hwb(args){return rgb2hwb(cmyk2rgb(args))}function cmyk2keyword(args){return rgb2keyword(cmyk2rgb(args))}function xyz2rgb(xyz){var r,g,b,x=xyz[0]/100,y=xyz[1]/100,z=xyz[2]/100;return r=3.2406*x+-1.5372*y+z*-.4986,g=x*-.9689+1.8758*y+.0415*z,b=.0557*x+y*-.204+1.057*z,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r=12.92*r,g=g>.0031308?1.055*Math.pow(g,1/2.4)-.055:g=12.92*g,b=b>.0031308?1.055*Math.pow(b,1/2.4)-.055:b=12.92*b,r=Math.min(Math.max(0,r),1),g=Math.min(Math.max(0,g),1),b=Math.min(Math.max(0,b),1),[255*r,255*g,255*b]}function xyz2lab(xyz){var l,a,b,x=xyz[0],y=xyz[1],z=xyz[2];return x/=95.047,y/=100,z/=108.883,x=x>.008856?Math.pow(x,1/3):7.787*x+16/116,y=y>.008856?Math.pow(y,1/3):7.787*y+16/116,z=z>.008856?Math.pow(z,1/3):7.787*z+16/116,l=116*y-16,a=500*(x-y),b=200*(y-z),[l,a,b]}function xyz2lch(args){return lab2lch(xyz2lab(args))}function lab2xyz(lab){var x,y,z,y2,l=lab[0],a=lab[1],b=lab[2];return 8>=l?(y=100*l/903.3,y2=7.787*(y/100)+16/116):(y=100*Math.pow((l+16)/116,3),y2=Math.pow(y/100,1/3)),x=.008856>=x/95.047?x=95.047*(a/500+y2-16/116)/7.787:95.047*Math.pow(a/500+y2,3),z=.008859>=z/108.883?z=108.883*(y2-b/200-16/116)/7.787:108.883*Math.pow(y2-b/200,3),[x,y,z]}function lab2lch(lab){var hr,h,c,l=lab[0],a=lab[1],b=lab[2];return hr=Math.atan2(b,a),h=360*hr/2/Math.PI,0>h&&(h+=360),c=Math.sqrt(a*a+b*b),[l,c,h]}function lab2rgb(args){return xyz2rgb(lab2xyz(args))}function lch2lab(lch){var a,b,hr,l=lch[0],c=lch[1],h=lch[2];return hr=h/360*2*Math.PI,a=c*Math.cos(hr),b=c*Math.sin(hr),[l,a,b]}function lch2xyz(args){return lab2xyz(lch2lab(args))}function lch2rgb(args){return lab2rgb(lch2lab(args))}function keyword2rgb(keyword){return cssKeywords[keyword]}function keyword2hsl(args){return rgb2hsl(keyword2rgb(args))}function keyword2hsv(args){return rgb2hsv(keyword2rgb(args))}function keyword2hwb(args){return rgb2hwb(keyword2rgb(args))}function keyword2cmyk(args){return rgb2cmyk(keyword2rgb(args))}function keyword2lab(args){return rgb2lab(keyword2rgb(args))}function keyword2xyz(args){return rgb2xyz(keyword2rgb(args))}module.exports={rgb2hsl:rgb2hsl,rgb2hsv:rgb2hsv,rgb2hwb:rgb2hwb,rgb2cmyk:rgb2cmyk,rgb2keyword:rgb2keyword,rgb2xyz:rgb2xyz,rgb2lab:rgb2lab,rgb2lch:rgb2lch,hsl2rgb:hsl2rgb,hsl2hsv:hsl2hsv,hsl2hwb:hsl2hwb,hsl2cmyk:hsl2cmyk,hsl2keyword:hsl2keyword,hsv2rgb:hsv2rgb,hsv2hsl:hsv2hsl,hsv2hwb:hsv2hwb,hsv2cmyk:hsv2cmyk,hsv2keyword:hsv2keyword,hwb2rgb:hwb2rgb,hwb2hsl:hwb2hsl,hwb2hsv:hwb2hsv,hwb2cmyk:hwb2cmyk,hwb2keyword:hwb2keyword,cmyk2rgb:cmyk2rgb,cmyk2hsl:cmyk2hsl,cmyk2hsv:cmyk2hsv,cmyk2hwb:cmyk2hwb,cmyk2keyword:cmyk2keyword,keyword2rgb:keyword2rgb,keyword2hsl:keyword2hsl,keyword2hsv:keyword2hsv,keyword2hwb:keyword2hwb,keyword2cmyk:keyword2cmyk,keyword2lab:keyword2lab,keyword2xyz:keyword2xyz,xyz2rgb:xyz2rgb,xyz2lab:xyz2lab,xyz2lch:xyz2lch,lab2xyz:lab2xyz,lab2rgb:lab2rgb,lab2lch:lab2lch,lch2lab:lch2lab,lch2xyz:lch2xyz,lch2rgb:lch2rgb};var cssKeywords={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},reverseKeywords={};for(var key in cssKeywords)reverseKeywords[JSON.stringify(cssKeywords[key])]=key},{}],252:[function(require,module,exports){var conversions=require("./conversions"),convert=function(){return new Converter};for(var func in conversions){convert[func+"Raw"]=function(func){return function(arg){return"number"==typeof arg&&(arg=Array.prototype.slice.call(arguments)),conversions[func](arg)}}(func);var pair=/(\w+)2(\w+)/.exec(func),from=pair[1],to=pair[2];convert[from]=convert[from]||{},convert[from][to]=convert[func]=function(func){return function(arg){"number"==typeof arg&&(arg=Array.prototype.slice.call(arguments));var val=conversions[func](arg);if("string"==typeof val||void 0===val)return val;for(var i=0;i<val.length;i++)val[i]=Math.round(val[i]);return val}}(func)}var Converter=function(){this.convs={}};Converter.prototype.routeSpace=function(space,args){var values=args[0];return void 0===values?this.getValues(space):("number"==typeof values&&(values=Array.prototype.slice.call(args)),this.setValues(space,values))},Converter.prototype.setValues=function(space,values){return this.space=space,this.convs={},this.convs[space]=values,this},Converter.prototype.getValues=function(space){var vals=this.convs[space];if(!vals){var fspace=this.space,from=this.convs[fspace];vals=convert[fspace][space](from),this.convs[space]=vals}return vals},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(space){Converter.prototype[space]=function(vals){return this.routeSpace(space,arguments)}}),module.exports=convert},{"./conversions":251}],253:[function(require,module,exports){function getRgba(string){if(string){var abbr=/^#([a-fA-F0-9]{3})$/,hex=/^#([a-fA-F0-9]{6})$/,rgba=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,per=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,keyword=/(\D+)/,rgb=[0,0,0],a=1,match=string.match(abbr);if(match){match=match[1];for(var i=0;i<rgb.length;i++)rgb[i]=parseInt(match[i]+match[i],16)}else if(match=string.match(hex)){match=match[1];for(var i=0;i<rgb.length;i++)rgb[i]=parseInt(match.slice(2*i,2*i+2),16)}else if(match=string.match(rgba)){for(var i=0;i<rgb.length;i++)rgb[i]=parseInt(match[i+1]);a=parseFloat(match[4])}else if(match=string.match(per)){for(var i=0;i<rgb.length;i++)rgb[i]=Math.round(2.55*parseFloat(match[i+1]));a=parseFloat(match[4])}else if(match=string.match(keyword)){if("transparent"==match[1])return[0,0,0,0];if(rgb=colorNames[match[1]],!rgb)return}for(var i=0;i<rgb.length;i++)rgb[i]=scale(rgb[i],0,255);return a=a||0==a?scale(a,0,1):1,rgb[3]=a,rgb}}function getHsla(string){if(string){var hsl=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,match=string.match(hsl);if(match){var alpha=parseFloat(match[4]),h=scale(parseInt(match[1]),0,360),s=scale(parseFloat(match[2]),0,100),l=scale(parseFloat(match[3]),0,100),a=scale(isNaN(alpha)?1:alpha,0,1);return[h,s,l,a]}}}function getHwb(string){if(string){var hwb=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,match=string.match(hwb);if(match){var alpha=parseFloat(match[4]),h=scale(parseInt(match[1]),0,360),w=scale(parseFloat(match[2]),0,100),b=scale(parseFloat(match[3]),0,100),a=scale(isNaN(alpha)?1:alpha,0,1);return[h,w,b,a]}}}function getRgb(string){var rgba=getRgba(string);return rgba&&rgba.slice(0,3)}function getHsl(string){var hsla=getHsla(string);return hsla&&hsla.slice(0,3)}function getAlpha(string){var vals=getRgba(string);return vals?vals[3]:(vals=getHsla(string))?vals[3]:(vals=getHwb(string))?vals[3]:void 0}function hexString(rgb){return"#"+hexDouble(rgb[0])+hexDouble(rgb[1])+hexDouble(rgb[2])}function rgbString(rgba,alpha){return 1>alpha||rgba[3]&&rgba[3]<1?rgbaString(rgba,alpha):"rgb("+rgba[0]+", "+rgba[1]+", "+rgba[2]+")"}function rgbaString(rgba,alpha){return void 0===alpha&&(alpha=void 0!==rgba[3]?rgba[3]:1),"rgba("+rgba[0]+", "+rgba[1]+", "+rgba[2]+", "+alpha+")"}function percentString(rgba,alpha){if(1>alpha||rgba[3]&&rgba[3]<1)return percentaString(rgba,alpha);var r=Math.round(rgba[0]/255*100),g=Math.round(rgba[1]/255*100),b=Math.round(rgba[2]/255*100);return"rgb("+r+"%, "+g+"%, "+b+"%)"}function percentaString(rgba,alpha){var r=Math.round(rgba[0]/255*100),g=Math.round(rgba[1]/255*100),b=Math.round(rgba[2]/255*100);return"rgba("+r+"%, "+g+"%, "+b+"%, "+(alpha||rgba[3]||1)+")"}function hslString(hsla,alpha){return 1>alpha||hsla[3]&&hsla[3]<1?hslaString(hsla,alpha):"hsl("+hsla[0]+", "+hsla[1]+"%, "+hsla[2]+"%)"}function hslaString(hsla,alpha){return void 0===alpha&&(alpha=void 0!==hsla[3]?hsla[3]:1),"hsla("+hsla[0]+", "+hsla[1]+"%, "+hsla[2]+"%, "+alpha+")"}function hwbString(hwb,alpha){return void 0===alpha&&(alpha=void 0!==hwb[3]?hwb[3]:1),"hwb("+hwb[0]+", "+hwb[1]+"%, "+hwb[2]+"%"+(void 0!==alpha&&1!==alpha?", "+alpha:"")+")"}function keyword(rgb){return reverseNames[rgb.slice(0,3)]}function scale(num,min,max){return Math.min(Math.max(min,num),max)}function hexDouble(num){var str=num.toString(16).toUpperCase();return str.length<2?"0"+str:str}var colorNames=require("color-name");module.exports={getRgba:getRgba,getHsla:getHsla,getRgb:getRgb,getHsl:getHsl,getHwb:getHwb,getAlpha:getAlpha,hexString:hexString,rgbString:rgbString,rgbaString:rgbaString,percentString:percentString,percentaString:percentaString,hslString:hslString,hslaString:hslaString,hwbString:hwbString,keyword:keyword};var reverseNames={};for(var name in colorNames)reverseNames[colorNames[name]]=name},{"color-name":254}],254:[function(require,module,exports){module.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],255:[function(require,module,exports){exports=module.exports=function(searchInput){if(searchInput&&"object"==typeof searchInput){var hasKeyCode=searchInput.which||searchInput.keyCode||searchInput.charCode;hasKeyCode&&(searchInput=hasKeyCode)}if("number"==typeof searchInput)return names[searchInput];var search=String(searchInput),foundNamedKey=codes[search.toLowerCase()];if(foundNamedKey)return foundNamedKey;var foundNamedKey=aliases[search.toLowerCase()];return foundNamedKey?foundNamedKey:1===search.length?search.charCodeAt(0):void 0};var codes=exports.code=exports.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,"delete":46,command:91,"right click":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},aliases=exports.aliases={windows:91,"":16,"":18,"":17,"":91,ctl:17,control:17,option:18,pause:19,"break":19,caps:20,"return":13,escape:27,spc:32,pgup:33,pgdn:33,ins:45,del:46,cmd:91};for(i=97;123>i;i++)codes[String.fromCharCode(i)]=i-32;for(var i=48;58>i;i++)codes[i-48]=i;for(i=1;13>i;i++)codes["f"+i]=i+111;for(i=0;10>i;i++)codes["numpad "+i]=i+96;var names=exports.names=exports.title={};for(i in codes)names[codes[i]]=i;for(var alias in aliases)codes[alias]=aliases[alias]},{}],256:[function(require,module,exports){(function(global){(function(){function addMapEntry(map,pair){return map.set(pair[0],pair[1]),map}function addSetEntry(set,value){return set.add(value),set}function apply(func,thisArg,args){var length=args.length;switch(length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}function arrayAggregator(array,setter,iteratee,accumulator){for(var index=-1,length=array.length;++index<length;){var value=array[index];setter(accumulator,value,iteratee(value),array)}return accumulator}function arrayConcat(array,other){for(var index=-1,length=array.length,othIndex=-1,othLength=other.length,result=Array(length+othLength);++index<length;)result[index]=array[index];for(;++othIndex<othLength;)result[index++]=other[othIndex];return result}function arrayEach(array,iteratee){for(var index=-1,length=array.length;++index<length&&iteratee(array[index],index,array)!==!1;);return array}function arrayEachRight(array,iteratee){for(var length=array.length;length--&&iteratee(array[length],length,array)!==!1;);return array}function arrayEvery(array,predicate){for(var index=-1,length=array.length;++index<length;)if(!predicate(array[index],index,array))return!1;return!0}function arrayFilter(array,predicate){for(var index=-1,length=array.length,resIndex=0,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}function arrayIncludes(array,value){return!!array.length&&baseIndexOf(array,value,0)>-1}function arrayIncludesWith(array,value,comparator){for(var index=-1,length=array.length;++index<length;)if(comparator(value,array[index]))return!0;return!1}function arrayMap(array,iteratee){for(var index=-1,length=array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=array.length;for(initAccum&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}function arrayReduceRight(array,iteratee,accumulator,initAccum){var length=array.length;for(initAccum&&length&&(accumulator=array[--length]);length--;)accumulator=iteratee(accumulator,array[length],length,array);return accumulator}function arraySome(array,predicate){for(var index=-1,length=array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}function baseExtremum(array,iteratee,comparator){for(var index=-1,length=array.length;++index<length;){var value=array[index],current=iteratee(value);if(null!=current&&(computed===undefined?current===current:comparator(current,computed)))var computed=current,result=value}return result}function baseFind(collection,predicate,eachFunc,retKey){var result;return eachFunc(collection,function(value,key,collection){return predicate(value,key,collection)?(result=retKey?key:value,!1):void 0}),result}function baseFindIndex(array,predicate,fromRight){for(var length=array.length,index=fromRight?length:-1;fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}function baseIndexOf(array,value,fromIndex){if(value!==value)return indexOfNaN(array,fromIndex);for(var index=fromIndex-1,length=array.length;++index<length;)if(array[index]===value)return index;return-1}function baseIndexOfWith(array,value,fromIndex,comparator){for(var index=fromIndex-1,length=array.length;++index<length;)if(comparator(array[index],value))return index;return-1}function baseReduce(collection,iteratee,accumulator,initAccum,eachFunc){return eachFunc(collection,function(value,index,collection){accumulator=initAccum?(initAccum=!1,value):iteratee(accumulator,value,index,collection)}),accumulator}function baseSortBy(array,comparer){var length=array.length;for(array.sort(comparer);length--;)array[length]=array[length].value;return array}function baseSum(array,iteratee){for(var result,index=-1,length=array.length;++index<length;){var current=iteratee(array[index]);current!==undefined&&(result=result===undefined?current:result+current)}return result}function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}function baseToPairs(object,props){return arrayMap(props,function(key){return[key,object[key]]})}function baseUnary(func){return function(value){return func(value)}}function baseValues(object,props){return arrayMap(props,function(key){return object[key]})}function charsStartIndex(strSymbols,chrSymbols){for(var index=-1,length=strSymbols.length;++index<length&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1;);return index}function charsEndIndex(strSymbols,chrSymbols){for(var index=strSymbols.length;index--&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1;);return index}function checkGlobal(value){return value&&value.Object===Object?value:null}function compareAscending(value,other){if(value!==other){var valIsNull=null===value,valIsUndef=value===undefined,valIsReflexive=value===value,othIsNull=null===other,othIsUndef=other===undefined,othIsReflexive=other===other;if(value>other&&!othIsNull||!valIsReflexive||valIsNull&&!othIsUndef&&othIsReflexive||valIsUndef&&othIsReflexive)return 1;if(other>value&&!valIsNull||!othIsReflexive||othIsNull&&!valIsUndef&&valIsReflexive||othIsUndef&&valIsReflexive)return-1;

}return 0}function compareMultiple(object,other,orders){for(var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;++index<length;){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result){if(index>=ordersLength)return result;var order=orders[index];return result*("desc"==order?-1:1)}}return object.index-other.index}function countHolders(array,placeholder){for(var length=array.length,result=0;length--;)array[length]===placeholder&&result++;return result}function deburrLetter(letter){return deburredLetters[letter]}function escapeHtmlChar(chr){return htmlEscapes[chr]}function escapeStringChar(chr){return"\\"+stringEscapes[chr]}function indexOfNaN(array,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?0:-1);fromRight?index--:++index<length;){var other=array[index];if(other!==other)return index}return-1}function isHostObject(value){var result=!1;if(null!=value&&"function"!=typeof value.toString)try{result=!!(value+"")}catch(e){}return result}function isIndex(value,length){return value="number"==typeof value||reIsUint.test(value)?+value:-1,length=null==length?MAX_SAFE_INTEGER:length,value>-1&&value%1==0&&length>value}function iteratorToArray(iterator){for(var data,result=[];!(data=iterator.next()).done;)result.push(data.value);return result}function mapToArray(map){var index=-1,result=Array(map.size);return map.forEach(function(value,key){result[++index]=[key,value]}),result}function replaceHolders(array,placeholder){for(var index=-1,length=array.length,resIndex=0,result=[];++index<length;){var value=array[index];(value===placeholder||value===PLACEHOLDER)&&(array[index]=PLACEHOLDER,result[resIndex++]=index)}return result}function setToArray(set){var index=-1,result=Array(set.size);return set.forEach(function(value){result[++index]=value}),result}function stringSize(string){if(!string||!reHasComplexSymbol.test(string))return string.length;for(var result=reComplexSymbol.lastIndex=0;reComplexSymbol.test(string);)result++;return result}function stringToArray(string){return string.match(reComplexSymbol)}function unescapeHtmlChar(chr){return htmlUnescapes[chr]}function runInContext(context){function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper)return value;if(hasOwnProperty.call(value,"__wrapped__"))return wrapperClone(value)}return new LodashWrapper(value)}function baseLodash(){}function LodashWrapper(value,chainAll){this.__wrapped__=value,this.__actions__=[],this.__chain__=!!chainAll,this.__index__=0,this.__values__=undefined}function LazyWrapper(value){this.__wrapped__=value,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=MAX_ARRAY_LENGTH,this.__views__=[]}function lazyClone(){var result=new LazyWrapper(this.__wrapped__);return result.__actions__=copyArray(this.__actions__),result.__dir__=this.__dir__,result.__filtered__=this.__filtered__,result.__iteratees__=copyArray(this.__iteratees__),result.__takeCount__=this.__takeCount__,result.__views__=copyArray(this.__views__),result}function lazyReverse(){if(this.__filtered__){var result=new LazyWrapper(this);result.__dir__=-1,result.__filtered__=!0}else result=this.clone(),result.__dir__*=-1;return result}function lazyValue(){var array=this.__wrapped__.value(),dir=this.__dir__,isArr=isArray(array),isRight=0>dir,arrLength=isArr?array.length:0,view=getView(0,arrLength,this.__views__),start=view.start,end=view.end,length=end-start,index=isRight?end:start-1,iteratees=this.__iteratees__,iterLength=iteratees.length,resIndex=0,takeCount=nativeMin(length,this.__takeCount__);if(!isArr||LARGE_ARRAY_SIZE>arrLength||arrLength==length&&takeCount==length)return baseWrapperValue(array,this.__actions__);var result=[];outer:for(;length--&&takeCount>resIndex;){index+=dir;for(var iterIndex=-1,value=array[index];++iterIndex<iterLength;){var data=iteratees[iterIndex],iteratee=data.iteratee,type=data.type,computed=iteratee(value);if(type==LAZY_MAP_FLAG)value=computed;else if(!computed){if(type==LAZY_FILTER_FLAG)continue outer;break outer}}result[resIndex++]=value}return result}function Hash(){}function hashDelete(hash,key){return hashHas(hash,key)&&delete hash[key]}function hashGet(hash,key){if(nativeCreate){var result=hash[key];return result===HASH_UNDEFINED?undefined:result}return hasOwnProperty.call(hash,key)?hash[key]:undefined}function hashHas(hash,key){return nativeCreate?hash[key]!==undefined:hasOwnProperty.call(hash,key)}function hashSet(hash,key,value){hash[key]=nativeCreate&&value===undefined?HASH_UNDEFINED:value}function MapCache(values){var index=-1,length=values?values.length:0;for(this.clear();++index<length;){var entry=values[index];this.set(entry[0],entry[1])}}function mapClear(){this.__data__={hash:new Hash,map:Map?new Map:[],string:new Hash}}function mapDelete(key){var data=this.__data__;return isKeyable(key)?hashDelete("string"==typeof key?data.string:data.hash,key):Map?data.map["delete"](key):assocDelete(data.map,key)}function mapGet(key){var data=this.__data__;return isKeyable(key)?hashGet("string"==typeof key?data.string:data.hash,key):Map?data.map.get(key):assocGet(data.map,key)}function mapHas(key){var data=this.__data__;return isKeyable(key)?hashHas("string"==typeof key?data.string:data.hash,key):Map?data.map.has(key):assocHas(data.map,key)}function mapSet(key,value){var data=this.__data__;return isKeyable(key)?hashSet("string"==typeof key?data.string:data.hash,key,value):Map?data.map.set(key,value):assocSet(data.map,key,value),this}function SetCache(values){var index=-1,length=values?values.length:0;for(this.__data__=new MapCache;++index<length;)this.push(values[index])}function cacheHas(cache,value){var map=cache.__data__;if(isKeyable(value)){var data=map.__data__,hash="string"==typeof value?data.string:data.hash;return hash[value]===HASH_UNDEFINED}return map.has(value)}function cachePush(value){var map=this.__data__;if(isKeyable(value)){var data=map.__data__,hash="string"==typeof value?data.string:data.hash;hash[value]=HASH_UNDEFINED}else map.set(value,HASH_UNDEFINED)}function Stack(values){var index=-1,length=values?values.length:0;for(this.clear();++index<length;){var entry=values[index];this.set(entry[0],entry[1])}}function stackClear(){this.__data__={array:[],map:null}}function stackDelete(key){var data=this.__data__,array=data.array;return array?assocDelete(array,key):data.map["delete"](key)}function stackGet(key){var data=this.__data__,array=data.array;return array?assocGet(array,key):data.map.get(key)}function stackHas(key){var data=this.__data__,array=data.array;return array?assocHas(array,key):data.map.has(key)}function stackSet(key,value){var data=this.__data__,array=data.array;array&&(array.length<LARGE_ARRAY_SIZE-1?assocSet(array,key,value):(data.array=null,data.map=new MapCache(array)));var map=data.map;return map&&map.set(key,value),this}function assocDelete(array,key){var index=assocIndexOf(array,key);if(0>index)return!1;var lastIndex=array.length-1;return index==lastIndex?array.pop():splice.call(array,index,1),!0}function assocGet(array,key){var index=assocIndexOf(array,key);return 0>index?undefined:array[index][1]}function assocHas(array,key){return assocIndexOf(array,key)>-1}function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}function assocSet(array,key,value){var index=assocIndexOf(array,key);0>index?array.push([key,value]):array[index][1]=value}function assignInDefaults(objValue,srcValue,key,object){return objValue===undefined||eq(objValue,objectProto[key])&&!hasOwnProperty.call(object,key)?srcValue:objValue}function assignMergeValue(object,key,value){(value!==undefined&&!eq(object[key],value)||"number"==typeof key&&value===undefined&&!(key in object))&&(object[key]=value)}function assignValue(object,key,value){var objValue=object[key];hasOwnProperty.call(object,key)&&eq(objValue,value)&&(value!==undefined||key in object)||(object[key]=value)}function baseAggregator(collection,setter,iteratee,accumulator){return baseEach(collection,function(value,key,collection){setter(accumulator,value,iteratee(value),collection)}),accumulator}function baseAssign(object,source){return object&&copyObject(source,keys(source),object)}function baseAt(object,paths){for(var index=-1,isNil=null==object,length=paths.length,result=Array(length);++index<length;)result[index]=isNil?undefined:get(object,paths[index]);return result}function baseCastArrayLikeObject(value){return isArrayLikeObject(value)?value:[]}function baseCastFunction(value){return"function"==typeof value?value:identity}function baseCastPath(value){return isArray(value)?value:stringToPath(value)}function baseClamp(number,lower,upper){return number===number&&(upper!==undefined&&(number=upper>=number?number:upper),lower!==undefined&&(number=number>=lower?number:lower)),number}function baseClone(value,isDeep,isFull,customizer,key,object,stack){var result;if(customizer&&(result=object?customizer(value,key,object,stack):customizer(value)),result!==undefined)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=initCloneArray(value),!isDeep)return copyArray(value,result)}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value))return cloneBuffer(value,isDeep);if(tag==objectTag||tag==argsTag||isFunc&&!object){if(isHostObject(value))return object?value:{};if(result=initCloneObject(isFunc?{}:value),!isDeep)return result=baseAssign(result,value),isFull?copySymbols(value,result):result}else{if(!cloneableTags[tag])return object?value:{};result=initCloneByTag(value,tag,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);return stacked?stacked:(stack.set(value,result),(isArr?arrayEach:baseForOwn)(value,function(subValue,key){assignValue(result,key,baseClone(subValue,isDeep,isFull,customizer,key,value,stack))}),isFull&&!isArr?copySymbols(value,result):result)}function baseConforms(source){var props=keys(source),length=props.length;return function(object){if(null==object)return!length;for(var index=length;index--;){var key=props[index],predicate=source[key],value=object[key];if(value===undefined&&!(key in Object(object))||!predicate(value))return!1}return!0}}function baseCreate(proto){return isObject(proto)?objectCreate(proto):{}}function baseDelay(func,wait,args){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return setTimeout(function(){func.apply(undefined,args)},wait)}function baseDifference(array,values,iteratee,comparator){var index=-1,includes=arrayIncludes,isCommon=!0,length=array.length,result=[],valuesLength=values.length;if(!length)return result;iteratee&&(values=arrayMap(values,baseUnary(iteratee))),comparator?(includes=arrayIncludesWith,isCommon=!1):values.length>=LARGE_ARRAY_SIZE&&(includes=cacheHas,isCommon=!1,values=new SetCache(values));outer:for(;++index<length;){var value=array[index],computed=iteratee?iteratee(value):value;if(isCommon&&computed===computed){for(var valuesIndex=valuesLength;valuesIndex--;)if(values[valuesIndex]===computed)continue outer;result.push(value)}else includes(values,computed,comparator)||result.push(value)}return result}function baseEvery(collection,predicate){var result=!0;return baseEach(collection,function(value,index,collection){return result=!!predicate(value,index,collection)}),result}function baseFill(array,value,start,end){var length=array.length;for(start=toInteger(start),0>start&&(start=-start>length?0:length+start),end=end===undefined||end>length?length:toInteger(end),0>end&&(end+=length),end=start>end?0:toLength(end);end>start;)array[start++]=value;return array}function baseFilter(collection,predicate){var result=[];return baseEach(collection,function(value,index,collection){predicate(value,index,collection)&&result.push(value)}),result}function baseFlatten(array,depth,isStrict,result){result||(result=[]);for(var index=-1,length=array.length;++index<length;){var value=array[index];depth>0&&isArrayLikeObject(value)&&(isStrict||isArray(value)||isArguments(value))?depth>1?baseFlatten(value,depth-1,isStrict,result):arrayPush(result,value):isStrict||(result[result.length]=value)}return result}function baseForIn(object,iteratee){return null==object?object:baseFor(object,iteratee,keysIn)}function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}function baseForOwnRight(object,iteratee){return object&&baseForRight(object,iteratee,keys)}function baseFunctions(object,props){return arrayFilter(props,function(key){return isFunction(object[key])})}function baseGet(object,path){path=isKey(path,object)?[path+""]:baseCastPath(path);for(var index=0,length=path.length;null!=object&&length>index;)object=object[path[index++]];return index&&index==length?object:undefined}function baseHas(object,key){return hasOwnProperty.call(object,key)||"object"==typeof object&&key in object&&null===getPrototypeOf(object)}function baseHasIn(object,key){return key in Object(object)}function baseInRange(number,start,end){return number>=nativeMin(start,end)&&number<nativeMax(start,end)}function baseIntersection(arrays,iteratee,comparator){for(var includes=comparator?arrayIncludesWith:arrayIncludes,length=arrays[0].length,othLength=arrays.length,othIndex=othLength,caches=Array(othLength),maxLength=1/0,result=[];othIndex--;){var array=arrays[othIndex];othIndex&&iteratee&&(array=arrayMap(array,baseUnary(iteratee))),maxLength=nativeMin(array.length,maxLength),caches[othIndex]=!comparator&&(iteratee||length>=120&&array.length>=120)?new SetCache(othIndex&&array):undefined}array=arrays[0];var index=-1,seen=caches[0];outer:for(;++index<length&&result.length<maxLength;){var value=array[index],computed=iteratee?iteratee(value):value;if(!(seen?cacheHas(seen,computed):includes(result,computed,comparator))){for(othIndex=othLength;--othIndex;){var cache=caches[othIndex];if(!(cache?cacheHas(cache,computed):includes(arrays[othIndex],computed,comparator)))continue outer}seen&&seen.push(computed),result.push(value)}}return result}function baseInverter(object,setter,iteratee,accumulator){return baseForOwn(object,function(value,key,object){setter(accumulator,iteratee(value),key,object)}),accumulator}function baseInvoke(object,path,args){isKey(path,object)||(path=baseCastPath(path),object=parent(object,path),path=last(path));var func=null==object?object:object[path];return null==func?undefined:apply(func,object,args)}function baseIsEqual(value,other,customizer,bitmask,stack){return value===other?!0:null==value||null==other||!isObject(value)&&!isObjectLike(other)?value!==value&&other!==other:baseIsEqualDeep(value,other,baseIsEqual,customizer,bitmask,stack)}function baseIsEqualDeep(object,other,equalFunc,customizer,bitmask,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;objIsArr||(objTag=getTag(object),objTag=objTag==argsTag?objectTag:objTag),othIsArr||(othTag=getTag(other),othTag=othTag==argsTag?objectTag:othTag);var objIsObj=objTag==objectTag&&!isHostObject(object),othIsObj=othTag==objectTag&&!isHostObject(other),isSameTag=objTag==othTag;if(isSameTag&&!objIsObj)return stack||(stack=new Stack),objIsArr||isTypedArray(object)?equalArrays(object,other,equalFunc,customizer,bitmask,stack):equalByTag(object,other,objTag,equalFunc,customizer,bitmask,stack);if(!(bitmask&PARTIAL_COMPARE_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped)return stack||(stack=new Stack),equalFunc(objIsWrapped?object.value():object,othIsWrapped?other.value():other,customizer,bitmask,stack)}return isSameTag?(stack||(stack=new Stack),equalObjects(object,other,equalFunc,customizer,bitmask,stack)):!1}function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=Object(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(objValue===undefined&&!(key in object))return!1}else{var stack=new Stack,result=customizer?customizer(objValue,srcValue,key,object,source,stack):undefined;if(!(result===undefined?baseIsEqual(srcValue,objValue,customizer,UNORDERED_COMPARE_FLAG|PARTIAL_COMPARE_FLAG,stack):result))return!1}}return!0}function baseIteratee(value){var type=typeof value;return"function"==type?value:null==value?identity:"object"==type?isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value):property(value)}function baseKeys(object){return nativeKeys(Object(object))}function baseKeysIn(object){object=null==object?object:Object(object);var result=[];for(var key in object)result.push(key);return result}function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection)}),result}function baseMatches(source){var matchData=getMatchData(source);if(1==matchData.length&&matchData[0][2]){var key=matchData[0][0],value=matchData[0][1];return function(object){return null==object?!1:object[key]===value&&(value!==undefined||key in Object(object))}}return function(object){return object===source||baseIsMatch(object,source,matchData)}}function baseMatchesProperty(path,srcValue){return function(object){var objValue=get(object,path);return objValue===undefined&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,undefined,UNORDERED_COMPARE_FLAG|PARTIAL_COMPARE_FLAG)}}function baseMerge(object,source,srcIndex,customizer,stack){if(object!==source){var props=isArray(source)||isTypedArray(source)?undefined:keysIn(source);arrayEach(props||source,function(srcValue,key){if(props&&(key=srcValue,srcValue=source[key]),isObject(srcValue))stack||(stack=new Stack),baseMergeDeep(object,source,key,srcIndex,baseMerge,customizer,stack);else{var newValue=customizer?customizer(object[key],srcValue,key+"",object,source,stack):undefined;newValue===undefined&&(newValue=srcValue),assignMergeValue(object,key,newValue)}})}}function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=object[key],srcValue=source[key],stacked=stack.get(srcValue);if(stacked)return void assignMergeValue(object,key,stacked);var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):undefined,isCommon=newValue===undefined;isCommon&&(newValue=srcValue,isArray(srcValue)||isTypedArray(srcValue)?isArray(objValue)?newValue=objValue:isArrayLikeObject(objValue)?newValue=copyArray(objValue):(isCommon=!1,newValue=baseClone(srcValue,!customizer)):isPlainObject(srcValue)||isArguments(srcValue)?isArguments(objValue)?newValue=toPlainObject(objValue):!isObject(objValue)||srcIndex&&isFunction(objValue)?(isCommon=!1,newValue=baseClone(srcValue,!customizer)):newValue=objValue:isCommon=!1),stack.set(srcValue,newValue),isCommon&&mergeFunc(newValue,srcValue,srcIndex,customizer,stack),stack["delete"](srcValue),assignMergeValue(object,key,newValue)}function baseOrderBy(collection,iteratees,orders){var index=-1;iteratees=arrayMap(iteratees.length?iteratees:Array(1),getIteratee());var result=baseMap(collection,function(value,key,collection){var criteria=arrayMap(iteratees,function(iteratee){return iteratee(value)});return{criteria:criteria,index:++index,value:value}});return baseSortBy(result,function(object,other){return compareMultiple(object,other,orders)})}function basePick(object,props){return object=Object(object),arrayReduce(props,function(result,key){return key in object&&(result[key]=object[key]),result},{})}function basePickBy(object,predicate){var result={};return baseForIn(object,function(value,key){predicate(value,key)&&(result[key]=value)}),result}function baseProperty(key){return function(object){return null==object?undefined:object[key]}}function basePropertyDeep(path){return function(object){return baseGet(object,path)}}function basePullAll(array,values,iteratee,comparator){var indexOf=comparator?baseIndexOfWith:baseIndexOf,index=-1,length=values.length,seen=array;for(iteratee&&(seen=arrayMap(array,baseUnary(iteratee)));++index<length;)for(var fromIndex=0,value=values[index],computed=iteratee?iteratee(value):value;(fromIndex=indexOf(seen,computed,fromIndex,comparator))>-1;)seen!==array&&splice.call(seen,fromIndex,1),splice.call(array,fromIndex,1);return array}function basePullAt(array,indexes){for(var length=array?indexes.length:0,lastIndex=length-1;length--;){var index=indexes[length];if(lastIndex==length||index!=previous){var previous=index;if(isIndex(index))splice.call(array,index,1);else if(isKey(index,array))delete array[index];else{var path=baseCastPath(index),object=parent(array,path);null!=object&&delete object[last(path)]}}}return array}function baseRandom(lower,upper){return lower+nativeFloor(nativeRandom()*(upper-lower+1))}function baseRange(start,end,step,fromRight){for(var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);length--;)result[fromRight?length:++index]=start,start+=step;return result}function baseSet(object,path,value,customizer){path=isKey(path,object)?[path+""]:baseCastPath(path);for(var index=-1,length=path.length,lastIndex=length-1,nested=object;null!=nested&&++index<length;){var key=path[index];if(isObject(nested)){var newValue=value;if(index!=lastIndex){var objValue=nested[key];newValue=customizer?customizer(objValue,key,nested):undefined,newValue===undefined&&(newValue=null==objValue?isIndex(path[index+1])?[]:{}:objValue)}assignValue(nested,key,newValue)}nested=nested[key]}return object}function baseSlice(array,start,end){var index=-1,length=array.length;0>start&&(start=-start>length?0:length+start),end=end>length?length:end,0>end&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result}function baseSome(collection,predicate){var result;return baseEach(collection,function(value,index,collection){return result=predicate(value,index,collection),!result}),!!result}function baseSortedIndex(array,value,retHighest){var low=0,high=array?array.length:low;if("number"==typeof value&&value===value&&HALF_MAX_ARRAY_LENGTH>=high){for(;high>low;){var mid=low+high>>>1,computed=array[mid];(retHighest?value>=computed:value>computed)&&null!==computed?low=mid+1:high=mid}return high}return baseSortedIndexBy(array,value,identity,retHighest)}function baseSortedIndexBy(array,value,iteratee,retHighest){value=iteratee(value);for(var low=0,high=array?array.length:0,valIsNaN=value!==value,valIsNull=null===value,valIsUndef=value===undefined;high>low;){var mid=nativeFloor((low+high)/2),computed=iteratee(array[mid]),isDef=computed!==undefined,isReflexive=computed===computed;if(valIsNaN)var setLow=isReflexive||retHighest;else setLow=valIsNull?isReflexive&&isDef&&(retHighest||null!=computed):valIsUndef?isReflexive&&(retHighest||isDef):null==computed?!1:retHighest?value>=computed:value>computed;setLow?low=mid+1:high=mid}return nativeMin(high,MAX_ARRAY_INDEX)}function baseSortedUniq(array){return baseSortedUniqBy(array)}function baseSortedUniqBy(array,iteratee){for(var index=0,length=array.length,value=array[0],computed=iteratee?iteratee(value):value,seen=computed,resIndex=1,result=[value];++index<length;)value=array[index],computed=iteratee?iteratee(value):value,eq(computed,seen)||(seen=computed,result[resIndex++]=value);return result}function baseUniq(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=!0,result=[],seen=result;if(comparator)isCommon=!1,includes=arrayIncludesWith;else if(length>=LARGE_ARRAY_SIZE){var set=iteratee?null:createSet(array);if(set)return setToArray(set);isCommon=!1,includes=cacheHas,seen=new SetCache}else seen=iteratee?[]:result;outer:for(;++index<length;){var value=array[index],computed=iteratee?iteratee(value):value;if(isCommon&&computed===computed){for(var seenIndex=seen.length;seenIndex--;)if(seen[seenIndex]===computed)continue outer;iteratee&&seen.push(computed),result.push(value)}else includes(seen,computed,comparator)||(seen!==result&&seen.push(computed),result.push(value))}return result}function baseUnset(object,path){path=isKey(path,object)?[path+""]:baseCastPath(path),object=parent(object,path);var key=last(path);return null!=object&&has(object,key)?delete object[key]:!0}function baseUpdate(object,path,updater,customizer){return baseSet(object,path,updater(baseGet(object,path)),customizer)}function baseWhile(array,predicate,isDrop,fromRight){for(var length=array.length,index=fromRight?length:-1;(fromRight?index--:++index<length)&&predicate(array[index],index,array););return isDrop?baseSlice(array,fromRight?0:index,fromRight?index+1:length):baseSlice(array,fromRight?index+1:0,fromRight?length:index)}function baseWrapperValue(value,actions){var result=value;return result instanceof LazyWrapper&&(result=result.value()),arrayReduce(actions,function(result,action){return action.func.apply(action.thisArg,arrayPush([result],action.args))},result)}function baseXor(arrays,iteratee,comparator){for(var index=-1,length=arrays.length;++index<length;)var result=result?arrayPush(baseDifference(result,arrays[index],iteratee,comparator),baseDifference(arrays[index],result,iteratee,comparator)):arrays[index];return result&&result.length?baseUniq(result,iteratee,comparator):[]}function baseZipObject(props,values,assignFunc){for(var index=-1,length=props.length,valsLength=values.length,result={};++index<length;)assignFunc(result,props[index],valsLength>index?values[index]:undefined);return result}function cloneBuffer(buffer,isDeep){if(isDeep)return buffer.slice();var result=new buffer.constructor(buffer.length);return buffer.copy(result),result}function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);return new Uint8Array(result).set(new Uint8Array(arrayBuffer)),result}function cloneMap(map){return arrayReduce(mapToArray(map),addMapEntry,new map.constructor)}function cloneRegExp(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));return result.lastIndex=regexp.lastIndex,result}function cloneSet(set){return arrayReduce(setToArray(set),addSetEntry,new set.constructor)}function cloneSymbol(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}}function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}function composeArgs(args,partials,holders,isCurried){for(var argsIndex=-1,argsLength=args.length,holdersLength=holders.length,leftIndex=-1,leftLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(leftLength+rangeLength),isUncurried=!isCurried;++leftIndex<leftLength;)result[leftIndex]=partials[leftIndex];for(;++argsIndex<holdersLength;)(isUncurried||argsLength>argsIndex)&&(result[holders[argsIndex]]=args[argsIndex]);for(;rangeLength--;)result[leftIndex++]=args[argsIndex++];return result}function composeArgsRight(args,partials,holders,isCurried){for(var argsIndex=-1,argsLength=args.length,holdersIndex=-1,holdersLength=holders.length,rightIndex=-1,rightLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(rangeLength+rightLength),isUncurried=!isCurried;++argsIndex<rangeLength;)result[argsIndex]=args[argsIndex];for(var offset=argsIndex;++rightIndex<rightLength;)result[offset+rightIndex]=partials[rightIndex];for(;++holdersIndex<holdersLength;)(isUncurried||argsLength>argsIndex)&&(result[offset+holders[holdersIndex]]=args[argsIndex++]);return result}function copyArray(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}function copyObject(source,props,object){return copyObjectWith(source,props,object)}function copyObjectWith(source,props,object,customizer){object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index],newValue=customizer?customizer(object[key],source[key],key,object,source):source[key];assignValue(object,key,newValue)}return object}function copySymbols(source,object){return copyObject(source,getSymbols(source),object)}function createAggregator(setter,initializer){return function(collection,iteratee){var func=isArray(collection)?arrayAggregator:baseAggregator,accumulator=initializer?initializer():{};return func(collection,setter,getIteratee(iteratee),accumulator)}}function createAssigner(assigner){return rest(function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:undefined,guard=length>2?sources[2]:undefined;for(customizer="function"==typeof customizer?(length--,customizer):undefined,guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=3>length?undefined:customizer,length=1),object=Object(object);++index<length;){var source=sources[index];source&&assigner(object,source,index,customizer)}return object})}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(null==collection)return collection;if(!isArrayLike(collection))return eachFunc(collection,iteratee);for(var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);(fromRight?index--:++index<length)&&iteratee(iterable[index],index,iterable)!==!1;);return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(iteratee(iterable[key],key,iterable)===!1)break}return object}}function createBaseWrapper(func,bitmask,thisArg){function wrapper(){var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return fn.apply(isBind?thisArg:this,arguments)}var isBind=bitmask&BIND_FLAG,Ctor=createCtorWrapper(func);return wrapper}function createCaseFirst(methodName){return function(string){string=toString(string);var strSymbols=reHasComplexSymbol.test(string)?stringToArray(string):undefined,chr=strSymbols?strSymbols[0]:string.charAt(0),trailing=strSymbols?strSymbols.slice(1).join(""):string.slice(1);return chr[methodName]()+trailing}}function createCompounder(callback){return function(string){return arrayReduce(words(deburr(string)),callback,"")}}function createCtorWrapper(Ctor){return function(){var args=arguments;switch(args.length){case 0:return new Ctor;case 1:return new Ctor(args[0]);case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);case 6:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5],args[6])}var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);return isObject(result)?result:thisBinding}}function createCurryWrapper(func,bitmask,arity){function wrapper(){for(var length=arguments.length,args=Array(length),index=length,placeholder=getPlaceholder(wrapper);index--;)args[index]=arguments[index];var holders=3>length&&args[0]!==placeholder&&args[length-1]!==placeholder?[]:replaceHolders(args,placeholder);if(length-=holders.length,arity>length)return createRecurryWrapper(func,bitmask,createHybridWrapper,wrapper.placeholder,undefined,args,holders,undefined,undefined,arity-length);var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return apply(fn,this,args)}var Ctor=createCtorWrapper(func);return wrapper}function createFlow(fromRight){return rest(function(funcs){funcs=baseFlatten(funcs,1);var length=funcs.length,index=length,prereq=LodashWrapper.prototype.thru;

for(fromRight&&funcs.reverse();index--;){var func=funcs[index];if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);if(prereq&&!wrapper&&"wrapper"==getFuncName(func))var wrapper=new LodashWrapper([],!0)}for(index=wrapper?index:length;++index<length;){func=funcs[index];var funcName=getFuncName(func),data="wrapper"==funcName?getData(func):undefined;wrapper=data&&isLaziable(data[0])&&data[1]==(ARY_FLAG|CURRY_FLAG|PARTIAL_FLAG|REARG_FLAG)&&!data[4].length&&1==data[9]?wrapper[getFuncName(data[0])].apply(wrapper,data[3]):1==func.length&&isLaziable(func)?wrapper[funcName]():wrapper.thru(func)}return function(){var args=arguments,value=args[0];if(wrapper&&1==args.length&&isArray(value)&&value.length>=LARGE_ARRAY_SIZE)return wrapper.plant(value).value();for(var index=0,result=length?funcs[index].apply(this,args):value;++index<length;)result=funcs[index].call(this,result);return result}})}function createHybridWrapper(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){function wrapper(){for(var length=arguments.length,index=length,args=Array(length);index--;)args[index]=arguments[index];if(isCurried)var placeholder=getPlaceholder(wrapper),holdersCount=countHolders(args,placeholder);if(partials&&(args=composeArgs(args,partials,holders,isCurried)),partialsRight&&(args=composeArgsRight(args,partialsRight,holdersRight,isCurried)),length-=holdersCount,isCurried&&arity>length){var newHolders=replaceHolders(args,placeholder);return createRecurryWrapper(func,bitmask,createHybridWrapper,wrapper.placeholder,thisArg,args,newHolders,argPos,ary,arity-length)}var thisBinding=isBind?thisArg:this,fn=isBindKey?thisBinding[func]:func;return length=args.length,argPos?args=reorder(args,argPos):isFlip&&length>1&&args.reverse(),isAry&&length>ary&&(args.length=ary),this&&this!==root&&this instanceof wrapper&&(fn=Ctor||createCtorWrapper(fn)),fn.apply(thisBinding,args)}var isAry=bitmask&ARY_FLAG,isBind=bitmask&BIND_FLAG,isBindKey=bitmask&BIND_KEY_FLAG,isCurried=bitmask&(CURRY_FLAG|CURRY_RIGHT_FLAG),isFlip=bitmask&FLIP_FLAG,Ctor=isBindKey?undefined:createCtorWrapper(func);return wrapper}function createInverter(setter,toIteratee){return function(object,iteratee){return baseInverter(object,setter,toIteratee(iteratee),{})}}function createOver(arrayFunc){return rest(function(iteratees){return iteratees=arrayMap(baseFlatten(iteratees,1),getIteratee()),rest(function(args){var thisArg=this;return arrayFunc(iteratees,function(iteratee){return apply(iteratee,thisArg,args)})})})}function createPadding(string,length,chars){length=toInteger(length);var strLength=stringSize(string);if(!length||strLength>=length)return"";var padLength=length-strLength;chars=chars===undefined?" ":chars+"";var result=repeat(chars,nativeCeil(padLength/stringSize(chars)));return reHasComplexSymbol.test(chars)?stringToArray(result).slice(0,padLength).join(""):result.slice(0,padLength)}function createPartialWrapper(func,bitmask,thisArg,partials){function wrapper(){for(var argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(leftLength+argsLength),fn=this&&this!==root&&this instanceof wrapper?Ctor:func;++leftIndex<leftLength;)args[leftIndex]=partials[leftIndex];for(;argsLength--;)args[leftIndex++]=arguments[++argsIndex];return apply(fn,isBind?thisArg:this,args)}var isBind=bitmask&BIND_FLAG,Ctor=createCtorWrapper(func);return wrapper}function createRange(fromRight){return function(start,end,step){return step&&"number"!=typeof step&&isIterateeCall(start,end,step)&&(end=step=undefined),start=toNumber(start),start=start===start?start:0,end===undefined?(end=start,start=0):end=toNumber(end)||0,step=step===undefined?end>start?1:-1:toNumber(step)||0,baseRange(start,end,step,fromRight)}}function createRecurryWrapper(func,bitmask,wrapFunc,placeholder,thisArg,partials,holders,argPos,ary,arity){var isCurry=bitmask&CURRY_FLAG,newArgPos=argPos?copyArray(argPos):undefined,newHolders=isCurry?holders:undefined,newHoldersRight=isCurry?undefined:holders,newPartials=isCurry?partials:undefined,newPartialsRight=isCurry?undefined:partials;bitmask|=isCurry?PARTIAL_FLAG:PARTIAL_RIGHT_FLAG,bitmask&=~(isCurry?PARTIAL_RIGHT_FLAG:PARTIAL_FLAG),bitmask&CURRY_BOUND_FLAG||(bitmask&=~(BIND_FLAG|BIND_KEY_FLAG));var newData=[func,bitmask,thisArg,newPartials,newHolders,newPartialsRight,newHoldersRight,newArgPos,ary,arity],result=wrapFunc.apply(undefined,newData);return isLaziable(func)&&setData(result,newData),result.placeholder=placeholder,result}function createRound(methodName){var func=Math[methodName];return function(number,precision){if(number=toNumber(number),precision=toInteger(precision)){var pair=(toString(number)+"e").split("e"),value=func(pair[0]+"e"+(+pair[1]+precision));return pair=(toString(value)+"e").split("e"),+(pair[0]+"e"+(+pair[1]-precision))}return func(number)}}function createWrapper(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=bitmask&BIND_KEY_FLAG;if(!isBindKey&&"function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);var length=partials?partials.length:0;if(length||(bitmask&=~(PARTIAL_FLAG|PARTIAL_RIGHT_FLAG),partials=holders=undefined),ary=ary===undefined?ary:nativeMax(toInteger(ary),0),arity=arity===undefined?arity:toInteger(arity),length-=holders?holders.length:0,bitmask&PARTIAL_RIGHT_FLAG){var partialsRight=partials,holdersRight=holders;partials=holders=undefined}var data=isBindKey?undefined:getData(func),newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data&&mergeData(newData,data),func=newData[0],bitmask=newData[1],thisArg=newData[2],partials=newData[3],holders=newData[4],arity=newData[9]=null==newData[9]?isBindKey?0:func.length:nativeMax(newData[9]-length,0),!arity&&bitmask&(CURRY_FLAG|CURRY_RIGHT_FLAG)&&(bitmask&=~(CURRY_FLAG|CURRY_RIGHT_FLAG)),bitmask&&bitmask!=BIND_FLAG)result=bitmask==CURRY_FLAG||bitmask==CURRY_RIGHT_FLAG?createCurryWrapper(func,bitmask,arity):bitmask!=PARTIAL_FLAG&&bitmask!=(BIND_FLAG|PARTIAL_FLAG)||holders.length?createHybridWrapper.apply(undefined,newData):createPartialWrapper(func,bitmask,thisArg,partials);else var result=createBaseWrapper(func,bitmask,thisArg);var setter=data?baseSetData:setData;return setter(result,newData)}function equalArrays(array,other,equalFunc,customizer,bitmask,stack){var index=-1,isPartial=bitmask&PARTIAL_COMPARE_FLAG,isUnordered=bitmask&UNORDERED_COMPARE_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var stacked=stack.get(array);if(stacked)return stacked==other;var result=!0;for(stack.set(array,other);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(compared!==undefined){if(compared)continue;result=!1;break}if(isUnordered){if(!arraySome(other,function(othValue){return arrValue===othValue||equalFunc(arrValue,othValue,customizer,bitmask,stack)})){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,customizer,bitmask,stack)){result=!1;break}}return stack["delete"](array),result}function equalByTag(object,other,tag,equalFunc,customizer,bitmask,stack){switch(tag){case arrayBufferTag:return object.byteLength==other.byteLength&&equalFunc(new Uint8Array(object),new Uint8Array(other))?!0:!1;case boolTag:case dateTag:return+object==+other;case errorTag:return object.name==other.name&&object.message==other.message;case numberTag:return object!=+object?other!=+other:object==+other;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&PARTIAL_COMPARE_FLAG;if(convert||(convert=setToArray),object.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object);return stacked?stacked==other:equalArrays(convert(object),convert(other),equalFunc,customizer,bitmask|UNORDERED_COMPARE_FLAG,stack.set(object,other));case symbolTag:if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}function equalObjects(object,other,equalFunc,customizer,bitmask,stack){var isPartial=bitmask&PARTIAL_COMPARE_FLAG,objProps=keys(object),objLength=objProps.length,othProps=keys(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isPartial?key in other:baseHas(other,key)))return!1}var stacked=stack.get(object);if(stacked)return stacked==other;var result=!0;stack.set(object,other);for(var skipCtor=isPartial;++index<objLength;){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(compared===undefined?objValue===othValue||equalFunc(objValue,othValue,customizer,bitmask,stack):compared)){result=!1;break}skipCtor||(skipCtor="constructor"==key)}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!("function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor)&&(result=!1)}return stack["delete"](object),result}function getFuncName(func){for(var result=func.name+"",array=realNames[result],length=hasOwnProperty.call(realNames,result)?array.length:0;length--;){var data=array[length],otherFunc=data.func;if(null==otherFunc||otherFunc==func)return data.name}return result}function getIteratee(){var result=lodash.iteratee||iteratee;return result=result===iteratee?baseIteratee:result,arguments.length?result(arguments[0],arguments[1]):result}function getMatchData(object){for(var result=toPairs(object),length=result.length;length--;)result[length][2]=isStrictComparable(result[length][1]);return result}function getNative(object,key){var value=object[key];return isNative(value)?value:undefined}function getPlaceholder(func){var object=hasOwnProperty.call(lodash,"placeholder")?lodash:func;return object.placeholder}function getTag(value){return objectToString.call(value)}function getView(start,end,transforms){for(var index=-1,length=transforms.length;++index<length;){var data=transforms[index],size=data.size;switch(data.type){case"drop":start+=size;break;case"dropRight":end-=size;break;case"take":end=nativeMin(end,start+size);break;case"takeRight":start=nativeMax(start,end-size)}}return{start:start,end:end}}function hasPath(object,path,hasFunc){if(null==object)return!1;var result=hasFunc(object,path);result||isKey(path)||(path=baseCastPath(path),object=parent(object,path),null!=object&&(path=last(path),result=hasFunc(object,path)));var length=object?object.length:undefined;return result||!!length&&isLength(length)&&isIndex(path,length)&&(isArray(object)||isString(object)||isArguments(object))}function initCloneArray(array){var length=array.length,result=array.constructor(length);return length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input),result}function initCloneObject(object){return"function"!=typeof object.constructor||isPrototype(object)?{}:baseCreate(getPrototypeOf(object))}function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor(+object);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:return cloneTypedArray(object,isDeep);case mapTag:return cloneMap(object);case numberTag:case stringTag:return new Ctor(object);case regexpTag:return cloneRegExp(object);case setTag:return cloneSet(object);case symbolTag:return cloneSymbol(object)}}function indexKeys(object){var length=object?object.length:undefined;return isLength(length)&&(isArray(object)||isString(object)||isArguments(object))?baseTimes(length,String):null}function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;return("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object)?eq(object[index],value):!1}function isKey(value,object){return"number"==typeof value?!0:!isArray(value)&&(reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object))}function isKeyable(value){var type=typeof value;return"number"==type||"boolean"==type||"string"==type&&"__proto__"!=value||null==value}function isLaziable(func){var funcName=getFuncName(func),other=lodash[funcName];if("function"!=typeof other||!(funcName in LazyWrapper.prototype))return!1;if(func===other)return!0;var data=getData(other);return!!data&&func===data[0]}function isPrototype(value){var Ctor=value&&value.constructor,proto="function"==typeof Ctor&&Ctor.prototype||objectProto;return value===proto}function isStrictComparable(value){return value===value&&!isObject(value)}function mergeData(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=(BIND_FLAG|BIND_KEY_FLAG|ARY_FLAG)>newBitmask,isCombo=srcBitmask==ARY_FLAG&&bitmask==CURRY_FLAG||srcBitmask==ARY_FLAG&&bitmask==REARG_FLAG&&data[7].length<=source[8]||srcBitmask==(ARY_FLAG|REARG_FLAG)&&source[7].length<=source[8]&&bitmask==CURRY_FLAG;if(!isCommon&&!isCombo)return data;srcBitmask&BIND_FLAG&&(data[2]=source[2],newBitmask|=bitmask&BIND_FLAG?0:CURRY_BOUND_FLAG);var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):copyArray(value),data[4]=partials?replaceHolders(data[3],PLACEHOLDER):copyArray(source[4])}return value=source[5],value&&(partials=data[5],data[5]=partials?composeArgsRight(partials,value,source[6]):copyArray(value),data[6]=partials?replaceHolders(data[5],PLACEHOLDER):copyArray(source[6])),value=source[7],value&&(data[7]=copyArray(value)),srcBitmask&ARY_FLAG&&(data[8]=null==data[8]?source[8]:nativeMin(data[8],source[8])),null==data[9]&&(data[9]=source[9]),data[0]=source[0],data[1]=newBitmask,data}function mergeDefaults(objValue,srcValue,key,object,source,stack){return isObject(objValue)&&isObject(srcValue)&&baseMerge(objValue,srcValue,undefined,mergeDefaults,stack.set(srcValue,objValue)),objValue}function parent(object,path){return 1==path.length?object:get(object,baseSlice(path,0,-1))}function reorder(array,indexes){for(var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=copyArray(array);length--;){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:undefined}return array}function stringToPath(string){var result=[];return toString(string).replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)}),result}function wrapperClone(wrapper){if(wrapper instanceof LazyWrapper)return wrapper.clone();var result=new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__);return result.__actions__=copyArray(wrapper.__actions__),result.__index__=wrapper.__index__,result.__values__=wrapper.__values__,result}function chunk(array,size){size=nativeMax(toInteger(size),0);var length=array?array.length:0;if(!length||1>size)return[];for(var index=0,resIndex=0,result=Array(nativeCeil(length/size));length>index;)result[resIndex++]=baseSlice(array,index,index+=size);return result}function compact(array){for(var index=-1,length=array?array.length:0,resIndex=0,result=[];++index<length;){var value=array[index];value&&(result[resIndex++]=value)}return result}function drop(array,n,guard){var length=array?array.length:0;return length?(n=guard||n===undefined?1:toInteger(n),baseSlice(array,0>n?0:n,length)):[]}function dropRight(array,n,guard){var length=array?array.length:0;return length?(n=guard||n===undefined?1:toInteger(n),n=length-n,baseSlice(array,0,0>n?0:n)):[]}function dropRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),!0,!0):[]}function dropWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),!0):[]}function fill(array,value,start,end){var length=array?array.length:0;return length?(start&&"number"!=typeof start&&isIterateeCall(array,value,start)&&(start=0,end=length),baseFill(array,value,start,end)):[]}function findIndex(array,predicate){return array&&array.length?baseFindIndex(array,getIteratee(predicate,3)):-1}function findLastIndex(array,predicate){return array&&array.length?baseFindIndex(array,getIteratee(predicate,3),!0):-1}function flatten(array){var length=array?array.length:0;return length?baseFlatten(array,1):[]}function flattenDeep(array){var length=array?array.length:0;return length?baseFlatten(array,INFINITY):[]}function flattenDepth(array,depth){var length=array?array.length:0;return length?(depth=depth===undefined?1:toInteger(depth),baseFlatten(array,depth)):[]}function fromPairs(pairs){for(var index=-1,length=pairs?pairs.length:0,result={};++index<length;){var pair=pairs[index];result[pair[0]]=pair[1]}return result}function head(array){return array?array[0]:undefined}function indexOf(array,value,fromIndex){var length=array?array.length:0;return length?(fromIndex=toInteger(fromIndex),0>fromIndex&&(fromIndex=nativeMax(length+fromIndex,0)),baseIndexOf(array,value,fromIndex)):-1}function initial(array){return dropRight(array,1)}function join(array,separator){return array?nativeJoin.call(array,separator):""}function last(array){var length=array?array.length:0;return length?array[length-1]:undefined}function lastIndexOf(array,value,fromIndex){var length=array?array.length:0;if(!length)return-1;var index=length;if(fromIndex!==undefined&&(index=toInteger(fromIndex),index=(0>index?nativeMax(length+index,0):nativeMin(index,length-1))+1),value!==value)return indexOfNaN(array,index,!0);for(;index--;)if(array[index]===value)return index;return-1}function pullAll(array,values){return array&&array.length&&values&&values.length?basePullAll(array,values):array}function pullAllBy(array,values,iteratee){return array&&array.length&&values&&values.length?basePullAll(array,values,getIteratee(iteratee)):array}function pullAllWith(array,values,comparator){return array&&array.length&&values&&values.length?basePullAll(array,values,undefined,comparator):array}function remove(array,predicate){var result=[];if(!array||!array.length)return result;var index=-1,indexes=[],length=array.length;for(predicate=getIteratee(predicate,3);++index<length;){var value=array[index];predicate(value,index,array)&&(result.push(value),indexes.push(index))}return basePullAt(array,indexes),result}function reverse(array){return array?nativeReverse.call(array):array}function slice(array,start,end){var length=array?array.length:0;return length?(end&&"number"!=typeof end&&isIterateeCall(array,start,end)?(start=0,end=length):(start=null==start?0:toInteger(start),end=end===undefined?length:toInteger(end)),baseSlice(array,start,end)):[]}function sortedIndex(array,value){return baseSortedIndex(array,value)}function sortedIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee))}function sortedIndexOf(array,value){var length=array?array.length:0;if(length){var index=baseSortedIndex(array,value);if(length>index&&eq(array[index],value))return index}return-1}function sortedLastIndex(array,value){return baseSortedIndex(array,value,!0)}function sortedLastIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee),!0)}function sortedLastIndexOf(array,value){var length=array?array.length:0;if(length){var index=baseSortedIndex(array,value,!0)-1;if(eq(array[index],value))return index}return-1}function sortedUniq(array){return array&&array.length?baseSortedUniq(array):[]}function sortedUniqBy(array,iteratee){return array&&array.length?baseSortedUniqBy(array,getIteratee(iteratee)):[]}function tail(array){return drop(array,1)}function take(array,n,guard){return array&&array.length?(n=guard||n===undefined?1:toInteger(n),baseSlice(array,0,0>n?0:n)):[]}function takeRight(array,n,guard){var length=array?array.length:0;return length?(n=guard||n===undefined?1:toInteger(n),n=length-n,baseSlice(array,0>n?0:n,length)):[]}function takeRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),!1,!0):[]}function takeWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3)):[]}function uniq(array){return array&&array.length?baseUniq(array):[]}function uniqBy(array,iteratee){return array&&array.length?baseUniq(array,getIteratee(iteratee)):[]}function uniqWith(array,comparator){return array&&array.length?baseUniq(array,undefined,comparator):[]}function unzip(array){if(!array||!array.length)return[];var length=0;return array=arrayFilter(array,function(group){return isArrayLikeObject(group)?(length=nativeMax(group.length,length),!0):void 0}),baseTimes(length,function(index){return arrayMap(array,baseProperty(index))})}function unzipWith(array,iteratee){if(!array||!array.length)return[];var result=unzip(array);return null==iteratee?result:arrayMap(result,function(group){return apply(iteratee,undefined,group)})}function zipObject(props,values){return baseZipObject(props||[],values||[],assignValue)}function zipObjectDeep(props,values){return baseZipObject(props||[],values||[],baseSet)}function chain(value){var result=lodash(value);return result.__chain__=!0,result}function tap(value,interceptor){return interceptor(value),value}function thru(value,interceptor){return interceptor(value)}function wrapperChain(){return chain(this)}function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__)}function wrapperFlatMap(iteratee){return this.map(iteratee).flatten()}function wrapperNext(){this.__values__===undefined&&(this.__values__=toArray(this.value()));var done=this.__index__>=this.__values__.length,value=done?undefined:this.__values__[this.__index__++];return{done:done,value:value}}function wrapperToIterator(){return this}function wrapperPlant(value){for(var result,parent=this;parent instanceof baseLodash;){var clone=wrapperClone(parent);clone.__index__=0,clone.__values__=undefined,result?previous.__wrapped__=clone:result=clone;var previous=clone;parent=parent.__wrapped__}return previous.__wrapped__=value,result}function wrapperReverse(){var value=this.__wrapped__;if(value instanceof LazyWrapper){var wrapped=value;return this.__actions__.length&&(wrapped=new LazyWrapper(this)),wrapped=wrapped.reverse(),wrapped.__actions__.push({func:thru,args:[reverse],thisArg:undefined}),new LodashWrapper(wrapped,this.__chain__)}return this.thru(reverse)}function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__)}function every(collection,predicate,guard){var func=isArray(collection)?arrayEvery:baseEvery;return guard&&isIterateeCall(collection,predicate,guard)&&(predicate=undefined),func(collection,getIteratee(predicate,3))}function filter(collection,predicate){var func=isArray(collection)?arrayFilter:baseFilter;return func(collection,getIteratee(predicate,3))}function find(collection,predicate){if(predicate=getIteratee(predicate,3),isArray(collection)){var index=baseFindIndex(collection,predicate);return index>-1?collection[index]:undefined}return baseFind(collection,predicate,baseEach)}function findLast(collection,predicate){if(predicate=getIteratee(predicate,3),isArray(collection)){var index=baseFindIndex(collection,predicate,!0);return index>-1?collection[index]:undefined}return baseFind(collection,predicate,baseEachRight)}function flatMap(collection,iteratee){return baseFlatten(map(collection,iteratee),1)}function forEach(collection,iteratee){return"function"==typeof iteratee&&isArray(collection)?arrayEach(collection,iteratee):baseEach(collection,baseCastFunction(iteratee))}function forEachRight(collection,iteratee){return"function"==typeof iteratee&&isArray(collection)?arrayEachRight(collection,iteratee):baseEachRight(collection,baseCastFunction(iteratee))}function includes(collection,value,fromIndex,guard){collection=isArrayLike(collection)?collection:values(collection),fromIndex=fromIndex&&!guard?toInteger(fromIndex):0;var length=collection.length;return 0>fromIndex&&(fromIndex=nativeMax(length+fromIndex,0)),isString(collection)?length>=fromIndex&&collection.indexOf(value,fromIndex)>-1:!!length&&baseIndexOf(collection,value,fromIndex)>-1}function map(collection,iteratee){var func=isArray(collection)?arrayMap:baseMap;return func(collection,getIteratee(iteratee,3))}function orderBy(collection,iteratees,orders,guard){return null==collection?[]:(isArray(iteratees)||(iteratees=null==iteratees?[]:[iteratees]),orders=guard?undefined:orders,isArray(orders)||(orders=null==orders?[]:[orders]),baseOrderBy(collection,iteratees,orders))}function reduce(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduce:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEach)}function reduceRight(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduceRight:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEachRight)}function reject(collection,predicate){var func=isArray(collection)?arrayFilter:baseFilter;return predicate=getIteratee(predicate,3),func(collection,function(value,index,collection){return!predicate(value,index,collection)})}function sample(collection){var array=isArrayLike(collection)?collection:values(collection),length=array.length;return length>0?array[baseRandom(0,length-1)]:undefined}function sampleSize(collection,n){var index=-1,result=toArray(collection),length=result.length,lastIndex=length-1;for(n=baseClamp(toInteger(n),0,length);++index<n;){var rand=baseRandom(index,lastIndex),value=result[rand];result[rand]=result[index],result[index]=value}return result.length=n,result}function shuffle(collection){return sampleSize(collection,MAX_ARRAY_LENGTH)}function size(collection){if(null==collection)return 0;if(isArrayLike(collection)){var result=collection.length;return result&&isString(collection)?stringSize(collection):result}return keys(collection).length}function some(collection,predicate,guard){var func=isArray(collection)?arraySome:baseSome;return guard&&isIterateeCall(collection,predicate,guard)&&(predicate=undefined),func(collection,getIteratee(predicate,3))}function after(n,func){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return n=toInteger(n),function(){return--n<1?func.apply(this,arguments):void 0}}function ary(func,n,guard){return n=guard?undefined:n,n=func&&null==n?func.length:n,createWrapper(func,ARY_FLAG,undefined,undefined,undefined,undefined,n)}function before(n,func){var result;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return n=toInteger(n),function(){return--n>0&&(result=func.apply(this,arguments)),1>=n&&(func=undefined),result}}function curry(func,arity,guard){arity=guard?undefined:arity;var result=createWrapper(func,CURRY_FLAG,undefined,undefined,undefined,undefined,undefined,arity);return result.placeholder=curry.placeholder,result}function curryRight(func,arity,guard){arity=guard?undefined:arity;var result=createWrapper(func,CURRY_RIGHT_FLAG,undefined,undefined,undefined,undefined,undefined,arity);return result.placeholder=curryRight.placeholder,result}function debounce(func,wait,options){function cancel(){timeoutId&&clearTimeout(timeoutId),maxTimeoutId&&clearTimeout(maxTimeoutId),lastCalled=0,args=maxTimeoutId=thisArg=timeoutId=trailingCall=undefined}function complete(isCalled,id){id&&clearTimeout(id),maxTimeoutId=timeoutId=trailingCall=undefined,isCalled&&(lastCalled=now(),result=func.apply(thisArg,args),timeoutId||maxTimeoutId||(args=thisArg=undefined))}function delayed(){var remaining=wait-(now()-stamp);0>=remaining||remaining>wait?complete(trailingCall,maxTimeoutId):timeoutId=setTimeout(delayed,remaining)}function flush(){return(timeoutId&&trailingCall||maxTimeoutId&&trailing)&&(result=func.apply(thisArg,args)),cancel(),result}function maxDelayed(){complete(trailing,timeoutId)}function debounced(){if(args=arguments,stamp=now(),thisArg=this,trailingCall=trailing&&(timeoutId||!leading),maxWait===!1)var leadingCall=leading&&!timeoutId;else{lastCalled||maxTimeoutId||leading||(lastCalled=stamp);var remaining=maxWait-(stamp-lastCalled),isCalled=(0>=remaining||remaining>maxWait)&&(leading||maxTimeoutId);isCalled?(maxTimeoutId&&(maxTimeoutId=clearTimeout(maxTimeoutId)),lastCalled=stamp,result=func.apply(thisArg,args)):maxTimeoutId||(maxTimeoutId=setTimeout(maxDelayed,remaining))}return isCalled&&timeoutId?timeoutId=clearTimeout(timeoutId):timeoutId||wait===maxWait||(timeoutId=setTimeout(delayed,wait)),leadingCall&&(isCalled=!0,result=func.apply(thisArg,args)),!isCalled||timeoutId||maxTimeoutId||(args=thisArg=undefined),result}var args,maxTimeoutId,result,stamp,thisArg,timeoutId,trailingCall,lastCalled=0,leading=!1,maxWait=!1,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return wait=toNumber(wait)||0,isObject(options)&&(leading=!!options.leading,maxWait="maxWait"in options&&nativeMax(toNumber(options.maxWait)||0,wait),trailing="trailing"in options?!!options.trailing:trailing),debounced.cancel=cancel,debounced.flush=flush,debounced}function flip(func){return createWrapper(func,FLIP_FLAG)}function memoize(func,resolver){if("function"!=typeof func||resolver&&"function"!=typeof resolver)throw new TypeError(FUNC_ERROR_TEXT);var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result),result};return memoized.cache=new memoize.Cache,memoized}function negate(predicate){if("function"!=typeof predicate)throw new TypeError(FUNC_ERROR_TEXT);return function(){return!predicate.apply(this,arguments)}}function once(func){return before(2,func)}function rest(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return start=nativeMax(start===undefined?func.length-1:toInteger(start),0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];switch(start){case 0:return func.call(this,array);case 1:return func.call(this,args[0],array);case 2:return func.call(this,args[0],args[1],array)}var otherArgs=Array(start+1);for(index=-1;++index<start;)otherArgs[index]=args[index];return otherArgs[start]=array,apply(func,this,otherArgs)}}function spread(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return start=start===undefined?0:nativeMax(toInteger(start),0),rest(function(args){var array=args[start],otherArgs=args.slice(0,start);return array&&arrayPush(otherArgs,array),apply(func,this,otherArgs)})}function throttle(func,wait,options){var leading=!0,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return isObject(options)&&(leading="leading"in options?!!options.leading:leading,trailing="trailing"in options?!!options.trailing:trailing),debounce(func,wait,{leading:leading,maxWait:wait,trailing:trailing})}function unary(func){return ary(func,1)}function wrap(value,wrapper){return wrapper=null==wrapper?identity:wrapper,partial(wrapper,value)}function castArray(){if(!arguments.length)return[];var value=arguments[0];return isArray(value)?value:[value]}function clone(value){return baseClone(value,!1,!0)}function cloneWith(value,customizer){return baseClone(value,!1,!0,customizer)}function cloneDeep(value){return baseClone(value,!0,!0)}function cloneDeepWith(value,customizer){return baseClone(value,!0,!0,customizer)}function eq(value,other){return value===other||value!==value&&other!==other}function gt(value,other){return value>other}function gte(value,other){return value>=other}function isArguments(value){return isArrayLikeObject(value)&&hasOwnProperty.call(value,"callee")&&(!propertyIsEnumerable.call(value,"callee")||objectToString.call(value)==argsTag);

}function isArrayBuffer(value){return isObjectLike(value)&&objectToString.call(value)==arrayBufferTag}function isArrayLike(value){return null!=value&&isLength(getLength(value))&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}function isBoolean(value){return value===!0||value===!1||isObjectLike(value)&&objectToString.call(value)==boolTag}function isDate(value){return isObjectLike(value)&&objectToString.call(value)==dateTag}function isElement(value){return!!value&&1===value.nodeType&&isObjectLike(value)&&!isPlainObject(value)}function isEmpty(value){if(isArrayLike(value)&&(isArray(value)||isString(value)||isFunction(value.splice)||isArguments(value)))return!value.length;for(var key in value)if(hasOwnProperty.call(value,key))return!1;return!0}function isEqual(value,other){return baseIsEqual(value,other)}function isEqualWith(value,other,customizer){customizer="function"==typeof customizer?customizer:undefined;var result=customizer?customizer(value,other):undefined;return result===undefined?baseIsEqual(value,other,customizer):!!result}function isError(value){return isObjectLike(value)?objectToString.call(value)==errorTag||"string"==typeof value.message&&"string"==typeof value.name:!1}function isFinite(value){return"number"==typeof value&&nativeIsFinite(value)}function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isInteger(value){return"number"==typeof value&&value==toInteger(value)}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&MAX_SAFE_INTEGER>=value}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isObjectLike(value){return!!value&&"object"==typeof value}function isMap(value){return isObjectLike(value)&&getTag(value)==mapTag}function isMatch(object,source){return object===source||baseIsMatch(object,source,getMatchData(source))}function isMatchWith(object,source,customizer){return customizer="function"==typeof customizer?customizer:undefined,baseIsMatch(object,source,getMatchData(source),customizer)}function isNaN(value){return isNumber(value)&&value!=+value}function isNative(value){return null==value?!1:isFunction(value)?reIsNative.test(funcToString.call(value)):isObjectLike(value)&&(isHostObject(value)?reIsNative:reIsHostCtor).test(value)}function isNull(value){return null===value}function isNil(value){return null==value}function isNumber(value){return"number"==typeof value||isObjectLike(value)&&objectToString.call(value)==numberTag}function isPlainObject(value){if(!isObjectLike(value)||objectToString.call(value)!=objectTag||isHostObject(value))return!1;var proto=getPrototypeOf(value);if(null===proto)return!0;var Ctor=proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}function isRegExp(value){return isObject(value)&&objectToString.call(value)==regexpTag}function isSafeInteger(value){return isInteger(value)&&value>=-MAX_SAFE_INTEGER&&MAX_SAFE_INTEGER>=value}function isSet(value){return isObjectLike(value)&&getTag(value)==setTag}function isString(value){return"string"==typeof value||!isArray(value)&&isObjectLike(value)&&objectToString.call(value)==stringTag}function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&objectToString.call(value)==symbolTag}function isTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objectToString.call(value)]}function isUndefined(value){return value===undefined}function isWeakMap(value){return isObjectLike(value)&&getTag(value)==weakMapTag}function isWeakSet(value){return isObjectLike(value)&&objectToString.call(value)==weakSetTag}function lt(value,other){return other>value}function lte(value,other){return other>=value}function toArray(value){if(!value)return[];if(isArrayLike(value))return isString(value)?stringToArray(value):copyArray(value);if(iteratorSymbol&&value[iteratorSymbol])return iteratorToArray(value[iteratorSymbol]());var tag=getTag(value),func=tag==mapTag?mapToArray:tag==setTag?setToArray:values;return func(value)}function toInteger(value){if(!value)return 0===value?value:0;if(value=toNumber(value),value===INFINITY||value===-INFINITY){var sign=0>value?-1:1;return sign*MAX_INTEGER}var remainder=value%1;return value===value?remainder?value-remainder:value:0}function toLength(value){return value?baseClamp(toInteger(value),0,MAX_ARRAY_LENGTH):0}function toNumber(value){if(isObject(value)){var other=isFunction(value.valueOf)?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}function toPlainObject(value){return copyObject(value,keysIn(value))}function toSafeInteger(value){return baseClamp(toInteger(value),-MAX_SAFE_INTEGER,MAX_SAFE_INTEGER)}function toString(value){if("string"==typeof value)return value;if(null==value)return"";if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}function create(prototype,properties){var result=baseCreate(prototype);return properties?baseAssign(result,properties):result}function findKey(object,predicate){return baseFind(object,getIteratee(predicate,3),baseForOwn,!0)}function findLastKey(object,predicate){return baseFind(object,getIteratee(predicate,3),baseForOwnRight,!0)}function forIn(object,iteratee){return null==object?object:baseFor(object,baseCastFunction(iteratee),keysIn)}function forInRight(object,iteratee){return null==object?object:baseForRight(object,baseCastFunction(iteratee),keysIn)}function forOwn(object,iteratee){return object&&baseForOwn(object,baseCastFunction(iteratee))}function forOwnRight(object,iteratee){return object&&baseForOwnRight(object,baseCastFunction(iteratee))}function functions(object){return null==object?[]:baseFunctions(object,keys(object))}function functionsIn(object){return null==object?[]:baseFunctions(object,keysIn(object))}function get(object,path,defaultValue){var result=null==object?undefined:baseGet(object,path);return result===undefined?defaultValue:result}function has(object,path){return hasPath(object,path,baseHas)}function hasIn(object,path){return hasPath(object,path,baseHasIn)}function keys(object){var isProto=isPrototype(object);if(!isProto&&!isArrayLike(object))return baseKeys(object);var indexes=indexKeys(object),skipIndexes=!!indexes,result=indexes||[],length=result.length;for(var key in object)!baseHas(object,key)||skipIndexes&&("length"==key||isIndex(key,length))||isProto&&"constructor"==key||result.push(key);return result}function keysIn(object){for(var index=-1,isProto=isPrototype(object),props=baseKeysIn(object),propsLength=props.length,indexes=indexKeys(object),skipIndexes=!!indexes,result=indexes||[],length=result.length;++index<propsLength;){var key=props[index];skipIndexes&&("length"==key||isIndex(key,length))||"constructor"==key&&(isProto||!hasOwnProperty.call(object,key))||result.push(key)}return result}function mapKeys(object,iteratee){var result={};return iteratee=getIteratee(iteratee,3),baseForOwn(object,function(value,key,object){result[iteratee(value,key,object)]=value}),result}function mapValues(object,iteratee){var result={};return iteratee=getIteratee(iteratee,3),baseForOwn(object,function(value,key,object){result[key]=iteratee(value,key,object)}),result}function omitBy(object,predicate){return predicate=getIteratee(predicate),basePickBy(object,function(value,key){return!predicate(value,key)})}function pickBy(object,predicate){return null==object?{}:basePickBy(object,getIteratee(predicate))}function result(object,path,defaultValue){if(isKey(path,object))result=null==object?undefined:object[path];else{path=baseCastPath(path);var result=get(object,path);object=parent(object,path)}return result===undefined&&(result=defaultValue),isFunction(result)?result.call(object):result}function set(object,path,value){return null==object?object:baseSet(object,path,value)}function setWith(object,path,value,customizer){return customizer="function"==typeof customizer?customizer:undefined,null==object?object:baseSet(object,path,value,customizer)}function toPairs(object){return baseToPairs(object,keys(object))}function toPairsIn(object){return baseToPairs(object,keysIn(object))}function transform(object,iteratee,accumulator){var isArr=isArray(object)||isTypedArray(object);if(iteratee=getIteratee(iteratee,4),null==accumulator)if(isArr||isObject(object)){var Ctor=object.constructor;accumulator=isArr?isArray(object)?new Ctor:[]:isFunction(Ctor)?baseCreate(getPrototypeOf(object)):{}}else accumulator={};return(isArr?arrayEach:baseForOwn)(object,function(value,index,object){return iteratee(accumulator,value,index,object)}),accumulator}function unset(object,path){return null==object?!0:baseUnset(object,path)}function update(object,path,updater){return null==object?object:baseUpdate(object,path,baseCastFunction(updater))}function updateWith(object,path,updater,customizer){return customizer="function"==typeof customizer?customizer:undefined,null==object?object:baseUpdate(object,path,baseCastFunction(updater),customizer)}function values(object){return object?baseValues(object,keys(object)):[]}function valuesIn(object){return null==object?[]:baseValues(object,keysIn(object))}function clamp(number,lower,upper){return upper===undefined&&(upper=lower,lower=undefined),upper!==undefined&&(upper=toNumber(upper),upper=upper===upper?upper:0),lower!==undefined&&(lower=toNumber(lower),lower=lower===lower?lower:0),baseClamp(toNumber(number),lower,upper)}function inRange(number,start,end){return start=toNumber(start)||0,end===undefined?(end=start,start=0):end=toNumber(end)||0,number=toNumber(number),baseInRange(number,start,end)}function random(lower,upper,floating){if(floating&&"boolean"!=typeof floating&&isIterateeCall(lower,upper,floating)&&(upper=floating=undefined),floating===undefined&&("boolean"==typeof upper?(floating=upper,upper=undefined):"boolean"==typeof lower&&(floating=lower,lower=undefined)),lower===undefined&&upper===undefined?(lower=0,upper=1):(lower=toNumber(lower)||0,upper===undefined?(upper=lower,lower=0):upper=toNumber(upper)||0),lower>upper){var temp=lower;lower=upper,upper=temp}if(floating||lower%1||upper%1){var rand=nativeRandom();return nativeMin(lower+rand*(upper-lower+freeParseFloat("1e-"+((rand+"").length-1))),upper)}return baseRandom(lower,upper)}function capitalize(string){return upperFirst(toString(string).toLowerCase())}function deburr(string){return string=toString(string),string&&string.replace(reLatin1,deburrLetter).replace(reComboMark,"")}function endsWith(string,target,position){string=toString(string),target="string"==typeof target?target:target+"";var length=string.length;return position=position===undefined?length:baseClamp(toInteger(position),0,length),position-=target.length,position>=0&&string.indexOf(target,position)==position}function escape(string){return string=toString(string),string&&reHasUnescapedHtml.test(string)?string.replace(reUnescapedHtml,escapeHtmlChar):string}function escapeRegExp(string){return string=toString(string),string&&reHasRegExpChar.test(string)?string.replace(reRegExpChar,"\\$&"):string}function pad(string,length,chars){string=toString(string),length=toInteger(length);var strLength=stringSize(string);if(!length||strLength>=length)return string;var mid=(length-strLength)/2,leftLength=nativeFloor(mid),rightLength=nativeCeil(mid);return createPadding("",leftLength,chars)+string+createPadding("",rightLength,chars)}function padEnd(string,length,chars){return string=toString(string),string+createPadding(string,length,chars)}function padStart(string,length,chars){return string=toString(string),createPadding(string,length,chars)+string}function parseInt(string,radix,guard){return guard||null==radix?radix=0:radix&&(radix=+radix),string=toString(string).replace(reTrim,""),nativeParseInt(string,radix||(reHasHexPrefix.test(string)?16:10))}function repeat(string,n){string=toString(string),n=toInteger(n);var result="";if(!string||1>n||n>MAX_SAFE_INTEGER)return result;do n%2&&(result+=string),n=nativeFloor(n/2),string+=string;while(n);return result}function replace(){var args=arguments,string=toString(args[0]);return args.length<3?string:string.replace(args[1],args[2])}function split(string,separator,limit){return toString(string).split(separator,limit)}function startsWith(string,target,position){return string=toString(string),position=baseClamp(toInteger(position),0,string.length),string.lastIndexOf(target,position)==position}function template(string,options,guard){var settings=lodash.templateSettings;guard&&isIterateeCall(string,options,guard)&&(options=undefined),string=toString(string),options=assignInWith({},options,settings,assignInDefaults);var isEscaping,isEvaluating,imports=assignInWith({},options.imports,settings.imports,assignInDefaults),importsKeys=keys(imports),importsValues=baseValues(imports,importsKeys),index=0,interpolate=options.interpolate||reNoMatch,source="__p += '",reDelimiters=RegExp((options.escape||reNoMatch).source+"|"+interpolate.source+"|"+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(options.evaluate||reNoMatch).source+"|$","g"),sourceURL="//# sourceURL="+("sourceURL"in options?options.sourceURL:"lodash.templateSources["+ ++templateCounter+"]")+"\n";string.replace(reDelimiters,function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){return interpolateValue||(interpolateValue=esTemplateValue),source+=string.slice(index,offset).replace(reUnescapedString,escapeStringChar),escapeValue&&(isEscaping=!0,source+="' +\n__e("+escapeValue+") +\n'"),evaluateValue&&(isEvaluating=!0,source+="';\n"+evaluateValue+";\n__p += '"),interpolateValue&&(source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'"),index=offset+match.length,match}),source+="';\n";var variable=options.variable;variable||(source="with (obj) {\n"+source+"\n}\n"),source=(isEvaluating?source.replace(reEmptyStringLeading,""):source).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;"),source="function("+(variable||"obj")+") {\n"+(variable?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(isEscaping?", __e = _.escape":"")+(isEvaluating?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+source+"return __p\n}";var result=attempt(function(){return Function(importsKeys,sourceURL+"return "+source).apply(undefined,importsValues)});if(result.source=source,isError(result))throw result;return result}function toLower(value){return toString(value).toLowerCase()}function toUpper(value){return toString(value).toUpperCase()}function trim(string,chars,guard){if(string=toString(string),!string)return string;if(guard||chars===undefined)return string.replace(reTrim,"");if(chars+="",!chars)return string;var strSymbols=stringToArray(string),chrSymbols=stringToArray(chars);return strSymbols.slice(charsStartIndex(strSymbols,chrSymbols),charsEndIndex(strSymbols,chrSymbols)+1).join("")}function trimEnd(string,chars,guard){if(string=toString(string),!string)return string;if(guard||chars===undefined)return string.replace(reTrimEnd,"");if(chars+="",!chars)return string;var strSymbols=stringToArray(string);return strSymbols.slice(0,charsEndIndex(strSymbols,stringToArray(chars))+1).join("")}function trimStart(string,chars,guard){if(string=toString(string),!string)return string;if(guard||chars===undefined)return string.replace(reTrimStart,"");if(chars+="",!chars)return string;var strSymbols=stringToArray(string);return strSymbols.slice(charsStartIndex(strSymbols,stringToArray(chars))).join("")}function truncate(string,options){var length=DEFAULT_TRUNC_LENGTH,omission=DEFAULT_TRUNC_OMISSION;if(isObject(options)){var separator="separator"in options?options.separator:separator;length="length"in options?toInteger(options.length):length,omission="omission"in options?toString(options.omission):omission}string=toString(string);var strLength=string.length;if(reHasComplexSymbol.test(string)){var strSymbols=stringToArray(string);strLength=strSymbols.length}if(length>=strLength)return string;var end=length-stringSize(omission);if(1>end)return omission;var result=strSymbols?strSymbols.slice(0,end).join(""):string.slice(0,end);if(separator===undefined)return result+omission;if(strSymbols&&(end+=result.length-end),isRegExp(separator)){if(string.slice(end).search(separator)){var match,substring=result;for(separator.global||(separator=RegExp(separator.source,toString(reFlags.exec(separator))+"g")),separator.lastIndex=0;match=separator.exec(substring);)var newEnd=match.index;result=result.slice(0,newEnd===undefined?end:newEnd)}}else if(string.indexOf(separator,end)!=end){var index=result.lastIndexOf(separator);index>-1&&(result=result.slice(0,index))}return result+omission}function unescape(string){return string=toString(string),string&&reHasEscapedHtml.test(string)?string.replace(reEscapedHtml,unescapeHtmlChar):string}function words(string,pattern,guard){return string=toString(string),pattern=guard?undefined:pattern,pattern===undefined&&(pattern=reHasComplexWord.test(string)?reComplexWord:reBasicWord),string.match(pattern)||[]}function cond(pairs){var length=pairs?pairs.length:0,toIteratee=getIteratee();return pairs=length?arrayMap(pairs,function(pair){if("function"!=typeof pair[1])throw new TypeError(FUNC_ERROR_TEXT);return[toIteratee(pair[0]),pair[1]]}):[],rest(function(args){for(var index=-1;++index<length;){var pair=pairs[index];if(apply(pair[0],this,args))return apply(pair[1],this,args)}})}function conforms(source){return baseConforms(baseClone(source,!0))}function constant(value){return function(){return value}}function identity(value){return value}function iteratee(func){return baseIteratee("function"==typeof func?func:baseClone(func,!0))}function matches(source){return baseMatches(baseClone(source,!0))}function matchesProperty(path,srcValue){return baseMatchesProperty(path,baseClone(srcValue,!0))}function mixin(object,source,options){var props=keys(source),methodNames=baseFunctions(source,props);null!=options||isObject(source)&&(methodNames.length||!props.length)||(options=source,source=object,object=this,methodNames=baseFunctions(source,keys(source)));var chain=isObject(options)&&"chain"in options?options.chain:!0,isFunc=isFunction(object);return arrayEach(methodNames,function(methodName){var func=source[methodName];object[methodName]=func,isFunc&&(object.prototype[methodName]=function(){var chainAll=this.__chain__;if(chain||chainAll){var result=object(this.__wrapped__),actions=result.__actions__=copyArray(this.__actions__);return actions.push({func:func,args:arguments,thisArg:object}),result.__chain__=chainAll,result}return func.apply(object,arrayPush([this.value()],arguments))})}),object}function noConflict(){return root._===this&&(root._=oldDash),this}function noop(){}function nthArg(n){return n=toInteger(n),function(){return arguments[n]}}function property(path){return isKey(path)?baseProperty(path):basePropertyDeep(path)}function propertyOf(object){return function(path){return null==object?undefined:baseGet(object,path)}}function times(n,iteratee){if(n=toInteger(n),1>n||n>MAX_SAFE_INTEGER)return[];var index=MAX_ARRAY_LENGTH,length=nativeMin(n,MAX_ARRAY_LENGTH);iteratee=baseCastFunction(iteratee),n-=MAX_ARRAY_LENGTH;for(var result=baseTimes(length,iteratee);++index<n;)iteratee(index);return result}function toPath(value){return isArray(value)?arrayMap(value,String):stringToPath(value)}function uniqueId(prefix){var id=++idCounter;return toString(prefix)+id}function add(augend,addend){var result;return augend===undefined&&addend===undefined?0:(augend!==undefined&&(result=augend),addend!==undefined&&(result=result===undefined?addend:result+addend),result)}function max(array){return array&&array.length?baseExtremum(array,identity,gt):undefined}function maxBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee),gt):undefined}function mean(array){return sum(array)/(array?array.length:0)}function min(array){return array&&array.length?baseExtremum(array,identity,lt):undefined}function minBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee),lt):undefined}function subtract(minuend,subtrahend){var result;return minuend===undefined&&subtrahend===undefined?0:(minuend!==undefined&&(result=minuend),subtrahend!==undefined&&(result=result===undefined?subtrahend:result-subtrahend),result)}function sum(array){return array&&array.length?baseSum(array,identity):0}function sumBy(array,iteratee){return array&&array.length?baseSum(array,getIteratee(iteratee)):0}context=context?_.defaults({},context,_.pick(root,contextProps)):root;var Date=context.Date,Error=context.Error,Math=context.Math,RegExp=context.RegExp,TypeError=context.TypeError,arrayProto=context.Array.prototype,objectProto=context.Object.prototype,funcToString=context.Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,idCounter=0,objectCtorString=funcToString.call(Object),objectToString=objectProto.toString,oldDash=root._,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Buffer=moduleExports?context.Buffer:undefined,Reflect=context.Reflect,Symbol=context.Symbol,Uint8Array=context.Uint8Array,clearTimeout=context.clearTimeout,enumerate=Reflect?Reflect.enumerate:undefined,getPrototypeOf=Object.getPrototypeOf,getOwnPropertySymbols=Object.getOwnPropertySymbols,iteratorSymbol="symbol"==typeof(iteratorSymbol=Symbol&&Symbol.iterator)?iteratorSymbol:undefined,objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,setTimeout=context.setTimeout,splice=arrayProto.splice,nativeCeil=Math.ceil,nativeFloor=Math.floor,nativeIsFinite=context.isFinite,nativeJoin=arrayProto.join,nativeKeys=Object.keys,nativeMax=Math.max,nativeMin=Math.min,nativeParseInt=context.parseInt,nativeRandom=Math.random,nativeReverse=arrayProto.reverse,Map=getNative(context,"Map"),Set=getNative(context,"Set"),WeakMap=getNative(context,"WeakMap"),nativeCreate=getNative(Object,"create"),metaMap=WeakMap&&new WeakMap,nonEnumShadows=!propertyIsEnumerable.call({valueOf:1},"valueOf"),realNames={},mapCtorString=Map?funcToString.call(Map):"",setCtorString=Set?funcToString.call(Set):"",weakMapCtorString=WeakMap?funcToString.call(WeakMap):"",symbolProto=Symbol?Symbol.prototype:undefined,symbolValueOf=symbolProto?symbolProto.valueOf:undefined,symbolToString=symbolProto?symbolProto.toString:undefined;lodash.templateSettings={escape:reEscape,evaluate:reEvaluate,interpolate:reInterpolate,variable:"",imports:{_:lodash}};var baseEach=createBaseEach(baseForOwn),baseEachRight=createBaseEach(baseForOwnRight,!0),baseFor=createBaseFor(),baseForRight=createBaseFor(!0);enumerate&&!propertyIsEnumerable.call({valueOf:1},"valueOf")&&(baseKeysIn=function(object){return iteratorToArray(enumerate(object))});var baseSetData=metaMap?function(func,data){return metaMap.set(func,data),func}:identity,createSet=Set&&2===new Set([1,2]).size?function(values){return new Set(values)}:noop,getData=metaMap?function(func){return metaMap.get(func)}:noop,getLength=baseProperty("length"),getSymbols=getOwnPropertySymbols||function(){return[]};(Map&&getTag(new Map)!=mapTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag)&&(getTag=function(value){var result=objectToString.call(value),Ctor=result==objectTag?value.constructor:null,ctorString="function"==typeof Ctor?funcToString.call(Ctor):"";if(ctorString)switch(ctorString){case mapCtorString:return mapTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return result});var setData=function(){var count=0,lastCalled=0;return function(key,value){var stamp=now(),remaining=HOT_SPAN-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count>=HOT_COUNT)return key}else count=0;return baseSetData(key,value)}}(),concat=rest(function(array,values){return isArray(array)||(array=null==array?[]:[Object(array)]),values=baseFlatten(values,1),arrayConcat(array,values)}),difference=rest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,!0)):[]}),differenceBy=rest(function(array,values){var iteratee=last(values);return isArrayLikeObject(iteratee)&&(iteratee=undefined),isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,!0),getIteratee(iteratee)):[]}),differenceWith=rest(function(array,values){var comparator=last(values);return isArrayLikeObject(comparator)&&(comparator=undefined),isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,!0),undefined,comparator):[]}),intersection=rest(function(arrays){var mapped=arrayMap(arrays,baseCastArrayLikeObject);return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped):[]}),intersectionBy=rest(function(arrays){var iteratee=last(arrays),mapped=arrayMap(arrays,baseCastArrayLikeObject);return iteratee===last(mapped)?iteratee=undefined:mapped.pop(),mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,getIteratee(iteratee)):[]}),intersectionWith=rest(function(arrays){var comparator=last(arrays),mapped=arrayMap(arrays,baseCastArrayLikeObject);return comparator===last(mapped)?comparator=undefined:mapped.pop(),mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,undefined,comparator):[]}),pull=rest(pullAll),pullAt=rest(function(array,indexes){indexes=arrayMap(baseFlatten(indexes,1),String);var result=baseAt(array,indexes);return basePullAt(array,indexes.sort(compareAscending)),result}),union=rest(function(arrays){return baseUniq(baseFlatten(arrays,1,!0))}),unionBy=rest(function(arrays){var iteratee=last(arrays);return isArrayLikeObject(iteratee)&&(iteratee=undefined),baseUniq(baseFlatten(arrays,1,!0),getIteratee(iteratee))}),unionWith=rest(function(arrays){var comparator=last(arrays);return isArrayLikeObject(comparator)&&(comparator=undefined),baseUniq(baseFlatten(arrays,1,!0),undefined,comparator)}),without=rest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,values):[]}),xor=rest(function(arrays){return baseXor(arrayFilter(arrays,isArrayLikeObject))}),xorBy=rest(function(arrays){var iteratee=last(arrays);return isArrayLikeObject(iteratee)&&(iteratee=undefined),baseXor(arrayFilter(arrays,isArrayLikeObject),getIteratee(iteratee))}),xorWith=rest(function(arrays){var comparator=last(arrays);return isArrayLikeObject(comparator)&&(comparator=undefined),baseXor(arrayFilter(arrays,isArrayLikeObject),undefined,comparator)}),zip=rest(unzip),zipWith=rest(function(arrays){var length=arrays.length,iteratee=length>1?arrays[length-1]:undefined;return iteratee="function"==typeof iteratee?(arrays.pop(),iteratee):undefined,unzipWith(arrays,iteratee)}),wrapperAt=rest(function(paths){paths=baseFlatten(paths,1);var length=paths.length,start=length?paths[0]:0,value=this.__wrapped__,interceptor=function(object){return baseAt(object,paths)};return!(length>1||this.__actions__.length)&&value instanceof LazyWrapper&&isIndex(start)?(value=value.slice(start,+start+(length?1:0)),value.__actions__.push({func:thru,args:[interceptor],thisArg:undefined}),new LodashWrapper(value,this.__chain__).thru(function(array){return length&&!array.length&&array.push(undefined),array})):this.thru(interceptor)}),countBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?++result[key]:result[key]=1}),groupBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?result[key].push(value):result[key]=[value]}),invokeMap=rest(function(collection,path,args){var index=-1,isFunc="function"==typeof path,isProp=isKey(path),result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,function(value){var func=isFunc?path:isProp&&null!=value?value[path]:undefined;result[++index]=func?apply(func,value,args):baseInvoke(value,path,args)}),result}),keyBy=createAggregator(function(result,value,key){result[key]=value}),partition=createAggregator(function(result,value,key){result[key?0:1].push(value)},function(){return[[],[]]}),sortBy=rest(function(collection,iteratees){if(null==collection)return[];var length=iteratees.length;return length>1&&isIterateeCall(collection,iteratees[0],iteratees[1])?iteratees=[]:length>2&&isIterateeCall(iteratees[0],iteratees[1],iteratees[2])&&(iteratees.length=1),baseOrderBy(collection,baseFlatten(iteratees,1),[])}),now=Date.now,bind=rest(function(func,thisArg,partials){var bitmask=BIND_FLAG;if(partials.length){var holders=replaceHolders(partials,getPlaceholder(bind));bitmask|=PARTIAL_FLAG}return createWrapper(func,bitmask,thisArg,partials,holders)}),bindKey=rest(function(object,key,partials){var bitmask=BIND_FLAG|BIND_KEY_FLAG;if(partials.length){var holders=replaceHolders(partials,getPlaceholder(bindKey));bitmask|=PARTIAL_FLAG}return createWrapper(key,bitmask,object,partials,holders)}),defer=rest(function(func,args){return baseDelay(func,1,args)}),delay=rest(function(func,wait,args){return baseDelay(func,toNumber(wait)||0,args)}),overArgs=rest(function(func,transforms){transforms=arrayMap(baseFlatten(transforms,1),getIteratee());var funcsLength=transforms.length;return rest(function(args){for(var index=-1,length=nativeMin(args.length,funcsLength);++index<length;)args[index]=transforms[index].call(this,args[index]);return apply(func,this,args)})}),partial=rest(function(func,partials){var holders=replaceHolders(partials,getPlaceholder(partial));return createWrapper(func,PARTIAL_FLAG,undefined,partials,holders)}),partialRight=rest(function(func,partials){var holders=replaceHolders(partials,getPlaceholder(partialRight));return createWrapper(func,PARTIAL_RIGHT_FLAG,undefined,partials,holders)}),rearg=rest(function(func,indexes){return createWrapper(func,REARG_FLAG,undefined,undefined,undefined,baseFlatten(indexes,1))}),isArray=Array.isArray,isBuffer=Buffer?function(value){return value instanceof Buffer}:constant(!1),assign=createAssigner(function(object,source){if(nonEnumShadows||isPrototype(source)||isArrayLike(source))return void copyObject(source,keys(source),object);for(var key in source)hasOwnProperty.call(source,key)&&assignValue(object,key,source[key])}),assignIn=createAssigner(function(object,source){if(nonEnumShadows||isPrototype(source)||isArrayLike(source))return void copyObject(source,keysIn(source),object);for(var key in source)assignValue(object,key,source[key])}),assignInWith=createAssigner(function(object,source,srcIndex,customizer){copyObjectWith(source,keysIn(source),object,customizer)}),assignWith=createAssigner(function(object,source,srcIndex,customizer){copyObjectWith(source,keys(source),object,customizer)}),at=rest(function(object,paths){return baseAt(object,baseFlatten(paths,1))}),defaults=rest(function(args){return args.push(undefined,assignInDefaults),apply(assignInWith,undefined,args)}),defaultsDeep=rest(function(args){return args.push(undefined,mergeDefaults),apply(mergeWith,undefined,args)}),invert=createInverter(function(result,value,key){result[value]=key},constant(identity)),invertBy=createInverter(function(result,value,key){hasOwnProperty.call(result,value)?result[value].push(key):result[value]=[key]},getIteratee),invoke=rest(baseInvoke),merge=createAssigner(function(object,source,srcIndex){baseMerge(object,source,srcIndex)}),mergeWith=createAssigner(function(object,source,srcIndex,customizer){baseMerge(object,source,srcIndex,customizer)}),omit=rest(function(object,props){return null==object?{}:(props=arrayMap(baseFlatten(props,1),String),basePick(object,baseDifference(keysIn(object),props)))}),pick=rest(function(object,props){return null==object?{}:basePick(object,baseFlatten(props,1))}),camelCase=createCompounder(function(result,word,index){return word=word.toLowerCase(),
result+(index?capitalize(word):word)}),kebabCase=createCompounder(function(result,word,index){return result+(index?"-":"")+word.toLowerCase()}),lowerCase=createCompounder(function(result,word,index){return result+(index?" ":"")+word.toLowerCase()}),lowerFirst=createCaseFirst("toLowerCase"),upperFirst=createCaseFirst("toUpperCase"),snakeCase=createCompounder(function(result,word,index){return result+(index?"_":"")+word.toLowerCase()}),startCase=createCompounder(function(result,word,index){return result+(index?" ":"")+capitalize(word)}),upperCase=createCompounder(function(result,word,index){return result+(index?" ":"")+word.toUpperCase()}),attempt=rest(function(func,args){try{return apply(func,undefined,args)}catch(e){return isError(e)?e:new Error(e)}}),bindAll=rest(function(object,methodNames){return arrayEach(baseFlatten(methodNames,1),function(key){object[key]=bind(object[key],object)}),object}),flow=createFlow(),flowRight=createFlow(!0),method=rest(function(path,args){return function(object){return baseInvoke(object,path,args)}}),methodOf=rest(function(object,args){return function(path){return baseInvoke(object,path,args)}}),over=createOver(arrayMap),overEvery=createOver(arrayEvery),overSome=createOver(arraySome),range=createRange(),rangeRight=createRange(!0),ceil=createRound("ceil"),floor=createRound("floor"),round=createRound("round");return lodash.prototype=baseLodash.prototype,lodash.prototype.constructor=lodash,LodashWrapper.prototype=baseCreate(baseLodash.prototype),LodashWrapper.prototype.constructor=LodashWrapper,LazyWrapper.prototype=baseCreate(baseLodash.prototype),LazyWrapper.prototype.constructor=LazyWrapper,Hash.prototype=nativeCreate?nativeCreate(null):objectProto,MapCache.prototype.clear=mapClear,MapCache.prototype["delete"]=mapDelete,MapCache.prototype.get=mapGet,MapCache.prototype.has=mapHas,MapCache.prototype.set=mapSet,SetCache.prototype.push=cachePush,Stack.prototype.clear=stackClear,Stack.prototype["delete"]=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet,memoize.Cache=MapCache,lodash.after=after,lodash.ary=ary,lodash.assign=assign,lodash.assignIn=assignIn,lodash.assignInWith=assignInWith,lodash.assignWith=assignWith,lodash.at=at,lodash.before=before,lodash.bind=bind,lodash.bindAll=bindAll,lodash.bindKey=bindKey,lodash.castArray=castArray,lodash.chain=chain,lodash.chunk=chunk,lodash.compact=compact,lodash.concat=concat,lodash.cond=cond,lodash.conforms=conforms,lodash.constant=constant,lodash.countBy=countBy,lodash.create=create,lodash.curry=curry,lodash.curryRight=curryRight,lodash.debounce=debounce,lodash.defaults=defaults,lodash.defaultsDeep=defaultsDeep,lodash.defer=defer,lodash.delay=delay,lodash.difference=difference,lodash.differenceBy=differenceBy,lodash.differenceWith=differenceWith,lodash.drop=drop,lodash.dropRight=dropRight,lodash.dropRightWhile=dropRightWhile,lodash.dropWhile=dropWhile,lodash.fill=fill,lodash.filter=filter,lodash.flatMap=flatMap,lodash.flatten=flatten,lodash.flattenDeep=flattenDeep,lodash.flattenDepth=flattenDepth,lodash.flip=flip,lodash.flow=flow,lodash.flowRight=flowRight,lodash.fromPairs=fromPairs,lodash.functions=functions,lodash.functionsIn=functionsIn,lodash.groupBy=groupBy,lodash.initial=initial,lodash.intersection=intersection,lodash.intersectionBy=intersectionBy,lodash.intersectionWith=intersectionWith,lodash.invert=invert,lodash.invertBy=invertBy,lodash.invokeMap=invokeMap,lodash.iteratee=iteratee,lodash.keyBy=keyBy,lodash.keys=keys,lodash.keysIn=keysIn,lodash.map=map,lodash.mapKeys=mapKeys,lodash.mapValues=mapValues,lodash.matches=matches,lodash.matchesProperty=matchesProperty,lodash.memoize=memoize,lodash.merge=merge,lodash.mergeWith=mergeWith,lodash.method=method,lodash.methodOf=methodOf,lodash.mixin=mixin,lodash.negate=negate,lodash.nthArg=nthArg,lodash.omit=omit,lodash.omitBy=omitBy,lodash.once=once,lodash.orderBy=orderBy,lodash.over=over,lodash.overArgs=overArgs,lodash.overEvery=overEvery,lodash.overSome=overSome,lodash.partial=partial,lodash.partialRight=partialRight,lodash.partition=partition,lodash.pick=pick,lodash.pickBy=pickBy,lodash.property=property,lodash.propertyOf=propertyOf,lodash.pull=pull,lodash.pullAll=pullAll,lodash.pullAllBy=pullAllBy,lodash.pullAllWith=pullAllWith,lodash.pullAt=pullAt,lodash.range=range,lodash.rangeRight=rangeRight,lodash.rearg=rearg,lodash.reject=reject,lodash.remove=remove,lodash.rest=rest,lodash.reverse=reverse,lodash.sampleSize=sampleSize,lodash.set=set,lodash.setWith=setWith,lodash.shuffle=shuffle,lodash.slice=slice,lodash.sortBy=sortBy,lodash.sortedUniq=sortedUniq,lodash.sortedUniqBy=sortedUniqBy,lodash.split=split,lodash.spread=spread,lodash.tail=tail,lodash.take=take,lodash.takeRight=takeRight,lodash.takeRightWhile=takeRightWhile,lodash.takeWhile=takeWhile,lodash.tap=tap,lodash.throttle=throttle,lodash.thru=thru,lodash.toArray=toArray,lodash.toPairs=toPairs,lodash.toPairsIn=toPairsIn,lodash.toPath=toPath,lodash.toPlainObject=toPlainObject,lodash.transform=transform,lodash.unary=unary,lodash.union=union,lodash.unionBy=unionBy,lodash.unionWith=unionWith,lodash.uniq=uniq,lodash.uniqBy=uniqBy,lodash.uniqWith=uniqWith,lodash.unset=unset,lodash.unzip=unzip,lodash.unzipWith=unzipWith,lodash.update=update,lodash.updateWith=updateWith,lodash.values=values,lodash.valuesIn=valuesIn,lodash.without=without,lodash.words=words,lodash.wrap=wrap,lodash.xor=xor,lodash.xorBy=xorBy,lodash.xorWith=xorWith,lodash.zip=zip,lodash.zipObject=zipObject,lodash.zipObjectDeep=zipObjectDeep,lodash.zipWith=zipWith,lodash.extend=assignIn,lodash.extendWith=assignInWith,mixin(lodash,lodash),lodash.add=add,lodash.attempt=attempt,lodash.camelCase=camelCase,lodash.capitalize=capitalize,lodash.ceil=ceil,lodash.clamp=clamp,lodash.clone=clone,lodash.cloneDeep=cloneDeep,lodash.cloneDeepWith=cloneDeepWith,lodash.cloneWith=cloneWith,lodash.deburr=deburr,lodash.endsWith=endsWith,lodash.eq=eq,lodash.escape=escape,lodash.escapeRegExp=escapeRegExp,lodash.every=every,lodash.find=find,lodash.findIndex=findIndex,lodash.findKey=findKey,lodash.findLast=findLast,lodash.findLastIndex=findLastIndex,lodash.findLastKey=findLastKey,lodash.floor=floor,lodash.forEach=forEach,lodash.forEachRight=forEachRight,lodash.forIn=forIn,lodash.forInRight=forInRight,lodash.forOwn=forOwn,lodash.forOwnRight=forOwnRight,lodash.get=get,lodash.gt=gt,lodash.gte=gte,lodash.has=has,lodash.hasIn=hasIn,lodash.head=head,lodash.identity=identity,lodash.includes=includes,lodash.indexOf=indexOf,lodash.inRange=inRange,lodash.invoke=invoke,lodash.isArguments=isArguments,lodash.isArray=isArray,lodash.isArrayBuffer=isArrayBuffer,lodash.isArrayLike=isArrayLike,lodash.isArrayLikeObject=isArrayLikeObject,lodash.isBoolean=isBoolean,lodash.isBuffer=isBuffer,lodash.isDate=isDate,lodash.isElement=isElement,lodash.isEmpty=isEmpty,lodash.isEqual=isEqual,lodash.isEqualWith=isEqualWith,lodash.isError=isError,lodash.isFinite=isFinite,lodash.isFunction=isFunction,lodash.isInteger=isInteger,lodash.isLength=isLength,lodash.isMap=isMap,lodash.isMatch=isMatch,lodash.isMatchWith=isMatchWith,lodash.isNaN=isNaN,lodash.isNative=isNative,lodash.isNil=isNil,lodash.isNull=isNull,lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isObjectLike=isObjectLike,lodash.isPlainObject=isPlainObject,lodash.isRegExp=isRegExp,lodash.isSafeInteger=isSafeInteger,lodash.isSet=isSet,lodash.isString=isString,lodash.isSymbol=isSymbol,lodash.isTypedArray=isTypedArray,lodash.isUndefined=isUndefined,lodash.isWeakMap=isWeakMap,lodash.isWeakSet=isWeakSet,lodash.join=join,lodash.kebabCase=kebabCase,lodash.last=last,lodash.lastIndexOf=lastIndexOf,lodash.lowerCase=lowerCase,lodash.lowerFirst=lowerFirst,lodash.lt=lt,lodash.lte=lte,lodash.max=max,lodash.maxBy=maxBy,lodash.mean=mean,lodash.min=min,lodash.minBy=minBy,lodash.noConflict=noConflict,lodash.noop=noop,lodash.now=now,lodash.pad=pad,lodash.padEnd=padEnd,lodash.padStart=padStart,lodash.parseInt=parseInt,lodash.random=random,lodash.reduce=reduce,lodash.reduceRight=reduceRight,lodash.repeat=repeat,lodash.replace=replace,lodash.result=result,lodash.round=round,lodash.runInContext=runInContext,lodash.sample=sample,lodash.size=size,lodash.snakeCase=snakeCase,lodash.some=some,lodash.sortedIndex=sortedIndex,lodash.sortedIndexBy=sortedIndexBy,lodash.sortedIndexOf=sortedIndexOf,lodash.sortedLastIndex=sortedLastIndex,lodash.sortedLastIndexBy=sortedLastIndexBy,lodash.sortedLastIndexOf=sortedLastIndexOf,lodash.startCase=startCase,lodash.startsWith=startsWith,lodash.subtract=subtract,lodash.sum=sum,lodash.sumBy=sumBy,lodash.template=template,lodash.times=times,lodash.toInteger=toInteger,lodash.toLength=toLength,lodash.toLower=toLower,lodash.toNumber=toNumber,lodash.toSafeInteger=toSafeInteger,lodash.toString=toString,lodash.toUpper=toUpper,lodash.trim=trim,lodash.trimEnd=trimEnd,lodash.trimStart=trimStart,lodash.truncate=truncate,lodash.unescape=unescape,lodash.uniqueId=uniqueId,lodash.upperCase=upperCase,lodash.upperFirst=upperFirst,lodash.each=forEach,lodash.eachRight=forEachRight,lodash.first=head,mixin(lodash,function(){var source={};return baseForOwn(lodash,function(func,methodName){hasOwnProperty.call(lodash.prototype,methodName)||(source[methodName]=func)}),source}(),{chain:!1}),lodash.VERSION=VERSION,arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],function(methodName){lodash[methodName].placeholder=lodash}),arrayEach(["drop","take"],function(methodName,index){LazyWrapper.prototype[methodName]=function(n){var filtered=this.__filtered__;if(filtered&&!index)return new LazyWrapper(this);n=n===undefined?1:nativeMax(toInteger(n),0);var result=this.clone();return filtered?result.__takeCount__=nativeMin(n,result.__takeCount__):result.__views__.push({size:nativeMin(n,MAX_ARRAY_LENGTH),type:methodName+(result.__dir__<0?"Right":"")}),result},LazyWrapper.prototype[methodName+"Right"]=function(n){return this.reverse()[methodName](n).reverse()}}),arrayEach(["filter","map","takeWhile"],function(methodName,index){var type=index+1,isFilter=type==LAZY_FILTER_FLAG||type==LAZY_WHILE_FLAG;LazyWrapper.prototype[methodName]=function(iteratee){var result=this.clone();return result.__iteratees__.push({iteratee:getIteratee(iteratee,3),type:type}),result.__filtered__=result.__filtered__||isFilter,result}}),arrayEach(["head","last"],function(methodName,index){var takeName="take"+(index?"Right":"");LazyWrapper.prototype[methodName]=function(){return this[takeName](1).value()[0]}}),arrayEach(["initial","tail"],function(methodName,index){var dropName="drop"+(index?"":"Right");LazyWrapper.prototype[methodName]=function(){return this.__filtered__?new LazyWrapper(this):this[dropName](1)}}),LazyWrapper.prototype.compact=function(){return this.filter(identity)},LazyWrapper.prototype.find=function(predicate){return this.filter(predicate).head()},LazyWrapper.prototype.findLast=function(predicate){return this.reverse().find(predicate)},LazyWrapper.prototype.invokeMap=rest(function(path,args){return"function"==typeof path?new LazyWrapper(this):this.map(function(value){return baseInvoke(value,path,args)})}),LazyWrapper.prototype.reject=function(predicate){return predicate=getIteratee(predicate,3),this.filter(function(value){return!predicate(value)})},LazyWrapper.prototype.slice=function(start,end){start=toInteger(start);var result=this;return result.__filtered__&&(start>0||0>end)?new LazyWrapper(result):(0>start?result=result.takeRight(-start):start&&(result=result.drop(start)),end!==undefined&&(end=toInteger(end),result=0>end?result.dropRight(-end):result.take(end-start)),result)},LazyWrapper.prototype.takeRightWhile=function(predicate){return this.reverse().takeWhile(predicate).reverse()},LazyWrapper.prototype.toArray=function(){return this.take(MAX_ARRAY_LENGTH)},baseForOwn(LazyWrapper.prototype,function(func,methodName){var checkIteratee=/^(?:filter|find|map|reject)|While$/.test(methodName),isTaker=/^(?:head|last)$/.test(methodName),lodashFunc=lodash[isTaker?"take"+("last"==methodName?"Right":""):methodName],retUnwrapped=isTaker||/^find/.test(methodName);lodashFunc&&(lodash.prototype[methodName]=function(){var value=this.__wrapped__,args=isTaker?[1]:arguments,isLazy=value instanceof LazyWrapper,iteratee=args[0],useLazy=isLazy||isArray(value),interceptor=function(value){var result=lodashFunc.apply(lodash,arrayPush([value],args));return isTaker&&chainAll?result[0]:result};useLazy&&checkIteratee&&"function"==typeof iteratee&&1!=iteratee.length&&(isLazy=useLazy=!1);var chainAll=this.__chain__,isHybrid=!!this.__actions__.length,isUnwrapped=retUnwrapped&&!chainAll,onlyLazy=isLazy&&!isHybrid;if(!retUnwrapped&&useLazy){value=onlyLazy?value:new LazyWrapper(this);var result=func.apply(value,args);return result.__actions__.push({func:thru,args:[interceptor],thisArg:undefined}),new LodashWrapper(result,chainAll)}return isUnwrapped&&onlyLazy?func.apply(this,args):(result=this.thru(interceptor),isUnwrapped?isTaker?result.value()[0]:result.value():result)})}),arrayEach(["pop","push","shift","sort","splice","unshift"],function(methodName){var func=arrayProto[methodName],chainName=/^(?:push|sort|unshift)$/.test(methodName)?"tap":"thru",retUnwrapped=/^(?:pop|shift)$/.test(methodName);lodash.prototype[methodName]=function(){var args=arguments;return retUnwrapped&&!this.__chain__?func.apply(this.value(),args):this[chainName](function(value){return func.apply(value,args)})}}),baseForOwn(LazyWrapper.prototype,function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var key=lodashFunc.name+"",names=realNames[key]||(realNames[key]=[]);names.push({name:methodName,func:lodashFunc})}}),realNames[createHybridWrapper(undefined,BIND_KEY_FLAG).name]=[{name:"wrapper",func:undefined}],LazyWrapper.prototype.clone=lazyClone,LazyWrapper.prototype.reverse=lazyReverse,LazyWrapper.prototype.value=lazyValue,lodash.prototype.at=wrapperAt,lodash.prototype.chain=wrapperChain,lodash.prototype.commit=wrapperCommit,lodash.prototype.flatMap=wrapperFlatMap,lodash.prototype.next=wrapperNext,lodash.prototype.plant=wrapperPlant,lodash.prototype.reverse=wrapperReverse,lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=wrapperValue,iteratorSymbol&&(lodash.prototype[iteratorSymbol]=wrapperToIterator),lodash}var undefined,VERSION="4.6.1",LARGE_ARRAY_SIZE=200,FUNC_ERROR_TEXT="Expected a function",HASH_UNDEFINED="__lodash_hash_undefined__",PLACEHOLDER="__lodash_placeholder__",BIND_FLAG=1,BIND_KEY_FLAG=2,CURRY_BOUND_FLAG=4,CURRY_FLAG=8,CURRY_RIGHT_FLAG=16,PARTIAL_FLAG=32,PARTIAL_RIGHT_FLAG=64,ARY_FLAG=128,REARG_FLAG=256,FLIP_FLAG=512,UNORDERED_COMPARE_FLAG=1,PARTIAL_COMPARE_FLAG=2,DEFAULT_TRUNC_LENGTH=30,DEFAULT_TRUNC_OMISSION="...",HOT_COUNT=150,HOT_SPAN=16,LAZY_FILTER_FLAG=1,LAZY_MAP_FLAG=2,LAZY_WHILE_FLAG=3,INFINITY=1/0,MAX_SAFE_INTEGER=9007199254740991,MAX_INTEGER=1.7976931348623157e308,NAN=0/0,MAX_ARRAY_LENGTH=4294967295,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]",weakSetTag="[object WeakSet]",arrayBufferTag="[object ArrayBuffer]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g,reEscapedHtml=/&(?:amp|lt|gt|quot|#39|#96);/g,reUnescapedHtml=/[&<>"'`]/g,reHasEscapedHtml=RegExp(reEscapedHtml.source),reHasUnescapedHtml=RegExp(reUnescapedHtml.source),reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,reInterpolate=/<%=([\s\S]+?)%>/g,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reHasRegExpChar=RegExp(reRegExpChar.source),reTrim=/^\s+|\s+$/g,reTrimStart=/^\s+/,reTrimEnd=/\s+$/,reEscapeChar=/\\(\\)?/g,reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,reFlags=/\w*$/,reHasHexPrefix=/^0x/i,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsOctal=/^0o[0-7]+$/i,reIsUint=/^(?:0|[1-9]\d*)$/,reLatin1=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,reNoMatch=/($^)/,reUnescapedString=/['\n\r\u2028\u2029\\]/g,rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f\\ufe20-\\ufe23",rsComboSymbolsRange="\\u20d0-\\u20f0",rsDingbatRange="\\u2700-\\u27bf",rsLowerRange="a-z\\xdf-\\xf6\\xf8-\\xff",rsMathOpRange="\\xac\\xb1\\xd7\\xf7",rsNonCharRange="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rsQuoteRange="\\u2018\\u2019\\u201c\\u201d",rsSpaceRange=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsUpperRange="A-Z\\xc0-\\xd6\\xd8-\\xde",rsVarRange="\\ufe0e\\ufe0f",rsBreakRange=rsMathOpRange+rsNonCharRange+rsQuoteRange+rsSpaceRange,rsAstral="["+rsAstralRange+"]",rsBreak="["+rsBreakRange+"]",rsCombo="["+rsComboMarksRange+rsComboSymbolsRange+"]",rsDigits="\\d+",rsDingbat="["+rsDingbatRange+"]",rsLower="["+rsLowerRange+"]",rsMisc="[^"+rsAstralRange+rsBreakRange+rsDigits+rsDingbatRange+rsLowerRange+rsUpperRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="["+rsUpperRange+"]",rsZWJ="\\u200d",rsLowerMisc="(?:"+rsLower+"|"+rsMisc+")",rsUpperMisc="(?:"+rsUpper+"|"+rsMisc+")",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsEmoji="(?:"+[rsDingbat,rsRegional,rsSurrPair].join("|")+")"+rsSeq,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reComboMark=RegExp(rsCombo,"g"),reComplexSymbol=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g"),reHasComplexSymbol=RegExp("["+rsZWJ+rsAstralRange+rsComboMarksRange+rsComboSymbolsRange+rsVarRange+"]"),reBasicWord=/[a-zA-Z0-9]+/g,reComplexWord=RegExp([rsUpper+"?"+rsLower+"+(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsUpperMisc+"+(?="+[rsBreak,rsUpper+rsLowerMisc,"$"].join("|")+")",rsUpper+"?"+rsLowerMisc+"+",rsUpper+"+",rsDigits,rsEmoji].join("|"),"g"),reHasComplexWord=/[a-z][A-Z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,contextProps=["Array","Buffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],templateCounter=-1,typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;var deburredLetters={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},htmlUnescapes={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},objectTypes={"function":!0,object:!0},stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},freeParseFloat=parseFloat,freeParseInt=parseInt,freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType?exports:undefined,freeModule=objectTypes[typeof module]&&module&&!module.nodeType?module:undefined,moduleExports=freeModule&&freeModule.exports===freeExports?freeExports:undefined,freeGlobal=checkGlobal(freeExports&&freeModule&&"object"==typeof global&&global),freeSelf=checkGlobal(objectTypes[typeof self]&&self),freeWindow=checkGlobal(objectTypes[typeof window]&&window),thisGlobal=checkGlobal(objectTypes[typeof this]&&this),root=freeGlobal||freeWindow!==(thisGlobal&&thisGlobal.window)&&freeWindow||freeSelf||thisGlobal||Function("return this")(),_=runInContext();(freeWindow||freeSelf||{})._=_,"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return _}):freeExports&&freeModule?(moduleExports&&((freeModule.exports=_)._=_),freeExports._=_):root._=_}).call(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],257:[function(require,module,exports){var LZString=function(){function getBaseValue(alphabet,character){if(!baseReverseDic[alphabet]){baseReverseDic[alphabet]={};for(var i=0;i<alphabet.length;i++)baseReverseDic[alphabet][alphabet.charAt(i)]=i}return baseReverseDic[alphabet][character]}var f=String.fromCharCode,keyStrBase64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",keyStrUriSafe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",baseReverseDic={},LZString={compressToBase64:function(input){if(null==input)return"";var res=LZString._compress(input,6,function(a){return keyStrBase64.charAt(a)});switch(res.length%4){default:case 0:return res;case 1:return res+"===";case 2:return res+"==";case 3:return res+"="}},decompressFromBase64:function(input){return null==input?"":""==input?null:LZString._decompress(input.length,32,function(index){return getBaseValue(keyStrBase64,input.charAt(index))})},compressToUTF16:function(input){return null==input?"":LZString._compress(input,15,function(a){return f(a+32)})+" "},decompressFromUTF16:function(compressed){return null==compressed?"":""==compressed?null:LZString._decompress(compressed.length,16384,function(index){return compressed.charCodeAt(index)-32})},compressToUint8Array:function(uncompressed){for(var compressed=LZString.compress(uncompressed),buf=new Uint8Array(2*compressed.length),i=0,TotalLen=compressed.length;TotalLen>i;i++){var current_value=compressed.charCodeAt(i);buf[2*i]=current_value>>>8,buf[2*i+1]=current_value%256}return buf},decompressFromUint8Array:function(compressed){if(null===compressed||void 0===compressed)return LZString.decompress(compressed);for(var buf=new Array(compressed.length/2),i=0,TotalLen=buf.length;TotalLen>i;i++)buf[i]=256*compressed[2*i]+compressed[2*i+1];var result=[];return buf.forEach(function(c){result.push(f(c))}),LZString.decompress(result.join(""))},compressToEncodedURIComponent:function(input){return null==input?"":LZString._compress(input,6,function(a){return keyStrUriSafe.charAt(a)})},decompressFromEncodedURIComponent:function(input){return null==input?"":""==input?null:(input=input.replace(/ /g,"+"),LZString._decompress(input.length,32,function(index){return getBaseValue(keyStrUriSafe,input.charAt(index))}))},compress:function(uncompressed){return LZString._compress(uncompressed,16,function(a){return f(a)})},_compress:function(uncompressed,bitsPerChar,getCharFromInt){if(null==uncompressed)return"";var i,value,ii,context_dictionary={},context_dictionaryToCreate={},context_c="",context_wc="",context_w="",context_enlargeIn=2,context_dictSize=3,context_numBits=2,context_data=[],context_data_val=0,context_data_position=0;for(ii=0;ii<uncompressed.length;ii+=1)if(context_c=uncompressed.charAt(ii),Object.prototype.hasOwnProperty.call(context_dictionary,context_c)||(context_dictionary[context_c]=context_dictSize++,context_dictionaryToCreate[context_c]=!0),context_wc=context_w+context_c,Object.prototype.hasOwnProperty.call(context_dictionary,context_wc))context_w=context_wc;else{if(Object.prototype.hasOwnProperty.call(context_dictionaryToCreate,context_w)){if(context_w.charCodeAt(0)<256){for(i=0;context_numBits>i;i++)context_data_val<<=1,context_data_position==bitsPerChar-1?(context_data_position=0,context_data.push(getCharFromInt(context_data_val)),context_data_val=0):context_data_position++;for(value=context_w.charCodeAt(0),i=0;8>i;i++)context_data_val=context_data_val<<1|1&value,context_data_position==bitsPerChar-1?(context_data_position=0,context_data.push(getCharFromInt(context_data_val)),context_data_val=0):context_data_position++,value>>=1}else{for(value=1,i=0;context_numBits>i;i++)context_data_val=context_data_val<<1|value,context_data_position==bitsPerChar-1?(context_data_position=0,context_data.push(getCharFromInt(context_data_val)),context_data_val=0):context_data_position++,value=0;for(value=context_w.charCodeAt(0),i=0;16>i;i++)context_data_val=context_data_val<<1|1&value,context_data_position==bitsPerChar-1?(context_data_position=0,context_data.push(getCharFromInt(context_data_val)),context_data_val=0):context_data_position++,value>>=1}context_enlargeIn--,0==context_enlargeIn&&(context_enlargeIn=Math.pow(2,context_numBits),context_numBits++),delete context_dictionaryToCreate[context_w]}else for(value=context_dictionary[context_w],i=0;context_numBits>i;i++)context_data_val=context_data_val<<1|1&value,context_data_position==bitsPerChar-1?(context_data_position=0,context_data.push(getCharFromInt(context_data_val)),context_data_val=0):context_data_position++,value>>=1;context_enlargeIn--,0==context_enlargeIn&&(context_enlargeIn=Math.pow(2,context_numBits),context_numBits++),context_dictionary[context_wc]=context_dictSize++,context_w=String(context_c)}if(""!==context_w){if(Object.prototype.hasOwnProperty.call(context_dictionaryToCreate,context_w)){if(context_w.charCodeAt(0)<256){for(i=0;context_numBits>i;i++)context_data_val<<=1,context_data_position==bitsPerChar-1?(context_data_position=0,context_data.push(getCharFromInt(context_data_val)),context_data_val=0):context_data_position++;for(value=context_w.charCodeAt(0),i=0;8>i;i++)context_data_val=context_data_val<<1|1&value,context_data_position==bitsPerChar-1?(context_data_position=0,context_data.push(getCharFromInt(context_data_val)),context_data_val=0):context_data_position++,value>>=1}else{for(value=1,i=0;context_numBits>i;i++)context_data_val=context_data_val<<1|value,context_data_position==bitsPerChar-1?(context_data_position=0,context_data.push(getCharFromInt(context_data_val)),context_data_val=0):context_data_position++,value=0;for(value=context_w.charCodeAt(0),i=0;16>i;i++)context_data_val=context_data_val<<1|1&value,context_data_position==bitsPerChar-1?(context_data_position=0,context_data.push(getCharFromInt(context_data_val)),context_data_val=0):context_data_position++,value>>=1}context_enlargeIn--,0==context_enlargeIn&&(context_enlargeIn=Math.pow(2,context_numBits),context_numBits++),delete context_dictionaryToCreate[context_w]}else for(value=context_dictionary[context_w],i=0;context_numBits>i;i++)context_data_val=context_data_val<<1|1&value,context_data_position==bitsPerChar-1?(context_data_position=0,context_data.push(getCharFromInt(context_data_val)),context_data_val=0):context_data_position++,value>>=1;context_enlargeIn--,0==context_enlargeIn&&(context_enlargeIn=Math.pow(2,context_numBits),context_numBits++)}for(value=2,i=0;context_numBits>i;i++)context_data_val=context_data_val<<1|1&value,context_data_position==bitsPerChar-1?(context_data_position=0,context_data.push(getCharFromInt(context_data_val)),context_data_val=0):context_data_position++,value>>=1;for(;;){if(context_data_val<<=1,context_data_position==bitsPerChar-1){context_data.push(getCharFromInt(context_data_val));break}context_data_position++}return context_data.join("")},decompress:function(compressed){return null==compressed?"":""==compressed?null:LZString._decompress(compressed.length,32768,function(index){return compressed.charCodeAt(index)})},_decompress:function(length,resetValue,getNextValue){var next,i,w,bits,resb,maxpower,power,c,dictionary=[],enlargeIn=4,dictSize=4,numBits=3,entry="",result=[],data={val:getNextValue(0),position:resetValue,index:1};for(i=0;3>i;i+=1)dictionary[i]=i;for(bits=0,maxpower=Math.pow(2,2),power=1;power!=maxpower;)resb=data.val&data.position,data.position>>=1,0==data.position&&(data.position=resetValue,data.val=getNextValue(data.index++)),bits|=(resb>0?1:0)*power,power<<=1;switch(next=bits){case 0:for(bits=0,maxpower=Math.pow(2,8),power=1;power!=maxpower;)resb=data.val&data.position,data.position>>=1,0==data.position&&(data.position=resetValue,data.val=getNextValue(data.index++)),bits|=(resb>0?1:0)*power,power<<=1;c=f(bits);break;case 1:for(bits=0,maxpower=Math.pow(2,16),power=1;power!=maxpower;)resb=data.val&data.position,data.position>>=1,0==data.position&&(data.position=resetValue,data.val=getNextValue(data.index++)),bits|=(resb>0?1:0)*power,power<<=1;c=f(bits);break;case 2:return""}for(dictionary[3]=c,w=c,result.push(c);;){if(data.index>length)return"";for(bits=0,maxpower=Math.pow(2,numBits),power=1;power!=maxpower;)resb=data.val&data.position,data.position>>=1,0==data.position&&(data.position=resetValue,data.val=getNextValue(data.index++)),bits|=(resb>0?1:0)*power,power<<=1;switch(c=bits){case 0:for(bits=0,maxpower=Math.pow(2,8),power=1;power!=maxpower;)resb=data.val&data.position,data.position>>=1,0==data.position&&(data.position=resetValue,data.val=getNextValue(data.index++)),bits|=(resb>0?1:0)*power,power<<=1;dictionary[dictSize++]=f(bits),c=dictSize-1,enlargeIn--;break;case 1:for(bits=0,maxpower=Math.pow(2,16),power=1;power!=maxpower;)resb=data.val&data.position,data.position>>=1,0==data.position&&(data.position=resetValue,data.val=getNextValue(data.index++)),bits|=(resb>0?1:0)*power,power<<=1;dictionary[dictSize++]=f(bits),c=dictSize-1,enlargeIn--;break;case 2:return result.join("")}if(0==enlargeIn&&(enlargeIn=Math.pow(2,numBits),numBits++),dictionary[c])entry=dictionary[c];else{if(c!==dictSize)return null;entry=w+w.charAt(0)}result.push(entry),dictionary[dictSize++]=w+entry.charAt(0),enlargeIn--,w=entry,0==enlargeIn&&(enlargeIn=Math.pow(2,numBits),numBits++)}}};return LZString}();"function"==typeof define&&define.amd?define(function(){return LZString}):"undefined"!=typeof module&&null!=module&&(module.exports=LZString)},{}],258:[function(require,module,exports){(function(global){(function(){function Lexer(options){this.tokens=[],this.tokens.links={},this.options=options||marked.defaults,this.rules=block.normal,this.options.gfm&&(this.rules=this.options.tables?block.tables:block.gfm)}function InlineLexer(links,options){
if(this.options=options||marked.defaults,this.links=links,this.rules=inline.normal,this.renderer=this.options.renderer||new Renderer,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.rules=this.options.breaks?inline.breaks:inline.gfm:this.options.pedantic&&(this.rules=inline.pedantic)}function Renderer(options){this.options=options||{}}function Parser(options){this.tokens=[],this.token=null,this.options=options||marked.defaults,this.options.renderer=this.options.renderer||new Renderer,this.renderer=this.options.renderer,this.renderer.options=this.options}function escape(html,encode){return html.replace(encode?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function unescape(html){return html.replace(/&([#\w]+);/g,function(_,n){return n=n.toLowerCase(),"colon"===n?":":"#"===n.charAt(0)?String.fromCharCode("x"===n.charAt(1)?parseInt(n.substring(2),16):+n.substring(1)):""})}function replace(regex,opt){return regex=regex.source,opt=opt||"",function self(name,val){return name?(val=val.source||val,val=val.replace(/(^|[^\[])\^/g,"$1"),regex=regex.replace(name,val),self):new RegExp(regex,opt)}}function noop(){}function merge(obj){for(var target,key,i=1;i<arguments.length;i++){target=arguments[i];for(key in target)Object.prototype.hasOwnProperty.call(target,key)&&(obj[key]=target[key])}return obj}function marked(src,opt,callback){if(callback||"function"==typeof opt){callback||(callback=opt,opt=null),opt=merge({},marked.defaults,opt||{});var tokens,pending,highlight=opt.highlight,i=0;try{tokens=Lexer.lex(src,opt)}catch(e){return callback(e)}pending=tokens.length;var done=function(err){if(err)return opt.highlight=highlight,callback(err);var out;try{out=Parser.parse(tokens,opt)}catch(e){err=e}return opt.highlight=highlight,err?callback(err):callback(null,out)};if(!highlight||highlight.length<3)return done();if(delete opt.highlight,!pending)return done();for(;i<tokens.length;i++)!function(token){return"code"!==token.type?--pending||done():highlight(token.text,token.lang,function(err,code){return err?done(err):null==code||code===token.text?--pending||done():(token.text=code,token.escaped=!0,void(--pending||done()))})}(tokens[i])}else try{return opt&&(opt=merge({},marked.defaults,opt)),Parser.parse(Lexer.lex(src,opt),opt)}catch(e){if(e.message+="\nPlease report this to https://github.com/chjj/marked.",(opt||marked.defaults).silent)return"<p>An error occured:</p><pre>"+escape(e.message+"",!0)+"</pre>";throw e}}var block={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:noop,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:noop,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:noop,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};block.bullet=/(?:[*+-]|\d+\.)/,block.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,block.item=replace(block.item,"gm")(/bull/g,block.bullet)(),block.list=replace(block.list)(/bull/g,block.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+block.def.source+")")(),block.blockquote=replace(block.blockquote)("def",block.def)(),block._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",block.html=replace(block.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,block._tag)(),block.paragraph=replace(block.paragraph)("hr",block.hr)("heading",block.heading)("lheading",block.lheading)("blockquote",block.blockquote)("tag","<"+block._tag)("def",block.def)(),block.normal=merge({},block),block.gfm=merge({},block.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),block.gfm.paragraph=replace(block.paragraph)("(?!","(?!"+block.gfm.fences.source.replace("\\1","\\2")+"|"+block.list.source.replace("\\1","\\3")+"|")(),block.tables=merge({},block.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),Lexer.rules=block,Lexer.lex=function(src,options){var lexer=new Lexer(options);return lexer.lex(src)},Lexer.prototype.lex=function(src){return src=src.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(src,!0)},Lexer.prototype.token=function(src,top,bq){for(var next,loose,cap,bull,b,item,space,i,l,src=src.replace(/^ +$/gm,"");src;)if((cap=this.rules.newline.exec(src))&&(src=src.substring(cap[0].length),cap[0].length>1&&this.tokens.push({type:"space"})),cap=this.rules.code.exec(src))src=src.substring(cap[0].length),cap=cap[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?cap:cap.replace(/\n+$/,"")});else if(cap=this.rules.fences.exec(src))src=src.substring(cap[0].length),this.tokens.push({type:"code",lang:cap[2],text:cap[3]||""});else if(cap=this.rules.heading.exec(src))src=src.substring(cap[0].length),this.tokens.push({type:"heading",depth:cap[1].length,text:cap[2]});else if(top&&(cap=this.rules.nptable.exec(src))){for(src=src.substring(cap[0].length),item={type:"table",header:cap[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:cap[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:cap[3].replace(/\n$/,"").split("\n")},i=0;i<item.align.length;i++)item.align[i]=/^ *-+: *$/.test(item.align[i])?"right":/^ *:-+: *$/.test(item.align[i])?"center":/^ *:-+ *$/.test(item.align[i])?"left":null;for(i=0;i<item.cells.length;i++)item.cells[i]=item.cells[i].split(/ *\| */);this.tokens.push(item)}else if(cap=this.rules.lheading.exec(src))src=src.substring(cap[0].length),this.tokens.push({type:"heading",depth:"="===cap[2]?1:2,text:cap[1]});else if(cap=this.rules.hr.exec(src))src=src.substring(cap[0].length),this.tokens.push({type:"hr"});else if(cap=this.rules.blockquote.exec(src))src=src.substring(cap[0].length),this.tokens.push({type:"blockquote_start"}),cap=cap[0].replace(/^ *> ?/gm,""),this.token(cap,top,!0),this.tokens.push({type:"blockquote_end"});else if(cap=this.rules.list.exec(src)){for(src=src.substring(cap[0].length),bull=cap[2],this.tokens.push({type:"list_start",ordered:bull.length>1}),cap=cap[0].match(this.rules.item),next=!1,l=cap.length,i=0;l>i;i++)item=cap[i],space=item.length,item=item.replace(/^ *([*+-]|\d+\.) +/,""),~item.indexOf("\n ")&&(space-=item.length,item=this.options.pedantic?item.replace(/^ {1,4}/gm,""):item.replace(new RegExp("^ {1,"+space+"}","gm"),"")),this.options.smartLists&&i!==l-1&&(b=block.bullet.exec(cap[i+1])[0],bull===b||bull.length>1&&b.length>1||(src=cap.slice(i+1).join("\n")+src,i=l-1)),loose=next||/\n\n(?!\s*$)/.test(item),i!==l-1&&(next="\n"===item.charAt(item.length-1),loose||(loose=next)),this.tokens.push({type:loose?"loose_item_start":"list_item_start"}),this.token(item,!1,bq),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(cap=this.rules.html.exec(src))src=src.substring(cap[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===cap[1]||"script"===cap[1]||"style"===cap[1]),text:cap[0]});else if(!bq&&top&&(cap=this.rules.def.exec(src)))src=src.substring(cap[0].length),this.tokens.links[cap[1].toLowerCase()]={href:cap[2],title:cap[3]};else if(top&&(cap=this.rules.table.exec(src))){for(src=src.substring(cap[0].length),item={type:"table",header:cap[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:cap[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:cap[3].replace(/(?: *\| *)?\n$/,"").split("\n")},i=0;i<item.align.length;i++)item.align[i]=/^ *-+: *$/.test(item.align[i])?"right":/^ *:-+: *$/.test(item.align[i])?"center":/^ *:-+ *$/.test(item.align[i])?"left":null;for(i=0;i<item.cells.length;i++)item.cells[i]=item.cells[i].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(item)}else if(top&&(cap=this.rules.paragraph.exec(src)))src=src.substring(cap[0].length),this.tokens.push({type:"paragraph",text:"\n"===cap[1].charAt(cap[1].length-1)?cap[1].slice(0,-1):cap[1]});else if(cap=this.rules.text.exec(src))src=src.substring(cap[0].length),this.tokens.push({type:"text",text:cap[0]});else if(src)throw new Error("Infinite loop on byte: "+src.charCodeAt(0));return this.tokens};var inline={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:noop,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:noop,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};inline._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,inline._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,inline.link=replace(inline.link)("inside",inline._inside)("href",inline._href)(),inline.reflink=replace(inline.reflink)("inside",inline._inside)(),inline.normal=merge({},inline),inline.pedantic=merge({},inline.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),inline.gfm=merge({},inline.normal,{escape:replace(inline.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:replace(inline.text)("]|","~]|")("|","|https?://|")()}),inline.breaks=merge({},inline.gfm,{br:replace(inline.br)("{2,}","*")(),text:replace(inline.gfm.text)("{2,}","*")()}),InlineLexer.rules=inline,InlineLexer.output=function(src,links,options){var inline=new InlineLexer(links,options);return inline.output(src)},InlineLexer.prototype.output=function(src){for(var link,text,href,cap,out="";src;)if(cap=this.rules.escape.exec(src))src=src.substring(cap[0].length),out+=cap[1];else if(cap=this.rules.autolink.exec(src))src=src.substring(cap[0].length),"@"===cap[2]?(text=this.mangle(":"===cap[1].charAt(6)?cap[1].substring(7):cap[1]),href=this.mangle("mailto:")+text):(text=escape(cap[1]),href=text),out+=this.renderer.link(href,null,text);else if(this.inLink||!(cap=this.rules.url.exec(src))){if(cap=this.rules.tag.exec(src))!this.inLink&&/^<a /i.test(cap[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(cap[0])&&(this.inLink=!1),src=src.substring(cap[0].length),out+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(cap[0]):escape(cap[0]):cap[0];else if(cap=this.rules.link.exec(src))src=src.substring(cap[0].length),this.inLink=!0,out+=this.outputLink(cap,{href:cap[2],title:cap[3]}),this.inLink=!1;else if((cap=this.rules.reflink.exec(src))||(cap=this.rules.nolink.exec(src))){if(src=src.substring(cap[0].length),link=(cap[2]||cap[1]).replace(/\s+/g," "),link=this.links[link.toLowerCase()],!link||!link.href){out+=cap[0].charAt(0),src=cap[0].substring(1)+src;continue}this.inLink=!0,out+=this.outputLink(cap,link),this.inLink=!1}else if(cap=this.rules.strong.exec(src))src=src.substring(cap[0].length),out+=this.renderer.strong(this.output(cap[2]||cap[1]));else if(cap=this.rules.em.exec(src))src=src.substring(cap[0].length),out+=this.renderer.em(this.output(cap[2]||cap[1]));else if(cap=this.rules.code.exec(src))src=src.substring(cap[0].length),out+=this.renderer.codespan(escape(cap[2],!0));else if(cap=this.rules.br.exec(src))src=src.substring(cap[0].length),out+=this.renderer.br();else if(cap=this.rules.del.exec(src))src=src.substring(cap[0].length),out+=this.renderer.del(this.output(cap[1]));else if(cap=this.rules.text.exec(src))src=src.substring(cap[0].length),out+=this.renderer.text(escape(this.smartypants(cap[0])));else if(src)throw new Error("Infinite loop on byte: "+src.charCodeAt(0))}else src=src.substring(cap[0].length),text=escape(cap[1]),href=text,out+=this.renderer.link(href,null,text);return out},InlineLexer.prototype.outputLink=function(cap,link){var href=escape(link.href),title=link.title?escape(link.title):null;return"!"!==cap[0].charAt(0)?this.renderer.link(href,title,this.output(cap[1])):this.renderer.image(href,title,escape(cap[1]))},InlineLexer.prototype.smartypants=function(text){return this.options.smartypants?text.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,""):text},InlineLexer.prototype.mangle=function(text){if(!this.options.mangle)return text;for(var ch,out="",l=text.length,i=0;l>i;i++)ch=text.charCodeAt(i),Math.random()>.5&&(ch="x"+ch.toString(16)),out+="&#"+ch+";";return out},Renderer.prototype.code=function(code,lang,escaped){if(this.options.highlight){var out=this.options.highlight(code,lang);null!=out&&out!==code&&(escaped=!0,code=out)}return lang?'<pre><code class="'+this.options.langPrefix+escape(lang,!0)+'">'+(escaped?code:escape(code,!0))+"\n</code></pre>\n":"<pre><code>"+(escaped?code:escape(code,!0))+"\n</code></pre>"},Renderer.prototype.blockquote=function(quote){return"<blockquote>\n"+quote+"</blockquote>\n"},Renderer.prototype.html=function(html){return html},Renderer.prototype.heading=function(text,level,raw){return"<h"+level+' id="'+this.options.headerPrefix+raw.toLowerCase().replace(/[^\w]+/g,"-")+'">'+text+"</h"+level+">\n"},Renderer.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},Renderer.prototype.list=function(body,ordered){var type=ordered?"ol":"ul";return"<"+type+">\n"+body+"</"+type+">\n"},Renderer.prototype.listitem=function(text){return"<li>"+text+"</li>\n"},Renderer.prototype.paragraph=function(text){return"<p>"+text+"</p>\n"},Renderer.prototype.table=function(header,body){return"<table>\n<thead>\n"+header+"</thead>\n<tbody>\n"+body+"</tbody>\n</table>\n"},Renderer.prototype.tablerow=function(content){return"<tr>\n"+content+"</tr>\n"},Renderer.prototype.tablecell=function(content,flags){var type=flags.header?"th":"td",tag=flags.align?"<"+type+' style="text-align:'+flags.align+'">':"<"+type+">";return tag+content+"</"+type+">\n"},Renderer.prototype.strong=function(text){return"<strong>"+text+"</strong>"},Renderer.prototype.em=function(text){return"<em>"+text+"</em>"},Renderer.prototype.codespan=function(text){return"<code>"+text+"</code>"},Renderer.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},Renderer.prototype.del=function(text){return"<del>"+text+"</del>"},Renderer.prototype.link=function(href,title,text){if(this.options.sanitize){try{var prot=decodeURIComponent(unescape(href)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return""}if(0===prot.indexOf("javascript:")||0===prot.indexOf("vbscript:"))return""}var out='<a href="'+href+'"';return title&&(out+=' title="'+title+'"'),out+=">"+text+"</a>"},Renderer.prototype.image=function(href,title,text){var out='<img src="'+href+'" alt="'+text+'"';return title&&(out+=' title="'+title+'"'),out+=this.options.xhtml?"/>":">"},Renderer.prototype.text=function(text){return text},Parser.parse=function(src,options,renderer){var parser=new Parser(options,renderer);return parser.parse(src)},Parser.prototype.parse=function(src){this.inline=new InlineLexer(src.links,this.options,this.renderer),this.tokens=src.reverse();for(var out="";this.next();)out+=this.tok();return out},Parser.prototype.next=function(){return this.token=this.tokens.pop()},Parser.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},Parser.prototype.parseText=function(){for(var body=this.token.text;"text"===this.peek().type;)body+="\n"+this.next().text;return this.inline.output(body)},Parser.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var i,row,cell,flags,j,header="",body="";for(cell="",i=0;i<this.token.header.length;i++)flags={header:!0,align:this.token.align[i]},cell+=this.renderer.tablecell(this.inline.output(this.token.header[i]),{header:!0,align:this.token.align[i]});for(header+=this.renderer.tablerow(cell),i=0;i<this.token.cells.length;i++){for(row=this.token.cells[i],cell="",j=0;j<row.length;j++)cell+=this.renderer.tablecell(this.inline.output(row[j]),{header:!1,align:this.token.align[j]});body+=this.renderer.tablerow(cell)}return this.renderer.table(header,body);case"blockquote_start":for(var body="";"blockquote_end"!==this.next().type;)body+=this.tok();return this.renderer.blockquote(body);case"list_start":for(var body="",ordered=this.token.ordered;"list_end"!==this.next().type;)body+=this.tok();return this.renderer.list(body,ordered);case"list_item_start":for(var body="";"list_item_end"!==this.next().type;)body+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(body);case"loose_item_start":for(var body="";"list_item_end"!==this.next().type;)body+=this.tok();return this.renderer.listitem(body);case"html":var html=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(html);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},noop.exec=noop,marked.options=marked.setOptions=function(opt){return merge(marked.defaults,opt),marked},marked.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new Renderer,xhtml:!1},marked.Parser=Parser,marked.parser=Parser.parse,marked.Renderer=Renderer,marked.Lexer=Lexer,marked.lexer=Lexer.lex,marked.InlineLexer=InlineLexer,marked.inlineLexer=InlineLexer.output,marked.parse=marked,"undefined"!=typeof module&&"object"==typeof exports?module.exports=marked:"function"==typeof define&&define.amd?define(function(){return marked}):this.marked=marked}).call(function(){return this||("undefined"!=typeof window?window:global)}())}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],259:[function(require,module,exports){!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):global.moment=factory()}(this,function(){"use strict";function utils_hooks__hooks(){return hookCallback.apply(null,arguments)}function setHookCallback(callback){hookCallback=callback}function isArray(input){return"[object Array]"===Object.prototype.toString.call(input)}function isDate(input){return input instanceof Date||"[object Date]"===Object.prototype.toString.call(input)}function map(arr,fn){var i,res=[];for(i=0;i<arr.length;++i)res.push(fn(arr[i],i));return res}function hasOwnProp(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function extend(a,b){for(var i in b)hasOwnProp(b,i)&&(a[i]=b[i]);return hasOwnProp(b,"toString")&&(a.toString=b.toString),hasOwnProp(b,"valueOf")&&(a.valueOf=b.valueOf),a}function create_utc__createUTC(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function getParsingFlags(m){return null==m._pf&&(m._pf=defaultParsingFlags()),m._pf}function valid__isValid(m){if(null==m._isValid){var flags=getParsingFlags(m);m._isValid=!(isNaN(m._d.getTime())||!(flags.overflow<0)||flags.empty||flags.invalidMonth||flags.invalidWeekday||flags.nullInput||flags.invalidFormat||flags.userInvalidated),m._strict&&(m._isValid=m._isValid&&0===flags.charsLeftOver&&0===flags.unusedTokens.length&&void 0===flags.bigHour)}return m._isValid}function valid__createInvalid(flags){var m=create_utc__createUTC(0/0);return null!=flags?extend(getParsingFlags(m),flags):getParsingFlags(m).userInvalidated=!0,m}function copyConfig(to,from){var i,prop,val;if("undefined"!=typeof from._isAMomentObject&&(to._isAMomentObject=from._isAMomentObject),"undefined"!=typeof from._i&&(to._i=from._i),"undefined"!=typeof from._f&&(to._f=from._f),"undefined"!=typeof from._l&&(to._l=from._l),"undefined"!=typeof from._strict&&(to._strict=from._strict),"undefined"!=typeof from._tzm&&(to._tzm=from._tzm),"undefined"!=typeof from._isUTC&&(to._isUTC=from._isUTC),"undefined"!=typeof from._offset&&(to._offset=from._offset),"undefined"!=typeof from._pf&&(to._pf=getParsingFlags(from)),"undefined"!=typeof from._locale&&(to._locale=from._locale),momentProperties.length>0)for(i in momentProperties)prop=momentProperties[i],val=from[prop],"undefined"!=typeof val&&(to[prop]=val);return to}function Moment(config){copyConfig(this,config),this._d=new Date(null!=config._d?config._d.getTime():0/0),updateInProgress===!1&&(updateInProgress=!0,utils_hooks__hooks.updateOffset(this),updateInProgress=!1)}function isMoment(obj){return obj instanceof Moment||null!=obj&&null!=obj._isAMomentObject}function absFloor(number){return 0>number?Math.ceil(number):Math.floor(number)}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;return 0!==coercedNumber&&isFinite(coercedNumber)&&(value=absFloor(coercedNumber)),value}function compareArrays(array1,array2,dontConvert){var i,len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0;for(i=0;len>i;i++)(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i]))&&diffs++;return diffs+lengthDiff}function Locale(){}function normalizeLocale(key){return key?key.toLowerCase().replace("_","-"):key}function chooseLocale(names){for(var j,next,locale,split,i=0;i<names.length;){for(split=normalizeLocale(names[i]).split("-"),j=split.length,next=normalizeLocale(names[i+1]),next=next?next.split("-"):null;j>0;){if(locale=loadLocale(split.slice(0,j).join("-")))return locale;if(next&&next.length>=j&&compareArrays(split,next,!0)>=j-1)break;j--}i++}return null}function loadLocale(name){var oldLocale=null;if(!locales[name]&&"undefined"!=typeof module&&module&&module.exports)try{oldLocale=globalLocale._abbr,require("./locale/"+name),locale_locales__getSetGlobalLocale(oldLocale)}catch(e){}return locales[name]}function locale_locales__getSetGlobalLocale(key,values){var data;return key&&(data="undefined"==typeof values?locale_locales__getLocale(key):defineLocale(key,values),data&&(globalLocale=data)),globalLocale._abbr}function defineLocale(name,values){return null!==values?(values.abbr=name,locales[name]=locales[name]||new Locale,locales[name].set(values),locale_locales__getSetGlobalLocale(name),locales[name]):(delete locales[name],null)}function locale_locales__getLocale(key){var locale;if(key&&key._locale&&key._locale._abbr&&(key=key._locale._abbr),!key)return globalLocale;if(!isArray(key)){if(locale=loadLocale(key))return locale;key=[key]}return chooseLocale(key)}function addUnitAlias(unit,shorthand){var lowerCase=unit.toLowerCase();aliases[lowerCase]=aliases[lowerCase+"s"]=aliases[shorthand]=unit}function normalizeUnits(units){return"string"==typeof units?aliases[units]||aliases[units.toLowerCase()]:void 0}function normalizeObjectUnits(inputObject){var normalizedProp,prop,normalizedInput={};for(prop in inputObject)hasOwnProp(inputObject,prop)&&(normalizedProp=normalizeUnits(prop),normalizedProp&&(normalizedInput[normalizedProp]=inputObject[prop]));return normalizedInput}function makeGetSet(unit,keepTime){return function(value){return null!=value?(get_set__set(this,unit,value),utils_hooks__hooks.updateOffset(this,keepTime),this):get_set__get(this,unit)}}function get_set__get(mom,unit){return mom._d["get"+(mom._isUTC?"UTC":"")+unit]()}function get_set__set(mom,unit,value){return mom._d["set"+(mom._isUTC?"UTC":"")+unit](value)}function getSet(units,value){var unit;if("object"==typeof units)for(unit in units)this.set(unit,units[unit]);else if(units=normalizeUnits(units),"function"==typeof this[units])return this[units](value);return this}function zeroFill(number,targetLength,forceSign){var absNumber=""+Math.abs(number),zerosToFill=targetLength-absNumber.length,sign=number>=0;return(sign?forceSign?"+":"":"-")+Math.pow(10,Math.max(0,zerosToFill)).toString().substr(1)+absNumber}function addFormatToken(token,padded,ordinal,callback){var func=callback;"string"==typeof callback&&(func=function(){return this[callback]()}),token&&(formatTokenFunctions[token]=func),padded&&(formatTokenFunctions[padded[0]]=function(){return zeroFill(func.apply(this,arguments),padded[1],padded[2])}),ordinal&&(formatTokenFunctions[ordinal]=function(){return this.localeData().ordinal(func.apply(this,arguments),token)})}function removeFormattingTokens(input){return input.match(/\[[\s\S]/)?input.replace(/^\[|\]$/g,""):input.replace(/\\/g,"")}function makeFormatFunction(format){var i,length,array=format.match(formattingTokens);for(i=0,length=array.length;length>i;i++)array[i]=formatTokenFunctions[array[i]]?formatTokenFunctions[array[i]]:removeFormattingTokens(array[i]);return function(mom){var output="";for(i=0;length>i;i++)output+=array[i]instanceof Function?array[i].call(mom,format):array[i];return output}}function formatMoment(m,format){return m.isValid()?(format=expandFormat(format,m.localeData()),formatFunctions[format]=formatFunctions[format]||makeFormatFunction(format),formatFunctions[format](m)):m.localeData().invalidDate()}function expandFormat(format,locale){function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input}var i=5;for(localFormattingTokens.lastIndex=0;i>=0&&localFormattingTokens.test(format);)format=format.replace(localFormattingTokens,replaceLongDateFormatTokens),localFormattingTokens.lastIndex=0,i-=1;return format}function isFunction(sth){return"function"==typeof sth&&"[object Function]"===Object.prototype.toString.call(sth)}function addRegexToken(token,regex,strictRegex){regexes[token]=isFunction(regex)?regex:function(isStrict){return isStrict&&strictRegex?strictRegex:regex}}function getParseRegexForToken(token,config){return hasOwnProp(regexes,token)?regexes[token](config._strict,config._locale):new RegExp(unescapeFormat(token))}function unescapeFormat(s){return s.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function addParseToken(token,callback){var i,func=callback;for("string"==typeof token&&(token=[token]),"number"==typeof callback&&(func=function(input,array){array[callback]=toInt(input)}),i=0;i<token.length;i++)tokens[token[i]]=func}function addWeekParseToken(token,callback){addParseToken(token,function(input,array,config,token){config._w=config._w||{},callback(input,config._w,config,token)})}function addTimeToArrayFromToken(token,input,config){null!=input&&hasOwnProp(tokens,token)&&tokens[token](input,config._a,config,token)}function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate()}function localeMonths(m){return this._months[m.month()]}function localeMonthsShort(m){return this._monthsShort[m.month()]}function localeMonthsParse(monthName,format,strict){var i,mom,regex;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(mom=create_utc__createUTC([2e3,i]),strict&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(mom,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(mom,"").replace(".","")+"$","i")),strict||this._monthsParse[i]||(regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,""),this._monthsParse[i]=new RegExp(regex.replace(".",""),"i")),strict&&"MMMM"===format&&this._longMonthsParse[i].test(monthName))return i;if(strict&&"MMM"===format&&this._shortMonthsParse[i].test(monthName))return i;if(!strict&&this._monthsParse[i].test(monthName))return i}}function setMonth(mom,value){var dayOfMonth;return"string"==typeof value&&(value=mom.localeData().monthsParse(value),"number"!=typeof value)?mom:(dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value)),mom._d["set"+(mom._isUTC?"UTC":"")+"Month"](value,dayOfMonth),mom)}function getSetMonth(value){return null!=value?(setMonth(this,value),utils_hooks__hooks.updateOffset(this,!0),this):get_set__get(this,"Month")}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}function checkOverflow(m){var overflow,a=m._a;return a&&-2===getParsingFlags(m).overflow&&(overflow=a[MONTH]<0||a[MONTH]>11?MONTH:a[DATE]<1||a[DATE]>daysInMonth(a[YEAR],a[MONTH])?DATE:a[HOUR]<0||a[HOUR]>24||24===a[HOUR]&&(0!==a[MINUTE]||0!==a[SECOND]||0!==a[MILLISECOND])?HOUR:a[MINUTE]<0||a[MINUTE]>59?MINUTE:a[SECOND]<0||a[SECOND]>59?SECOND:a[MILLISECOND]<0||a[MILLISECOND]>999?MILLISECOND:-1,getParsingFlags(m)._overflowDayOfYear&&(YEAR>overflow||overflow>DATE)&&(overflow=DATE),getParsingFlags(m).overflow=overflow),m}function warn(msg){utils_hooks__hooks.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+msg)}function deprecate(msg,fn){var firstTime=!0;return extend(function(){return firstTime&&(warn(msg+"\n"+(new Error).stack),firstTime=!1),fn.apply(this,arguments)},fn)}function deprecateSimple(name,msg){deprecations[name]||(warn(msg),deprecations[name]=!0)}function configFromISO(config){var i,l,string=config._i,match=from_string__isoRegex.exec(string);if(match){for(getParsingFlags(config).iso=!0,i=0,l=isoDates.length;l>i;i++)if(isoDates[i][1].exec(string)){config._f=isoDates[i][0];break}for(i=0,l=isoTimes.length;l>i;i++)if(isoTimes[i][1].exec(string)){config._f+=(match[6]||" ")+isoTimes[i][0];break}string.match(matchOffset)&&(config._f+="Z"),configFromStringAndFormat(config)}else config._isValid=!1}function configFromString(config){var matched=aspNetJsonRegex.exec(config._i);return null!==matched?void(config._d=new Date(+matched[1])):(configFromISO(config),void(config._isValid===!1&&(delete config._isValid,utils_hooks__hooks.createFromInputFallback(config))))}function createDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);return 1970>y&&date.setFullYear(y),date}function createUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));return 1970>y&&date.setUTCFullYear(y),date}function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return year%4===0&&year%100!==0||year%400===0}function getIsLeapYear(){return isLeapYear(this.year())}function weekOfYear(mom,firstDayOfWeek,firstDayOfWeekOfYear){var adjustedMoment,end=firstDayOfWeekOfYear-firstDayOfWeek,daysToDayOfWeek=firstDayOfWeekOfYear-mom.day();return daysToDayOfWeek>end&&(daysToDayOfWeek-=7),end-7>daysToDayOfWeek&&(daysToDayOfWeek+=7),adjustedMoment=local__createLocal(mom).add(daysToDayOfWeek,"d"),{week:Math.ceil(adjustedMoment.dayOfYear()/7),year:adjustedMoment.year()}}function localeWeek(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week}function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(input){var week=this.localeData().week(this);return null==input?week:this.add(7*(input-week),"d")}function getSetISOWeek(input){var week=weekOfYear(this,1,4).week;return null==input?week:this.add(7*(input-week),"d")}function dayOfYearFromWeeks(year,week,weekday,firstDayOfWeekOfYear,firstDayOfWeek){var dayOfYear,week1Jan=6+firstDayOfWeek-firstDayOfWeekOfYear,janX=createUTCDate(year,0,1+week1Jan),d=janX.getUTCDay();return firstDayOfWeek>d&&(d+=7),weekday=null!=weekday?1*weekday:firstDayOfWeek,
dayOfYear=1+week1Jan+7*(week-1)-d+weekday,{year:dayOfYear>0?year:year-1,dayOfYear:dayOfYear>0?dayOfYear:daysInYear(year-1)+dayOfYear}}function getSetDayOfYear(input){var dayOfYear=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==input?dayOfYear:this.add(input-dayOfYear,"d")}function defaults(a,b,c){return null!=a?a:null!=b?b:c}function currentDateArray(config){var now=new Date;return config._useUTC?[now.getUTCFullYear(),now.getUTCMonth(),now.getUTCDate()]:[now.getFullYear(),now.getMonth(),now.getDate()]}function configFromArray(config){var i,date,currentDate,yearToUse,input=[];if(!config._d){for(currentDate=currentDateArray(config),config._w&&null==config._a[DATE]&&null==config._a[MONTH]&&dayOfYearFromWeekInfo(config),config._dayOfYear&&(yearToUse=defaults(config._a[YEAR],currentDate[YEAR]),config._dayOfYear>daysInYear(yearToUse)&&(getParsingFlags(config)._overflowDayOfYear=!0),date=createUTCDate(yearToUse,0,config._dayOfYear),config._a[MONTH]=date.getUTCMonth(),config._a[DATE]=date.getUTCDate()),i=0;3>i&&null==config._a[i];++i)config._a[i]=input[i]=currentDate[i];for(;7>i;i++)config._a[i]=input[i]=null==config._a[i]?2===i?1:0:config._a[i];24===config._a[HOUR]&&0===config._a[MINUTE]&&0===config._a[SECOND]&&0===config._a[MILLISECOND]&&(config._nextDay=!0,config._a[HOUR]=0),config._d=(config._useUTC?createUTCDate:createDate).apply(null,input),null!=config._tzm&&config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm),config._nextDay&&(config._a[HOUR]=24)}}function dayOfYearFromWeekInfo(config){var w,weekYear,week,weekday,dow,doy,temp;w=config._w,null!=w.GG||null!=w.W||null!=w.E?(dow=1,doy=4,weekYear=defaults(w.GG,config._a[YEAR],weekOfYear(local__createLocal(),1,4).year),week=defaults(w.W,1),weekday=defaults(w.E,1)):(dow=config._locale._week.dow,doy=config._locale._week.doy,weekYear=defaults(w.gg,config._a[YEAR],weekOfYear(local__createLocal(),dow,doy).year),week=defaults(w.w,1),null!=w.d?(weekday=w.d,dow>weekday&&++week):weekday=null!=w.e?w.e+dow:dow),temp=dayOfYearFromWeeks(weekYear,week,weekday,doy,dow),config._a[YEAR]=temp.year,config._dayOfYear=temp.dayOfYear}function configFromStringAndFormat(config){if(config._f===utils_hooks__hooks.ISO_8601)return void configFromISO(config);config._a=[],getParsingFlags(config).empty=!0;var i,parsedInput,tokens,token,skipped,string=""+config._i,stringLength=string.length,totalParsedInputLength=0;for(tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[],i=0;i<tokens.length;i++)token=tokens[i],parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0],parsedInput&&(skipped=string.substr(0,string.indexOf(parsedInput)),skipped.length>0&&getParsingFlags(config).unusedInput.push(skipped),string=string.slice(string.indexOf(parsedInput)+parsedInput.length),totalParsedInputLength+=parsedInput.length),formatTokenFunctions[token]?(parsedInput?getParsingFlags(config).empty=!1:getParsingFlags(config).unusedTokens.push(token),addTimeToArrayFromToken(token,parsedInput,config)):config._strict&&!parsedInput&&getParsingFlags(config).unusedTokens.push(token);getParsingFlags(config).charsLeftOver=stringLength-totalParsedInputLength,string.length>0&&getParsingFlags(config).unusedInput.push(string),getParsingFlags(config).bigHour===!0&&config._a[HOUR]<=12&&config._a[HOUR]>0&&(getParsingFlags(config).bigHour=void 0),config._a[HOUR]=meridiemFixWrap(config._locale,config._a[HOUR],config._meridiem),configFromArray(config),checkOverflow(config)}function meridiemFixWrap(locale,hour,meridiem){var isPm;return null==meridiem?hour:null!=locale.meridiemHour?locale.meridiemHour(hour,meridiem):null!=locale.isPM?(isPm=locale.isPM(meridiem),isPm&&12>hour&&(hour+=12),isPm||12!==hour||(hour=0),hour):hour}function configFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(0===config._f.length)return getParsingFlags(config).invalidFormat=!0,void(config._d=new Date(0/0));for(i=0;i<config._f.length;i++)currentScore=0,tempConfig=copyConfig({},config),null!=config._useUTC&&(tempConfig._useUTC=config._useUTC),tempConfig._f=config._f[i],configFromStringAndFormat(tempConfig),valid__isValid(tempConfig)&&(currentScore+=getParsingFlags(tempConfig).charsLeftOver,currentScore+=10*getParsingFlags(tempConfig).unusedTokens.length,getParsingFlags(tempConfig).score=currentScore,(null==scoreToBeat||scoreToBeat>currentScore)&&(scoreToBeat=currentScore,bestMoment=tempConfig));extend(config,bestMoment||tempConfig)}function configFromObject(config){if(!config._d){var i=normalizeObjectUnits(config._i);config._a=[i.year,i.month,i.day||i.date,i.hour,i.minute,i.second,i.millisecond],configFromArray(config)}}function createFromConfig(config){var res=new Moment(checkOverflow(prepareConfig(config)));return res._nextDay&&(res.add(1,"d"),res._nextDay=void 0),res}function prepareConfig(config){var input=config._i,format=config._f;return config._locale=config._locale||locale_locales__getLocale(config._l),null===input||void 0===format&&""===input?valid__createInvalid({nullInput:!0}):("string"==typeof input&&(config._i=input=config._locale.preparse(input)),isMoment(input)?new Moment(checkOverflow(input)):(isArray(format)?configFromStringAndArray(config):format?configFromStringAndFormat(config):isDate(input)?config._d=input:configFromInput(config),config))}function configFromInput(config){var input=config._i;void 0===input?config._d=new Date:isDate(input)?config._d=new Date(+input):"string"==typeof input?configFromString(config):isArray(input)?(config._a=map(input.slice(0),function(obj){return parseInt(obj,10)}),configFromArray(config)):"object"==typeof input?configFromObject(config):"number"==typeof input?config._d=new Date(input):utils_hooks__hooks.createFromInputFallback(config)}function createLocalOrUTC(input,format,locale,strict,isUTC){var c={};return"boolean"==typeof locale&&(strict=locale,locale=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=isUTC,c._l=locale,c._i=input,c._f=format,c._strict=strict,createFromConfig(c)}function local__createLocal(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,!1)}function pickBy(fn,moments){var res,i;if(1===moments.length&&isArray(moments[0])&&(moments=moments[0]),!moments.length)return local__createLocal();for(res=moments[0],i=1;i<moments.length;++i)(!moments[i].isValid()||moments[i][fn](res))&&(res=moments[i]);return res}function min(){var args=[].slice.call(arguments,0);return pickBy("isBefore",args)}function max(){var args=[].slice.call(arguments,0);return pickBy("isAfter",args)}function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._milliseconds=+milliseconds+1e3*seconds+6e4*minutes+36e5*hours,this._days=+days+7*weeks,this._months=+months+3*quarters+12*years,this._data={},this._locale=locale_locales__getLocale(),this._bubble()}function isDuration(obj){return obj instanceof Duration}function offset(token,separator){addFormatToken(token,0,0,function(){var offset=this.utcOffset(),sign="+";return 0>offset&&(offset=-offset,sign="-"),sign+zeroFill(~~(offset/60),2)+separator+zeroFill(~~offset%60,2)})}function offsetFromString(string){var matches=(string||"").match(matchOffset)||[],chunk=matches[matches.length-1]||[],parts=(chunk+"").match(chunkOffset)||["-",0,0],minutes=+(60*parts[1])+toInt(parts[2]);return"+"===parts[0]?minutes:-minutes}function cloneWithOffset(input,model){var res,diff;return model._isUTC?(res=model.clone(),diff=(isMoment(input)||isDate(input)?+input:+local__createLocal(input))-+res,res._d.setTime(+res._d+diff),utils_hooks__hooks.updateOffset(res,!1),res):local__createLocal(input).local()}function getDateOffset(m){return 15*-Math.round(m._d.getTimezoneOffset()/15)}function getSetOffset(input,keepLocalTime){var localAdjust,offset=this._offset||0;return null!=input?("string"==typeof input&&(input=offsetFromString(input)),Math.abs(input)<16&&(input=60*input),!this._isUTC&&keepLocalTime&&(localAdjust=getDateOffset(this)),this._offset=input,this._isUTC=!0,null!=localAdjust&&this.add(localAdjust,"m"),offset!==input&&(!keepLocalTime||this._changeInProgress?add_subtract__addSubtract(this,create__createDuration(input-offset,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,utils_hooks__hooks.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?offset:getDateOffset(this)}function getSetZone(input,keepLocalTime){return null!=input?("string"!=typeof input&&(input=-input),this.utcOffset(input,keepLocalTime),this):-this.utcOffset()}function setOffsetToUTC(keepLocalTime){return this.utcOffset(0,keepLocalTime)}function setOffsetToLocal(keepLocalTime){return this._isUTC&&(this.utcOffset(0,keepLocalTime),this._isUTC=!1,keepLocalTime&&this.subtract(getDateOffset(this),"m")),this}function setOffsetToParsedOffset(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(offsetFromString(this._i)),this}function hasAlignedHourOffset(input){return input=input?local__createLocal(input).utcOffset():0,(this.utcOffset()-input)%60===0}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var c={};if(copyConfig(c,this),c=prepareConfig(c),c._a){var other=c._isUTC?create_utc__createUTC(c._a):local__createLocal(c._a);this._isDSTShifted=this.isValid()&&compareArrays(c._a,other.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function isLocal(){return!this._isUTC}function isUtcOffset(){return this._isUTC}function isUtc(){return this._isUTC&&0===this._offset}function create__createDuration(input,key){var sign,ret,diffRes,duration=input,match=null;return isDuration(input)?duration={ms:input._milliseconds,d:input._days,M:input._months}:"number"==typeof input?(duration={},key?duration[key]=input:duration.milliseconds=input):(match=aspNetRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(match[MILLISECOND])*sign}):(match=create__isoRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:parseIso(match[2],sign),M:parseIso(match[3],sign),d:parseIso(match[4],sign),h:parseIso(match[5],sign),m:parseIso(match[6],sign),s:parseIso(match[7],sign),w:parseIso(match[8],sign)}):null==duration?duration={}:"object"==typeof duration&&("from"in duration||"to"in duration)&&(diffRes=momentsDifference(local__createLocal(duration.from),local__createLocal(duration.to)),duration={},duration.ms=diffRes.milliseconds,duration.M=diffRes.months),ret=new Duration(duration),isDuration(input)&&hasOwnProp(input,"_locale")&&(ret._locale=input._locale),ret}function parseIso(inp,sign){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign}function positiveMomentsDifference(base,other){var res={milliseconds:0,months:0};return res.months=other.month()-base.month()+12*(other.year()-base.year()),base.clone().add(res.months,"M").isAfter(other)&&--res.months,res.milliseconds=+other-+base.clone().add(res.months,"M"),res}function momentsDifference(base,other){var res;return other=cloneWithOffset(other,base),base.isBefore(other)?res=positiveMomentsDifference(base,other):(res=positiveMomentsDifference(other,base),res.milliseconds=-res.milliseconds,res.months=-res.months),res}function createAdder(direction,name){return function(val,period){var dur,tmp;return null===period||isNaN(+period)||(deprecateSimple(name,"moment()."+name+"(period, number) is deprecated. Please use moment()."+name+"(number, period)."),tmp=val,val=period,period=tmp),val="string"==typeof val?+val:val,dur=create__createDuration(val,period),add_subtract__addSubtract(this,dur,direction),this}}function add_subtract__addSubtract(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=duration._days,months=duration._months;updateOffset=null==updateOffset?!0:updateOffset,milliseconds&&mom._d.setTime(+mom._d+milliseconds*isAdding),days&&get_set__set(mom,"Date",get_set__get(mom,"Date")+days*isAdding),months&&setMonth(mom,get_set__get(mom,"Month")+months*isAdding),updateOffset&&utils_hooks__hooks.updateOffset(mom,days||months)}function moment_calendar__calendar(time,formats){var now=time||local__createLocal(),sod=cloneWithOffset(now,this).startOf("day"),diff=this.diff(sod,"days",!0),format=-6>diff?"sameElse":-1>diff?"lastWeek":0>diff?"lastDay":1>diff?"sameDay":2>diff?"nextDay":7>diff?"nextWeek":"sameElse";return this.format(formats&&formats[format]||this.localeData().calendar(format,this,local__createLocal(now)))}function clone(){return new Moment(this)}function isAfter(input,units){var inputMs;return units=normalizeUnits("undefined"!=typeof units?units:"millisecond"),"millisecond"===units?(input=isMoment(input)?input:local__createLocal(input),+this>+input):(inputMs=isMoment(input)?+input:+local__createLocal(input),inputMs<+this.clone().startOf(units))}function isBefore(input,units){var inputMs;return units=normalizeUnits("undefined"!=typeof units?units:"millisecond"),"millisecond"===units?(input=isMoment(input)?input:local__createLocal(input),+input>+this):(inputMs=isMoment(input)?+input:+local__createLocal(input),+this.clone().endOf(units)<inputMs)}function isBetween(from,to,units){return this.isAfter(from,units)&&this.isBefore(to,units)}function isSame(input,units){var inputMs;return units=normalizeUnits(units||"millisecond"),"millisecond"===units?(input=isMoment(input)?input:local__createLocal(input),+this===+input):(inputMs=+local__createLocal(input),+this.clone().startOf(units)<=inputMs&&inputMs<=+this.clone().endOf(units))}function diff(input,units,asFloat){var delta,output,that=cloneWithOffset(input,this),zoneDelta=6e4*(that.utcOffset()-this.utcOffset());return units=normalizeUnits(units),"year"===units||"month"===units||"quarter"===units?(output=monthDiff(this,that),"quarter"===units?output/=3:"year"===units&&(output/=12)):(delta=this-that,output="second"===units?delta/1e3:"minute"===units?delta/6e4:"hour"===units?delta/36e5:"day"===units?(delta-zoneDelta)/864e5:"week"===units?(delta-zoneDelta)/6048e5:delta),asFloat?output:absFloor(output)}function monthDiff(a,b){var anchor2,adjust,wholeMonthDiff=12*(b.year()-a.year())+(b.month()-a.month()),anchor=a.clone().add(wholeMonthDiff,"months");return 0>b-anchor?(anchor2=a.clone().add(wholeMonthDiff-1,"months"),adjust=(b-anchor)/(anchor-anchor2)):(anchor2=a.clone().add(wholeMonthDiff+1,"months"),adjust=(b-anchor)/(anchor2-anchor)),-(wholeMonthDiff+adjust)}function toString(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function moment_format__toISOString(){var m=this.clone().utc();return 0<m.year()&&m.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():formatMoment(m,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):formatMoment(m,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function format(inputString){var output=formatMoment(this,inputString||utils_hooks__hooks.defaultFormat);return this.localeData().postformat(output)}function from(time,withoutSuffix){return this.isValid()?create__createDuration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()}function fromNow(withoutSuffix){return this.from(local__createLocal(),withoutSuffix)}function to(time,withoutSuffix){return this.isValid()?create__createDuration({from:this,to:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()}function toNow(withoutSuffix){return this.to(local__createLocal(),withoutSuffix)}function locale(key){var newLocaleData;return void 0===key?this._locale._abbr:(newLocaleData=locale_locales__getLocale(key),null!=newLocaleData&&(this._locale=newLocaleData),this)}function localeData(){return this._locale}function startOf(units){switch(units=normalizeUnits(units)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===units&&this.weekday(0),"isoWeek"===units&&this.isoWeekday(1),"quarter"===units&&this.month(3*Math.floor(this.month()/3)),this}function endOf(units){return units=normalizeUnits(units),void 0===units||"millisecond"===units?this:this.startOf(units).add(1,"isoWeek"===units?"week":units).subtract(1,"ms")}function to_type__valueOf(){return+this._d-6e4*(this._offset||0)}function unix(){return Math.floor(+this/1e3)}function toDate(){return this._offset?new Date(+this):this._d}function toArray(){var m=this;return[m.year(),m.month(),m.date(),m.hour(),m.minute(),m.second(),m.millisecond()]}function toObject(){var m=this;return{years:m.year(),months:m.month(),date:m.date(),hours:m.hours(),minutes:m.minutes(),seconds:m.seconds(),milliseconds:m.milliseconds()}}function moment_valid__isValid(){return valid__isValid(this)}function parsingFlags(){return extend({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function addWeekYearFormatToken(token,getter){addFormatToken(0,[token,token.length],0,getter)}function weeksInYear(year,dow,doy){return weekOfYear(local__createLocal([year,11,31+dow-doy]),dow,doy).week}function getSetWeekYear(input){var year=weekOfYear(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==input?year:this.add(input-year,"y")}function getSetISOWeekYear(input){var year=weekOfYear(this,1,4).year;return null==input?year:this.add(input-year,"y")}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getWeeksInYear(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)}function getSetQuarter(input){return null==input?Math.ceil((this.month()+1)/3):this.month(3*(input-1)+this.month()%3)}function parseWeekday(input,locale){return"string"!=typeof input?input:isNaN(input)?(input=locale.weekdaysParse(input),"number"==typeof input?input:null):parseInt(input,10)}function localeWeekdays(m){return this._weekdays[m.day()]}function localeWeekdaysShort(m){return this._weekdaysShort[m.day()]}function localeWeekdaysMin(m){return this._weekdaysMin[m.day()]}function localeWeekdaysParse(weekdayName){var i,mom,regex;for(this._weekdaysParse=this._weekdaysParse||[],i=0;7>i;i++)if(this._weekdaysParse[i]||(mom=local__createLocal([2e3,1]).day(i),regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,""),this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i")),this._weekdaysParse[i].test(weekdayName))return i}function getSetDayOfWeek(input){var day=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=input?(input=parseWeekday(input,this.localeData()),this.add(input-day,"d")):day}function getSetLocaleDayOfWeek(input){var weekday=(this.day()+7-this.localeData()._week.dow)%7;return null==input?weekday:this.add(input-weekday,"d")}function getSetISODayOfWeek(input){return null==input?this.day()||7:this.day(this.day()%7?input:input-7)}function meridiem(token,lowercase){addFormatToken(token,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),lowercase)})}function matchMeridiem(isStrict,locale){return locale._meridiemParse}function localeIsPM(input){return"p"===(input+"").toLowerCase().charAt(0)}function localeMeridiem(hours,minutes,isLower){return hours>11?isLower?"pm":"PM":isLower?"am":"AM"}function parseMs(input,array){array[MILLISECOND]=toInt(1e3*("0."+input))}function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}function moment__createUnix(input){return local__createLocal(1e3*input)}function moment__createInZone(){return local__createLocal.apply(null,arguments).parseZone()}function locale_calendar__calendar(key,mom,now){var output=this._calendar[key];return"function"==typeof output?output.call(mom,now):output}function longDateFormat(key){var format=this._longDateFormat[key],formatUpper=this._longDateFormat[key.toUpperCase()];return format||!formatUpper?format:(this._longDateFormat[key]=formatUpper.replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)}),this._longDateFormat[key])}function invalidDate(){return this._invalidDate}function ordinal(number){return this._ordinal.replace("%d",number)}function preParsePostFormat(string){return string}function relative__relativeTime(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return"function"==typeof output?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)}function pastFuture(diff,output){var format=this._relativeTime[diff>0?"future":"past"];return"function"==typeof format?format(output):format.replace(/%s/i,output)}function locale_set__set(config){var prop,i;for(i in config)prop=config[i],"function"==typeof prop?this[i]=prop:this["_"+i]=prop;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function lists__get(format,index,field,setter){var locale=locale_locales__getLocale(),utc=create_utc__createUTC().set(setter,index);return locale[field](utc,format)}function list(format,index,field,count,setter){if("number"==typeof format&&(index=format,format=void 0),format=format||"",null!=index)return lists__get(format,index,field,setter);var i,out=[];for(i=0;count>i;i++)out[i]=lists__get(format,i,field,setter);return out}function lists__listMonths(format,index){return list(format,index,"months",12,"month")}function lists__listMonthsShort(format,index){return list(format,index,"monthsShort",12,"month")}function lists__listWeekdays(format,index){return list(format,index,"weekdays",7,"day")}function lists__listWeekdaysShort(format,index){return list(format,index,"weekdaysShort",7,"day")}function lists__listWeekdaysMin(format,index){return list(format,index,"weekdaysMin",7,"day")}function duration_abs__abs(){var data=this._data;return this._milliseconds=mathAbs(this._milliseconds),this._days=mathAbs(this._days),this._months=mathAbs(this._months),data.milliseconds=mathAbs(data.milliseconds),data.seconds=mathAbs(data.seconds),data.minutes=mathAbs(data.minutes),data.hours=mathAbs(data.hours),data.months=mathAbs(data.months),data.years=mathAbs(data.years),this}function duration_add_subtract__addSubtract(duration,input,value,direction){var other=create__createDuration(input,value);return duration._milliseconds+=direction*other._milliseconds,duration._days+=direction*other._days,duration._months+=direction*other._months,duration._bubble()}function duration_add_subtract__add(input,value){return duration_add_subtract__addSubtract(this,input,value,1)}function duration_add_subtract__subtract(input,value){return duration_add_subtract__addSubtract(this,input,value,-1)}function absCeil(number){return 0>number?Math.floor(number):Math.ceil(number)}function bubble(){var seconds,minutes,hours,years,monthsFromDays,milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data;return milliseconds>=0&&days>=0&&months>=0||0>=milliseconds&&0>=days&&0>=months||(milliseconds+=864e5*absCeil(monthsToDays(months)+days),days=0,months=0),data.milliseconds=milliseconds%1e3,seconds=absFloor(milliseconds/1e3),data.seconds=seconds%60,minutes=absFloor(seconds/60),data.minutes=minutes%60,hours=absFloor(minutes/60),data.hours=hours%24,days+=absFloor(hours/24),monthsFromDays=absFloor(daysToMonths(days)),months+=monthsFromDays,days-=absCeil(monthsToDays(monthsFromDays)),years=absFloor(months/12),months%=12,data.days=days,data.months=months,data.years=years,this}function daysToMonths(days){return 4800*days/146097}function monthsToDays(months){return 146097*months/4800}function as(units){var days,months,milliseconds=this._milliseconds;if(units=normalizeUnits(units),"month"===units||"year"===units)return days=this._days+milliseconds/864e5,months=this._months+daysToMonths(days),"month"===units?months:months/12;switch(days=this._days+Math.round(monthsToDays(this._months)),units){case"week":return days/7+milliseconds/6048e5;case"day":return days+milliseconds/864e5;case"hour":return 24*days+milliseconds/36e5;case"minute":return 1440*days+milliseconds/6e4;case"second":return 86400*days+milliseconds/1e3;case"millisecond":return Math.floor(864e5*days)+milliseconds;default:throw new Error("Unknown unit "+units)}}function duration_as__valueOf(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*toInt(this._months/12)}function makeAs(alias){return function(){return this.as(alias)}}function duration_get__get(units){return units=normalizeUnits(units),this[units+"s"]()}function makeGetter(name){return function(){return this._data[name]}}function weeks(){return absFloor(this.days()/7)}function substituteTimeAgo(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}function duration_humanize__relativeTime(posNegDuration,withoutSuffix,locale){var duration=create__createDuration(posNegDuration).abs(),seconds=round(duration.as("s")),minutes=round(duration.as("m")),hours=round(duration.as("h")),days=round(duration.as("d")),months=round(duration.as("M")),years=round(duration.as("y")),a=seconds<thresholds.s&&["s",seconds]||1===minutes&&["m"]||minutes<thresholds.m&&["mm",minutes]||1===hours&&["h"]||hours<thresholds.h&&["hh",hours]||1===days&&["d"]||days<thresholds.d&&["dd",days]||1===months&&["M"]||months<thresholds.M&&["MM",months]||1===years&&["y"]||["yy",years];return a[2]=withoutSuffix,a[3]=+posNegDuration>0,a[4]=locale,substituteTimeAgo.apply(null,a)}function duration_humanize__getSetRelativeTimeThreshold(threshold,limit){return void 0===thresholds[threshold]?!1:void 0===limit?thresholds[threshold]:(thresholds[threshold]=limit,!0)}function humanize(withSuffix){var locale=this.localeData(),output=duration_humanize__relativeTime(this,!withSuffix,locale);return withSuffix&&(output=locale.pastFuture(+this,output)),locale.postformat(output)}function iso_string__toISOString(){var minutes,hours,years,seconds=iso_string__abs(this._milliseconds)/1e3,days=iso_string__abs(this._days),months=iso_string__abs(this._months);minutes=absFloor(seconds/60),hours=absFloor(minutes/60),seconds%=60,minutes%=60,years=absFloor(months/12),months%=12;var Y=years,M=months,D=days,h=hours,m=minutes,s=seconds,total=this.asSeconds();return total?(0>total?"-":"")+"P"+(Y?Y+"Y":"")+(M?M+"M":"")+(D?D+"D":"")+(h||m||s?"T":"")+(h?h+"H":"")+(m?m+"M":"")+(s?s+"S":""):"P0D"}var hookCallback,globalLocale,momentProperties=utils_hooks__hooks.momentProperties=[],updateInProgress=!1,locales={},aliases={},formattingTokens=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={},match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchTimestamp=/[+-]?\d+(\.\d{1,3})?/,matchWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,regexes={},tokens={},YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6;addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1}),addFormatToken("MMM",0,0,function(format){return this.localeData().monthsShort(this,format)}),addFormatToken("MMMM",0,0,function(format){return this.localeData().months(this,format)}),addUnitAlias("month","M"),addRegexToken("M",match1to2),addRegexToken("MM",match1to2,match2),addRegexToken("MMM",matchWord),addRegexToken("MMMM",matchWord),addParseToken(["M","MM"],function(input,array){array[MONTH]=toInt(input)-1}),addParseToken(["MMM","MMMM"],function(input,array,config,token){var month=config._locale.monthsParse(input,token,config._strict);null!=month?array[MONTH]=month:getParsingFlags(config).invalidMonth=input});var defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),deprecations={};utils_hooks__hooks.suppressDeprecationWarnings=!1;var from_string__isoRegex=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],isoTimes=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],aspNetJsonRegex=/^\/?Date\((\-?\d+)/i;utils_hooks__hooks.createFromInputFallback=deprecate("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(config){config._d=new Date(config._i+(config._useUTC?" UTC":""))}),addFormatToken(0,["YY",2],0,function(){return this.year()%100}),addFormatToken(0,["YYYY",4],0,"year"),addFormatToken(0,["YYYYY",5],0,"year"),addFormatToken(0,["YYYYYY",6,!0],0,"year"),addUnitAlias("year","y"),addRegexToken("Y",matchSigned),addRegexToken("YY",match1to2,match2),addRegexToken("YYYY",match1to4,match4),addRegexToken("YYYYY",match1to6,match6),addRegexToken("YYYYYY",match1to6,match6),addParseToken(["YYYYY","YYYYYY"],YEAR),addParseToken("YYYY",function(input,array){array[YEAR]=2===input.length?utils_hooks__hooks.parseTwoDigitYear(input):toInt(input)}),addParseToken("YY",function(input,array){array[YEAR]=utils_hooks__hooks.parseTwoDigitYear(input)}),utils_hooks__hooks.parseTwoDigitYear=function(input){return toInt(input)+(toInt(input)>68?1900:2e3)};var getSetYear=makeGetSet("FullYear",!1);addFormatToken("w",["ww",2],"wo","week"),addFormatToken("W",["WW",2],"Wo","isoWeek"),addUnitAlias("week","w"),addUnitAlias("isoWeek","W"),addRegexToken("w",match1to2),addRegexToken("ww",match1to2,match2),addRegexToken("W",match1to2),addRegexToken("WW",match1to2,match2),addWeekParseToken(["w","ww","W","WW"],function(input,week,config,token){week[token.substr(0,1)]=toInt(input)});var defaultLocaleWeek={dow:0,doy:6};addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear"),addUnitAlias("dayOfYear","DDD"),addRegexToken("DDD",match1to3),addRegexToken("DDDD",match3),addParseToken(["DDD","DDDD"],function(input,array,config){config._dayOfYear=toInt(input)}),utils_hooks__hooks.ISO_8601=function(){};var prototypeMin=deprecate("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var other=local__createLocal.apply(null,arguments);return this>other?this:other}),prototypeMax=deprecate("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var other=local__createLocal.apply(null,arguments);return other>this?this:other});offset("Z",":"),offset("ZZ",""),addRegexToken("Z",matchOffset),addRegexToken("ZZ",matchOffset),addParseToken(["Z","ZZ"],function(input,array,config){config._useUTC=!0,config._tzm=offsetFromString(input)});var chunkOffset=/([\+\-]|\d\d)/gi;utils_hooks__hooks.updateOffset=function(){};var aspNetRegex=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,create__isoRegex=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;create__createDuration.fn=Duration.prototype;var add_subtract__add=createAdder(1,"add"),add_subtract__subtract=createAdder(-1,"subtract");

utils_hooks__hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(key){return void 0===key?this.localeData():this.locale(key)});addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100}),addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100}),addWeekYearFormatToken("gggg","weekYear"),addWeekYearFormatToken("ggggg","weekYear"),addWeekYearFormatToken("GGGG","isoWeekYear"),addWeekYearFormatToken("GGGGG","isoWeekYear"),addUnitAlias("weekYear","gg"),addUnitAlias("isoWeekYear","GG"),addRegexToken("G",matchSigned),addRegexToken("g",matchSigned),addRegexToken("GG",match1to2,match2),addRegexToken("gg",match1to2,match2),addRegexToken("GGGG",match1to4,match4),addRegexToken("gggg",match1to4,match4),addRegexToken("GGGGG",match1to6,match6),addRegexToken("ggggg",match1to6,match6),addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(input,week,config,token){week[token.substr(0,2)]=toInt(input)}),addWeekParseToken(["gg","GG"],function(input,week,config,token){week[token]=utils_hooks__hooks.parseTwoDigitYear(input)}),addFormatToken("Q",0,0,"quarter"),addUnitAlias("quarter","Q"),addRegexToken("Q",match1),addParseToken("Q",function(input,array){array[MONTH]=3*(toInt(input)-1)}),addFormatToken("D",["DD",2],"Do","date"),addUnitAlias("date","D"),addRegexToken("D",match1to2),addRegexToken("DD",match1to2,match2),addRegexToken("Do",function(isStrict,locale){return isStrict?locale._ordinalParse:locale._ordinalParseLenient}),addParseToken(["D","DD"],DATE),addParseToken("Do",function(input,array){array[DATE]=toInt(input.match(match1to2)[0],10)});var getSetDayOfMonth=makeGetSet("Date",!0);addFormatToken("d",0,"do","day"),addFormatToken("dd",0,0,function(format){return this.localeData().weekdaysMin(this,format)}),addFormatToken("ddd",0,0,function(format){return this.localeData().weekdaysShort(this,format)}),addFormatToken("dddd",0,0,function(format){return this.localeData().weekdays(this,format)}),addFormatToken("e",0,0,"weekday"),addFormatToken("E",0,0,"isoWeekday"),addUnitAlias("day","d"),addUnitAlias("weekday","e"),addUnitAlias("isoWeekday","E"),addRegexToken("d",match1to2),addRegexToken("e",match1to2),addRegexToken("E",match1to2),addRegexToken("dd",matchWord),addRegexToken("ddd",matchWord),addRegexToken("dddd",matchWord),addWeekParseToken(["dd","ddd","dddd"],function(input,week,config){var weekday=config._locale.weekdaysParse(input);null!=weekday?week.d=weekday:getParsingFlags(config).invalidWeekday=input}),addWeekParseToken(["d","e","E"],function(input,week,config,token){week[token]=toInt(input)});var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_");addFormatToken("H",["HH",2],0,"hour"),addFormatToken("h",["hh",2],0,function(){return this.hours()%12||12}),meridiem("a",!0),meridiem("A",!1),addUnitAlias("hour","h"),addRegexToken("a",matchMeridiem),addRegexToken("A",matchMeridiem),addRegexToken("H",match1to2),addRegexToken("h",match1to2),addRegexToken("HH",match1to2,match2),addRegexToken("hh",match1to2,match2),addParseToken(["H","HH"],HOUR),addParseToken(["a","A"],function(input,array,config){config._isPm=config._locale.isPM(input),config._meridiem=input}),addParseToken(["h","hh"],function(input,array,config){array[HOUR]=toInt(input),getParsingFlags(config).bigHour=!0});var defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i,getSetHour=makeGetSet("Hours",!0);addFormatToken("m",["mm",2],0,"minute"),addUnitAlias("minute","m"),addRegexToken("m",match1to2),addRegexToken("mm",match1to2,match2),addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second"),addUnitAlias("second","s"),addRegexToken("s",match1to2),addRegexToken("ss",match1to2,match2),addParseToken(["s","ss"],SECOND);var getSetSecond=makeGetSet("Seconds",!1);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)}),addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),addFormatToken(0,["SSS",3],0,"millisecond"),addFormatToken(0,["SSSS",4],0,function(){return 10*this.millisecond()}),addFormatToken(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),addFormatToken(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),addFormatToken(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),addFormatToken(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),addFormatToken(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),addUnitAlias("millisecond","ms"),addRegexToken("S",match1to3,match1),addRegexToken("SS",match1to3,match2),addRegexToken("SSS",match1to3,match3);var token;for(token="SSSS";token.length<=9;token+="S")addRegexToken(token,matchUnsigned);for(token="S";token.length<=9;token+="S")addParseToken(token,parseMs);var getSetMillisecond=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr"),addFormatToken("zz",0,0,"zoneName");var momentPrototype__proto=Moment.prototype;momentPrototype__proto.add=add_subtract__add,momentPrototype__proto.calendar=moment_calendar__calendar,momentPrototype__proto.clone=clone,momentPrototype__proto.diff=diff,momentPrototype__proto.endOf=endOf,momentPrototype__proto.format=format,momentPrototype__proto.from=from,momentPrototype__proto.fromNow=fromNow,momentPrototype__proto.to=to,momentPrototype__proto.toNow=toNow,momentPrototype__proto.get=getSet,momentPrototype__proto.invalidAt=invalidAt,momentPrototype__proto.isAfter=isAfter,momentPrototype__proto.isBefore=isBefore,momentPrototype__proto.isBetween=isBetween,momentPrototype__proto.isSame=isSame,momentPrototype__proto.isValid=moment_valid__isValid,momentPrototype__proto.lang=lang,momentPrototype__proto.locale=locale,momentPrototype__proto.localeData=localeData,momentPrototype__proto.max=prototypeMax,momentPrototype__proto.min=prototypeMin,momentPrototype__proto.parsingFlags=parsingFlags,momentPrototype__proto.set=getSet,momentPrototype__proto.startOf=startOf,momentPrototype__proto.subtract=add_subtract__subtract,momentPrototype__proto.toArray=toArray,momentPrototype__proto.toObject=toObject,momentPrototype__proto.toDate=toDate,momentPrototype__proto.toISOString=moment_format__toISOString,momentPrototype__proto.toJSON=moment_format__toISOString,momentPrototype__proto.toString=toString,momentPrototype__proto.unix=unix,momentPrototype__proto.valueOf=to_type__valueOf,momentPrototype__proto.year=getSetYear,momentPrototype__proto.isLeapYear=getIsLeapYear,momentPrototype__proto.weekYear=getSetWeekYear,momentPrototype__proto.isoWeekYear=getSetISOWeekYear,momentPrototype__proto.quarter=momentPrototype__proto.quarters=getSetQuarter,momentPrototype__proto.month=getSetMonth,momentPrototype__proto.daysInMonth=getDaysInMonth,momentPrototype__proto.week=momentPrototype__proto.weeks=getSetWeek,momentPrototype__proto.isoWeek=momentPrototype__proto.isoWeeks=getSetISOWeek,momentPrototype__proto.weeksInYear=getWeeksInYear,momentPrototype__proto.isoWeeksInYear=getISOWeeksInYear,momentPrototype__proto.date=getSetDayOfMonth,momentPrototype__proto.day=momentPrototype__proto.days=getSetDayOfWeek,momentPrototype__proto.weekday=getSetLocaleDayOfWeek,momentPrototype__proto.isoWeekday=getSetISODayOfWeek,momentPrototype__proto.dayOfYear=getSetDayOfYear,momentPrototype__proto.hour=momentPrototype__proto.hours=getSetHour,momentPrototype__proto.minute=momentPrototype__proto.minutes=getSetMinute,momentPrototype__proto.second=momentPrototype__proto.seconds=getSetSecond,momentPrototype__proto.millisecond=momentPrototype__proto.milliseconds=getSetMillisecond,momentPrototype__proto.utcOffset=getSetOffset,momentPrototype__proto.utc=setOffsetToUTC,momentPrototype__proto.local=setOffsetToLocal,momentPrototype__proto.parseZone=setOffsetToParsedOffset,momentPrototype__proto.hasAlignedHourOffset=hasAlignedHourOffset,momentPrototype__proto.isDST=isDaylightSavingTime,momentPrototype__proto.isDSTShifted=isDaylightSavingTimeShifted,momentPrototype__proto.isLocal=isLocal,momentPrototype__proto.isUtcOffset=isUtcOffset,momentPrototype__proto.isUtc=isUtc,momentPrototype__proto.isUTC=isUtc,momentPrototype__proto.zoneAbbr=getZoneAbbr,momentPrototype__proto.zoneName=getZoneName,momentPrototype__proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth),momentPrototype__proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth),momentPrototype__proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear),momentPrototype__proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",getSetZone);var momentPrototype=momentPrototype__proto,defaultCalendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},defaultLongDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},defaultInvalidDate="Invalid date",defaultOrdinal="%d",defaultOrdinalParse=/\d{1,2}/,defaultRelativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},prototype__proto=Locale.prototype;prototype__proto._calendar=defaultCalendar,prototype__proto.calendar=locale_calendar__calendar,prototype__proto._longDateFormat=defaultLongDateFormat,prototype__proto.longDateFormat=longDateFormat,prototype__proto._invalidDate=defaultInvalidDate,prototype__proto.invalidDate=invalidDate,prototype__proto._ordinal=defaultOrdinal,prototype__proto.ordinal=ordinal,prototype__proto._ordinalParse=defaultOrdinalParse,prototype__proto.preparse=preParsePostFormat,prototype__proto.postformat=preParsePostFormat,prototype__proto._relativeTime=defaultRelativeTime,prototype__proto.relativeTime=relative__relativeTime,prototype__proto.pastFuture=pastFuture,prototype__proto.set=locale_set__set,prototype__proto.months=localeMonths,prototype__proto._months=defaultLocaleMonths,prototype__proto.monthsShort=localeMonthsShort,prototype__proto._monthsShort=defaultLocaleMonthsShort,prototype__proto.monthsParse=localeMonthsParse,prototype__proto.week=localeWeek,prototype__proto._week=defaultLocaleWeek,prototype__proto.firstDayOfYear=localeFirstDayOfYear,prototype__proto.firstDayOfWeek=localeFirstDayOfWeek,prototype__proto.weekdays=localeWeekdays,prototype__proto._weekdays=defaultLocaleWeekdays,prototype__proto.weekdaysMin=localeWeekdaysMin,prototype__proto._weekdaysMin=defaultLocaleWeekdaysMin,prototype__proto.weekdaysShort=localeWeekdaysShort,prototype__proto._weekdaysShort=defaultLocaleWeekdaysShort,prototype__proto.weekdaysParse=localeWeekdaysParse,prototype__proto.isPM=localeIsPM,prototype__proto._meridiemParse=defaultLocaleMeridiemParse,prototype__proto.meridiem=localeMeridiem,locale_locales__getSetGlobalLocale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){var b=number%10,output=1===toInt(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return number+output}}),utils_hooks__hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",locale_locales__getSetGlobalLocale),utils_hooks__hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",locale_locales__getLocale);var mathAbs=Math.abs,asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asYears=makeAs("y"),milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days=makeGetter("days"),months=makeGetter("months"),years=makeGetter("years"),round=Math.round,thresholds={s:45,m:45,h:22,d:26,M:11},iso_string__abs=Math.abs,duration_prototype__proto=Duration.prototype;duration_prototype__proto.abs=duration_abs__abs,duration_prototype__proto.add=duration_add_subtract__add,duration_prototype__proto.subtract=duration_add_subtract__subtract,duration_prototype__proto.as=as,duration_prototype__proto.asMilliseconds=asMilliseconds,duration_prototype__proto.asSeconds=asSeconds,duration_prototype__proto.asMinutes=asMinutes,duration_prototype__proto.asHours=asHours,duration_prototype__proto.asDays=asDays,duration_prototype__proto.asWeeks=asWeeks,duration_prototype__proto.asMonths=asMonths,duration_prototype__proto.asYears=asYears,duration_prototype__proto.valueOf=duration_as__valueOf,duration_prototype__proto._bubble=bubble,duration_prototype__proto.get=duration_get__get,duration_prototype__proto.milliseconds=milliseconds,duration_prototype__proto.seconds=seconds,duration_prototype__proto.minutes=minutes,duration_prototype__proto.hours=hours,duration_prototype__proto.days=days,duration_prototype__proto.weeks=weeks,duration_prototype__proto.months=months,duration_prototype__proto.years=years,duration_prototype__proto.humanize=humanize,duration_prototype__proto.toISOString=iso_string__toISOString,duration_prototype__proto.toString=iso_string__toISOString,duration_prototype__proto.toJSON=iso_string__toISOString,duration_prototype__proto.locale=locale,duration_prototype__proto.localeData=localeData,duration_prototype__proto.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",iso_string__toISOString),duration_prototype__proto.lang=lang,addFormatToken("X",0,0,"unix"),addFormatToken("x",0,0,"valueOf"),addRegexToken("x",matchSigned),addRegexToken("X",matchTimestamp),addParseToken("X",function(input,array,config){config._d=new Date(1e3*parseFloat(input,10))}),addParseToken("x",function(input,array,config){config._d=new Date(toInt(input))}),utils_hooks__hooks.version="2.10.6",setHookCallback(local__createLocal),utils_hooks__hooks.fn=momentPrototype,utils_hooks__hooks.min=min,utils_hooks__hooks.max=max,utils_hooks__hooks.utc=create_utc__createUTC,utils_hooks__hooks.unix=moment__createUnix,utils_hooks__hooks.months=lists__listMonths,utils_hooks__hooks.isDate=isDate,utils_hooks__hooks.locale=locale_locales__getSetGlobalLocale,utils_hooks__hooks.invalid=valid__createInvalid,utils_hooks__hooks.duration=create__createDuration,utils_hooks__hooks.isMoment=isMoment,utils_hooks__hooks.weekdays=lists__listWeekdays,utils_hooks__hooks.parseZone=moment__createInZone,utils_hooks__hooks.localeData=locale_locales__getLocale,utils_hooks__hooks.isDuration=isDuration,utils_hooks__hooks.monthsShort=lists__listMonthsShort,utils_hooks__hooks.weekdaysMin=lists__listWeekdaysMin,utils_hooks__hooks.defineLocale=defineLocale,utils_hooks__hooks.weekdaysShort=lists__listWeekdaysShort,utils_hooks__hooks.normalizeUnits=normalizeUnits,utils_hooks__hooks.relativeTimeThreshold=duration_humanize__getSetRelativeTimeThreshold;var _moment=utils_hooks__hooks;return _moment})},{}],260:[function(require,module,exports){(function(global){var requestAnimFrame=function(){return global.requestAnimationFrame||global.webkitRequestAnimationFrame||global.mozRequestAnimationFrame||function(callback){global.setTimeout(callback,1e3/60)}}(),scrollToY=function(scrollTargetY,speed,easing){function tick(){currentTime+=1/60;var p=currentTime/time,t=easingEquations[easing](p);1>p?(requestAnimFrame(tick),global.scrollTo(0,scrollY+(scrollTargetY-scrollY)*t)):global.scrollTo(0,scrollTargetY)}var scrollY=global.scrollY,currentTime=0;scrollTargetY=scrollTargetY||0,speed=speed||2e3,easing=easing||"easeOutSine";var time=Math.max(.1,Math.min(Math.abs(scrollY-scrollTargetY)/speed,.8)),easingEquations=(Math.PI/2,{easeOutSine:function(pos){return Math.sin(pos*(Math.PI/2))},easeInOutSine:function(pos){return-.5*(Math.cos(Math.PI*pos)-1)},easeInOutQuint:function(pos){return(pos/=.5)<1?.5*Math.pow(pos,5):.5*(Math.pow(pos-2,5)+2)}});tick()};module.exports=scrollToY}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[138]);
//# sourceMappingURL=maps/index.js.map